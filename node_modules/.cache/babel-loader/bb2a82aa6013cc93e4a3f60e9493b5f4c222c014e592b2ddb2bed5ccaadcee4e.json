{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport { createCustomIcon, createBrandLogo } from '../utils/iconHelpers';\nconst IconMarkersLayer = ({\n  markers,\n  selectedRegion\n}) => {\n  _s();\n  const map = useMap();\n  const markersRef = useRef({});\n  const updateInProgressRef = useRef(false);\n  const [showingAssociated, setShowingAssociated] = useState(false);\n  const [associatedIds, setAssociatedIds] = useState([]);\n  const [baseCompData, setBaseCompData] = useState([]);\n\n  // Cargar base_comp\n  useEffect(() => {\n    const loadBaseComp = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/base_comp`);\n        const data = await response.json();\n        console.log('✅ Base comp cargada:', data);\n        setBaseCompData(data.base_comp || data || []);\n      } catch (error) {\n        console.error('❌ Error:', error);\n        setBaseCompData([]);\n      }\n    };\n    loadBaseComp();\n  }, []);\n  const makeDraggable = useCallback(popup => {\n    if (!map || !popup || !popup._container) return;\n    try {\n      const pos = map.latLngToLayerPoint(popup.getLatLng());\n      L.DomUtil.setPosition(popup._wrapper.parentNode, pos);\n      const draggable = new L.Draggable(popup._container, popup._wrapper);\n      draggable.enable();\n    } catch (error) {\n      console.error('Error draggable:', error);\n    }\n  }, [map]);\n\n  // Función showAssociatedIds - COPIADA DE TU CÓDIGO\n  const showAssociatedIds = useCallback((pbl, lat, lng) => {\n    if (showingAssociated) {\n      // Ocultar y volver a mostrar todos\n      if (map) {\n        map.eachLayer(layer => {\n          if (layer instanceof L.Marker) {\n            map.removeLayer(layer);\n          }\n        });\n        addMarkers(markers, map);\n      }\n      setShowingAssociated(false);\n    } else {\n      // Mostrar solo competencia asociada\n      const associatedData = baseCompData.filter(item => String(item.pbl).trim() === String(pbl).trim());\n      const ids = associatedData.map(item => item.id);\n      setAssociatedIds(ids);\n      if (map) {\n        map.eachLayer(layer => {\n          if (layer instanceof L.Marker) {\n            const markerLatLng = layer.getLatLng();\n            if (markerLatLng.lat !== lat || markerLatLng.lng !== lng) {\n              map.removeLayer(layer);\n            }\n          }\n        });\n        const associatedMarkers = markers.filter(item => ids.includes(item.id));\n        addMarkers(associatedMarkers, map);\n      }\n      setShowingAssociated(true);\n    }\n  }, [baseCompData, markers, map, showingAssociated]);\n\n  // Exponer globalmente\n  useEffect(() => {\n    window.showAssociatedIds = showAssociatedIds;\n  }, [showAssociatedIds]);\n  const addMarkers = useCallback((data, mapInstance) => {\n    data.forEach(markerData => {\n      const lat = parseFloat(markerData.lat);\n      const lng = parseFloat(markerData.lng);\n      if (!isNaN(lat) && !isNaN(lng)) {\n        const iconUrl = createCustomIcon(markerData.Marca);\n        const marker = L.marker([lat, lng], {\n          icon: iconUrl\n        }).addTo(mapInstance);\n        const popupContent = `\n          <div class=\"popup-container\">\n            <div class=\"popup-header\">\n              <img \n                src=\"${createBrandLogo(markerData.Marca)}\"\n                alt=\"${markerData.Marca}\"\n                style=\"width: 30px; height: 30px; border-radius: 50%; object-fit: cover; margin-right: 8px;\"\n                onerror=\"this.style.display='none'\"\n              />\n              <h3 style=\"margin: 0;\">${markerData.nombre || markerData.Marca}</h3>\n            </div>\n            <div class=\"popup-content\">\n              <div class=\"popup-data\">\n                <strong>Marca:</strong> ${markerData.Marca}<br />\n                <strong>PBL:</strong> ${markerData.pbl || '-'}<br />\n                <strong>Region:</strong> ${markerData.Region}<br />\n                <strong>Comuna:</strong> ${markerData.Comuna}<br />\n                ${markerData.direccion ? `<strong>Dirección:</strong> ${markerData.direccion}<br />` : ''}\n                ${markerData.eds ? `<strong>EDS:</strong> ${markerData.eds}<br />` : ''}\n              </div>\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n              <div class=\"popup-data\">\n                <strong>Precios:</strong><br />\n                G93: ${markerData.precio_g93 ? `$${markerData.precio_g93}` : 'N/A'}<br />\n                G95: ${markerData.precio_g95 ? `$${markerData.precio_g95}` : 'N/A'}<br />\n                Diesel: ${markerData.precio_diesel ? `$${markerData.precio_diesel}` : 'N/A'}<br />\n              </div>\n              ${markerData.Guerra_Precio === 'Si' ? `\n                <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n                <div class=\"popup-data\" style=\"color: #d32f2f; font-weight: bold;\">\n                  ⚠️ Guerra de Precio Activa\n                </div>\n              ` : ''}\n            </div>\n          </div>\n        `;\n\n        // Botón solo si es Aramco o Petrobras\n        if (markerData.Marca === 'Aramco' || markerData.Marca === 'Petrobras') {\n          popupContent += `\n            <button class=\"associated-button\" onclick=\"showAssociatedIds(${markerData.pbl}, ${lat}, ${lng})\">\n              Mercado\n            </button>\n          `;\n        }\n        const popup = L.popup({\n          autoClose: false,\n          closeOnClick: false,\n          keepInView: true,\n          autoPan: false\n        }).setContent(popupContent);\n        marker.bindPopup(popup);\n        marker.on('popupopen', () => {\n          makeDraggable(popup);\n        });\n        marker.on('click', () => {\n          marker.openPopup();\n        });\n      }\n    });\n  }, [makeDraggable]);\n  useEffect(() => {\n    if (!map || !markers || markers.length === 0) return;\n    console.log(`✅ Actualizando ${markers.length} marcadores`);\n\n    // Limpiar todos los marcadores\n    map.eachLayer(layer => {\n      if (layer instanceof L.Marker) {\n        map.removeLayer(layer);\n      }\n    });\n\n    // Agregar nuevos\n    addMarkers(markers, map);\n  }, [markers, selectedRegion, map, addMarkers]);\n  return null;\n};\n_s(IconMarkersLayer, \"MRNkl+RfJ+QOLOr4Y2VOXHIKLs8=\", false, function () {\n  return [useMap];\n});\n_c = IconMarkersLayer;\nexport default IconMarkersLayer;\nvar _c;\n$RefreshReg$(_c, \"IconMarkersLayer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","useMap","L","createCustomIcon","createBrandLogo","IconMarkersLayer","markers","selectedRegion","_s","map","markersRef","updateInProgressRef","showingAssociated","setShowingAssociated","associatedIds","setAssociatedIds","baseCompData","setBaseCompData","loadBaseComp","response","fetch","process","env","REACT_APP_API_URL","data","json","console","log","base_comp","error","makeDraggable","popup","_container","pos","latLngToLayerPoint","getLatLng","DomUtil","setPosition","_wrapper","parentNode","draggable","Draggable","enable","showAssociatedIds","pbl","lat","lng","eachLayer","layer","Marker","removeLayer","addMarkers","associatedData","filter","item","String","trim","ids","id","markerLatLng","associatedMarkers","includes","window","mapInstance","forEach","markerData","parseFloat","isNaN","iconUrl","Marca","marker","icon","addTo","popupContent","nombre","Region","Comuna","direccion","eds","precio_g93","precio_g95","precio_diesel","Guerra_Precio","autoClose","closeOnClick","keepInView","autoPan","setContent","bindPopup","on","openPopup","length","_c","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/IconMarkersLayer.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { createCustomIcon, createBrandLogo } from '../utils/iconHelpers';\r\n\r\nconst IconMarkersLayer = ({ markers, selectedRegion }) => {\r\n  const map = useMap();\r\n  const markersRef = useRef({});\r\n  const updateInProgressRef = useRef(false);\r\n  const [showingAssociated, setShowingAssociated] = useState(false);\r\n  const [associatedIds, setAssociatedIds] = useState([]);\r\n  const [baseCompData, setBaseCompData] = useState([]);\r\n\r\n  // Cargar base_comp\r\n  useEffect(() => {\r\n    const loadBaseComp = async () => {\r\n      try {\r\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/base_comp`);\r\n        const data = await response.json();\r\n        console.log('✅ Base comp cargada:', data);\r\n        setBaseCompData(data.base_comp || data || []);\r\n      } catch (error) {\r\n        console.error('❌ Error:', error);\r\n        setBaseCompData([]);\r\n      }\r\n    };\r\n    loadBaseComp();\r\n  }, []);\r\n\r\n  const makeDraggable = useCallback((popup) => {\r\n    if (!map || !popup || !popup._container) return;\r\n    try {\r\n      const pos = map.latLngToLayerPoint(popup.getLatLng());\r\n      L.DomUtil.setPosition(popup._wrapper.parentNode, pos);\r\n      const draggable = new L.Draggable(popup._container, popup._wrapper);\r\n      draggable.enable();\r\n    } catch (error) {\r\n      console.error('Error draggable:', error);\r\n    }\r\n  }, [map]);\r\n\r\n  // Función showAssociatedIds - COPIADA DE TU CÓDIGO\r\n  const showAssociatedIds = useCallback((pbl, lat, lng) => {\r\n    if (showingAssociated) {\r\n      // Ocultar y volver a mostrar todos\r\n      if (map) {\r\n        map.eachLayer((layer) => {\r\n          if (layer instanceof L.Marker) {\r\n            map.removeLayer(layer);\r\n          }\r\n        });\r\n\r\n        addMarkers(markers, map);\r\n      }\r\n      setShowingAssociated(false);\r\n    } else {\r\n      // Mostrar solo competencia asociada\r\n      const associatedData = baseCompData.filter(item => \r\n        String(item.pbl).trim() === String(pbl).trim()\r\n      );\r\n      const ids = associatedData.map(item => item.id);\r\n      setAssociatedIds(ids);\r\n\r\n      if (map) {\r\n        map.eachLayer((layer) => {\r\n          if (layer instanceof L.Marker) {\r\n            const markerLatLng = layer.getLatLng();\r\n            if (markerLatLng.lat !== lat || markerLatLng.lng !== lng) {\r\n              map.removeLayer(layer);\r\n            }\r\n          }\r\n        });\r\n\r\n        const associatedMarkers = markers.filter(item => ids.includes(item.id));\r\n        addMarkers(associatedMarkers, map);\r\n      }\r\n      setShowingAssociated(true);\r\n    }\r\n  }, [baseCompData, markers, map, showingAssociated]);\r\n\r\n  // Exponer globalmente\r\n  useEffect(() => {\r\n    window.showAssociatedIds = showAssociatedIds;\r\n  }, [showAssociatedIds]);\r\n\r\n  const addMarkers = useCallback((data, mapInstance) => {\r\n    data.forEach(markerData => {\r\n      const lat = parseFloat(markerData.lat);\r\n      const lng = parseFloat(markerData.lng);\r\n\r\n      if (!isNaN(lat) && !isNaN(lng)) {\r\n        const iconUrl = createCustomIcon(markerData.Marca);\r\n        const marker = L.marker([lat, lng], { icon: iconUrl }).addTo(mapInstance);\r\n\r\n        const popupContent = `\r\n          <div class=\"popup-container\">\r\n            <div class=\"popup-header\">\r\n              <img \r\n                src=\"${createBrandLogo(markerData.Marca)}\"\r\n                alt=\"${markerData.Marca}\"\r\n                style=\"width: 30px; height: 30px; border-radius: 50%; object-fit: cover; margin-right: 8px;\"\r\n                onerror=\"this.style.display='none'\"\r\n              />\r\n              <h3 style=\"margin: 0;\">${markerData.nombre || markerData.Marca}</h3>\r\n            </div>\r\n            <div class=\"popup-content\">\r\n              <div class=\"popup-data\">\r\n                <strong>Marca:</strong> ${markerData.Marca}<br />\r\n                <strong>PBL:</strong> ${markerData.pbl || '-'}<br />\r\n                <strong>Region:</strong> ${markerData.Region}<br />\r\n                <strong>Comuna:</strong> ${markerData.Comuna}<br />\r\n                ${markerData.direccion ? `<strong>Dirección:</strong> ${markerData.direccion}<br />` : ''}\r\n                ${markerData.eds ? `<strong>EDS:</strong> ${markerData.eds}<br />` : ''}\r\n              </div>\r\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n              <div class=\"popup-data\">\r\n                <strong>Precios:</strong><br />\r\n                G93: ${markerData.precio_g93 ? `$${markerData.precio_g93}` : 'N/A'}<br />\r\n                G95: ${markerData.precio_g95 ? `$${markerData.precio_g95}` : 'N/A'}<br />\r\n                Diesel: ${markerData.precio_diesel ? `$${markerData.precio_diesel}` : 'N/A'}<br />\r\n              </div>\r\n              ${markerData.Guerra_Precio === 'Si' ? `\r\n                <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n                <div class=\"popup-data\" style=\"color: #d32f2f; font-weight: bold;\">\r\n                  ⚠️ Guerra de Precio Activa\r\n                </div>\r\n              ` : ''}\r\n            </div>\r\n          </div>\r\n        `;\r\n\r\n        // Botón solo si es Aramco o Petrobras\r\n        if (markerData.Marca === 'Aramco' || markerData.Marca === 'Petrobras') {\r\n          popupContent += `\r\n            <button class=\"associated-button\" onclick=\"showAssociatedIds(${markerData.pbl}, ${lat}, ${lng})\">\r\n              Mercado\r\n            </button>\r\n          `;\r\n        }\r\n\r\n        const popup = L.popup({\r\n          autoClose: false,\r\n          closeOnClick: false,\r\n          keepInView: true,\r\n          autoPan: false\r\n        }).setContent(popupContent);\r\n\r\n        marker.bindPopup(popup);\r\n\r\n        marker.on('popupopen', () => {\r\n          makeDraggable(popup);\r\n        });\r\n\r\n        marker.on('click', () => {\r\n          marker.openPopup();\r\n        });\r\n      }\r\n    });\r\n  }, [makeDraggable]);\r\n\r\n  useEffect(() => {\r\n    if (!map || !markers || markers.length === 0) return;\r\n\r\n    console.log(`✅ Actualizando ${markers.length} marcadores`);\r\n    \r\n    // Limpiar todos los marcadores\r\n    map.eachLayer((layer) => {\r\n      if (layer instanceof L.Marker) {\r\n        map.removeLayer(layer);\r\n      }\r\n    });\r\n\r\n    // Agregar nuevos\r\n    addMarkers(markers, map);\r\n\r\n  }, [markers, selectedRegion, map, addMarkers]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default IconMarkersLayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}