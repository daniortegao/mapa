{"ast":null,"code":"import _objectSpread from\"C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useState,useRef,useLayoutEffect}from'react';import'../styles/trendChart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS={G93:'#34c759',G95:'#007bff',G97:'#a259c1',Diesel:'#fd7e14',Kero:'#6c757d'};const FUEL_OPTIONS=[{key:'G93',field:'g93',label:'G93'},{key:'G95',field:'g95',label:'G95'},{key:'G97',field:'g97',label:'G97'},{key:'Diesel',field:'diesel',label:'Diesel'},{key:'Kero',field:'kero',label:'Kero'}];const toNum=v=>v==='-'||v==null?null:Number(v);function parseDateSafe(fecha){const token=String(fecha||'').split(' ')[0];if(!token)return{d:new Date(0),label:''};if(/^\\d{4}-\\d{2}-\\d{2}$/.test(token)){const[y,m,d]=token.split('-');return{d:new Date(token),label:\"\".concat(d.padStart(2,'0'),\"-\").concat(m.padStart(2,'0'))};}if(/^\\d{2}-\\d{2}-\\d{4}$/.test(token)){const[d,m,y]=token.split('-').map(s=>s.padStart(2,'0'));return{d:new Date(\"\".concat(y,\"-\").concat(m,\"-\").concat(d)),label:\"\".concat(d,\"-\").concat(m)};}const d=new Date(token);const dd=String(d.getDate()).padStart(2,'0');const mm=String(d.getMonth()+1).padStart(2,'0');return{d,label:\"\".concat(dd,\"-\").concat(mm)};}export default function TrendChart(_ref){let{dataRows=[],maxPoints=7}=_ref;const[fuelKey,setFuelKey]=useState('G93');const[hover,setHover]=useState(null);const wrapRef=useRef(null);const[w,setW]=useState(300);const[h,setH]=useState(160);// Lee variables CSS\nconst readVars=()=>{const el=wrapRef.current;if(!el)return{w:300,h:160,mLeft:58,mRight:10,mTop:8,mBottom:24,gap:10,barMax:20,barMin:10,startPad:12};const cs=getComputedStyle(el);return{w:parseInt(cs.getPropertyValue('--trend-width'))||300,h:parseInt(cs.getPropertyValue('--trend-height'))||160,mLeft:parseInt(cs.getPropertyValue('--trend-left'))||58,mRight:parseInt(cs.getPropertyValue('--trend-right'))||10,mTop:parseInt(cs.getPropertyValue('--trend-top'))||8,mBottom:parseInt(cs.getPropertyValue('--trend-bottom'))||24,gap:parseInt(cs.getPropertyValue('--trend-gap'))||10,barMax:parseInt(cs.getPropertyValue('--trend-bar-max'))||20,barMin:parseInt(cs.getPropertyValue('--trend-bar-min'))||10,startPad:parseInt(cs.getPropertyValue('--trend-start-pad'))||12};};const[vars,setVars]=useState(readVars());useLayoutEffect(()=>{setVars(readVars());setW(vars.w);setH(vars.h);const ro=new ResizeObserver(()=>{const v=readVars();setVars(v);setW(v.w);setH(v.h);});if(wrapRef.current)ro.observe(wrapRef.current);return()=>ro.disconnect();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const points=useMemo(()=>{const norm=dataRows.map(r=>{const{d,label}=parseDateSafe(r.fecha);return{date:d,label,G93:toNum(r.g93),G95:toNum(r.g95),G97:toNum(r.g97),Diesel:toNum(r.diesel),Kero:toNum(r.kero)};}).sort((a,b)=>a.date-b.date).slice(-maxPoints).reverse();return norm;},[dataRows,maxPoints]);const labels=points.map(p=>p.label);const values=points.map(p=>p[fuelKey]);const present=values.filter(v=>v!=null);const aMin=present.length?Math.min(...present):0;const aMax=present.length?Math.max(...present):1;const yMin=0;const pad=Math.max(1,Math.round((aMax-aMin)*0.05));const yMax=aMax<=0?1:aMax+pad;const{mLeft,mRight,mTop,mBottom,gap,barMax,barMin,startPad}=vars;const innerW=w-mLeft-mRight;const innerH=h-mTop-mBottom;const xPos=i=>{if(labels.length<=1)return mLeft+startPad+innerW/2;const usable=innerW-startPad*2;return mLeft+startPad+i*usable/(labels.length-1);};const yPos=v=>{if(v==null)return null;const span=Math.max(1,yMax-yMin);const y=(v-yMin)/span;return mTop+innerH-y*innerH;};const effW=innerW-gap*Math.max(0,labels.length-1);const colWidth=labels.length>0?Math.max(barMin,Math.min(barMax,effW/Math.max(1,labels.length))):barMin;const gridY=3;const yTicks=Array.from({length:gridY+1},(_,k)=>yMin+k*(yMax-yMin)/Math.max(1,gridY));const handleEnter=(i,e)=>{var _wrapRef$current;const rect=(_wrapRef$current=wrapRef.current)===null||_wrapRef$current===void 0?void 0:_wrapRef$current.getBoundingClientRect();if(!rect)return;const value=values[i];if(value==null)return;setHover({idx:i,xClient:e.clientX-rect.left,yClient:e.clientY-rect.top,value,label:labels[i],xSvg:xPos(i),ySvg:yPos(value)});};const handleMove=(i,e)=>{var _wrapRef$current2;const rect=(_wrapRef$current2=wrapRef.current)===null||_wrapRef$current2===void 0?void 0:_wrapRef$current2.getBoundingClientRect();setHover(h=>h&&h.idx===i&&rect?_objectSpread(_objectSpread({},h),{},{xClient:e.clientX-rect.left,yClient:e.clientY-rect.top}):h);};const handleLeave=()=>setHover(null);return/*#__PURE__*/_jsxs(\"div\",{ref:wrapRef,className:\"trend-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"trend-tooltip\",style:{display:hover?'block':'none',left:hover?Math.min(Math.max(hover.xClient+8,0),w-120):0,top:hover?Math.min(Math.max(hover.yClient-22,0),h-22):0},children:hover?\"\".concat(hover.label,\" \\u2022 \").concat(Number(hover.value).toLocaleString('es-CL')):''}),/*#__PURE__*/_jsxs(\"div\",{className:\"trend-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"trend-dot\",style:{background:COLORS[fuelKey]}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:11,color:'#333'},children:\"Combustible:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"trend-select\",value:fuelKey,onChange:e=>{setHover(null);setFuelKey(e.target.value);},children:FUEL_OPTIONS.map(f=>/*#__PURE__*/_jsx(\"option\",{value:f.key,children:f.label},f.key))})]}),/*#__PURE__*/_jsxs(\"svg\",{className:\"trend-svg\",width:w,height:h,children:[yTicks.map((t,idx)=>{const y=yPos(t);return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{x1:mLeft,x2:mLeft+innerW,y1:y,y2:y,stroke:\"rgba(0,0,0,0.08)\"}),/*#__PURE__*/_jsx(\"text\",{className:\"trend-ylabel\",x:mLeft-8,y:y,textAnchor:\"end\",dominantBaseline:\"middle\",children:Math.round(t).toLocaleString('es-CL')})]},idx);}),labels.map((lab,i)=>/*#__PURE__*/_jsx(\"text\",{className:\"trend-xlabel\",x:xPos(i),y:h-6,textAnchor:\"middle\",children:lab},i)),values.map((v,i)=>{const y=yPos(v);const xCenter=xPos(i);const x=xCenter-colWidth/2+i*gap/Math.max(1,labels.length);const barH=v==null?0:mTop+innerH-y;return/*#__PURE__*/_jsx(\"rect\",{x:x,y:v==null?mTop+innerH:y,width:colWidth,height:barH,fill:COLORS[fuelKey],rx:3,onMouseEnter:e=>handleEnter(i,e),onMouseMove:e=>handleMove(i,e),onMouseLeave:handleLeave},i);})]})]});}","map":{"version":3,"names":["React","useMemo","useState","useRef","useLayoutEffect","jsx","_jsx","jsxs","_jsxs","COLORS","G93","G95","G97","Diesel","Kero","FUEL_OPTIONS","key","field","label","toNum","v","Number","parseDateSafe","fecha","token","String","split","d","Date","test","y","m","concat","padStart","map","s","dd","getDate","mm","getMonth","TrendChart","_ref","dataRows","maxPoints","fuelKey","setFuelKey","hover","setHover","wrapRef","w","setW","h","setH","readVars","el","current","mLeft","mRight","mTop","mBottom","gap","barMax","barMin","startPad","cs","getComputedStyle","parseInt","getPropertyValue","vars","setVars","ro","ResizeObserver","observe","disconnect","points","norm","r","date","g93","g95","g97","diesel","kero","sort","a","b","slice","reverse","labels","p","values","present","filter","aMin","length","Math","min","aMax","max","yMin","pad","round","yMax","innerW","innerH","xPos","i","usable","yPos","span","effW","colWidth","gridY","yTicks","Array","from","_","k","handleEnter","e","_wrapRef$current","rect","getBoundingClientRect","value","idx","xClient","clientX","left","yClient","clientY","top","xSvg","ySvg","handleMove","_wrapRef$current2","_objectSpread","handleLeave","ref","className","children","style","display","toLocaleString","background","fontSize","color","onChange","target","f","width","height","t","x1","x2","y1","y2","stroke","x","textAnchor","dominantBaseline","lab","xCenter","barH","fill","rx","onMouseEnter","onMouseMove","onMouseLeave"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/TrendChart.jsx"],"sourcesContent":["import React, { useMemo, useState, useRef, useLayoutEffect } from 'react';\r\nimport '../styles/trendChart.css';\r\n\r\nconst COLORS = { G93:'#34c759', G95:'#007bff', G97:'#a259c1', Diesel:'#fd7e14', Kero:'#6c757d' };\r\nconst FUEL_OPTIONS = [\r\n  { key:'G93', field:'g93', label:'G93' },\r\n  { key:'G95', field:'g95', label:'G95' },\r\n  { key:'G97', field:'g97', label:'G97' },\r\n  { key:'Diesel', field:'diesel', label:'Diesel' },\r\n  { key:'Kero', field:'kero', label:'Kero' }\r\n];\r\n\r\nconst toNum = v => (v === '-' || v == null ? null : Number(v));\r\n\r\nfunction parseDateSafe(fecha){\r\n  const token = String(fecha || '').split(' ')[0];\r\n  if(!token) return { d:new Date(0), label:'' };\r\n  if(/^\\d{4}-\\d{2}-\\d{2}$/.test(token)){\r\n    const [y,m,d] = token.split('-');\r\n    return { d:new Date(token), label:`${d.padStart(2,'0')}-${m.padStart(2,'0')}` };\r\n  }\r\n  if(/^\\d{2}-\\d{2}-\\d{4}$/.test(token)){\r\n    const [d,m,y] = token.split('-').map(s=>s.padStart(2,'0'));\r\n    return { d:new Date(`${y}-${m}-${d}`), label:`${d}-${m}` };\r\n  }\r\n  const d = new Date(token);\r\n  const dd = String(d.getDate()).padStart(2,'0');\r\n  const mm = String(d.getMonth()+1).padStart(2,'0');\r\n  return { d, label:`${dd}-${mm}` };\r\n}\r\n\r\nexport default function TrendChart({ dataRows = [], maxPoints = 7 }) {\r\n  const [fuelKey, setFuelKey] = useState('G93');\r\n  const [hover, setHover] = useState(null);\r\n  const wrapRef = useRef(null);\r\n  const [w, setW] = useState(300);\r\n  const [h, setH] = useState(160);\r\n\r\n  // Lee variables CSS\r\n  const readVars = () => {\r\n    const el = wrapRef.current;\r\n    if (!el) return { w:300, h:160, mLeft:58, mRight:10, mTop:8, mBottom:24, gap:10, barMax:20, barMin:10, startPad:12 };\r\n    const cs = getComputedStyle(el);\r\n    return {\r\n      w: parseInt(cs.getPropertyValue('--trend-width')) || 300,\r\n      h: parseInt(cs.getPropertyValue('--trend-height')) || 160,\r\n      mLeft: parseInt(cs.getPropertyValue('--trend-left')) || 58,\r\n      mRight: parseInt(cs.getPropertyValue('--trend-right')) || 10,\r\n      mTop: parseInt(cs.getPropertyValue('--trend-top')) || 8,\r\n      mBottom: parseInt(cs.getPropertyValue('--trend-bottom')) || 24,\r\n      gap: parseInt(cs.getPropertyValue('--trend-gap')) || 10,\r\n      barMax: parseInt(cs.getPropertyValue('--trend-bar-max')) || 20,\r\n      barMin: parseInt(cs.getPropertyValue('--trend-bar-min')) || 10,\r\n      startPad: parseInt(cs.getPropertyValue('--trend-start-pad')) || 12\r\n    };\r\n  };\r\n\r\n  const [vars, setVars] = useState(readVars());\r\n\r\n  useLayoutEffect(() => {\r\n    setVars(readVars());\r\n    setW(vars.w); setH(vars.h);\r\n    const ro = new ResizeObserver(() => { const v = readVars(); setVars(v); setW(v.w); setH(v.h); });\r\n    if (wrapRef.current) ro.observe(wrapRef.current);\r\n    return () => ro.disconnect();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const points = useMemo(() => {\r\n    const norm = dataRows\r\n      .map(r => {\r\n        const { d, label } = parseDateSafe(r.fecha);\r\n        return { date:d, label, G93:toNum(r.g93), G95:toNum(r.g95), G97:toNum(r.g97), Diesel:toNum(r.diesel), Kero:toNum(r.kero) };\r\n      })\r\n      .sort((a,b)=>a.date-b.date)\r\n      .slice(-maxPoints)\r\n      .reverse();\r\n    return norm;\r\n  }, [dataRows, maxPoints]);\r\n\r\n  const labels = points.map(p=>p.label);\r\n  const values = points.map(p=>p[fuelKey]);\r\n\r\n  const present = values.filter(v=>v!=null);\r\n  const aMin = present.length ? Math.min(...present) : 0;\r\n  const aMax = present.length ? Math.max(...present) : 1;\r\n\r\n  const yMin = 0;\r\n  const pad = Math.max(1, Math.round((aMax - aMin) * 0.05));\r\n  const yMax = aMax <= 0 ? 1 : aMax + pad;\r\n\r\n  const { mLeft, mRight, mTop, mBottom, gap, barMax, barMin, startPad } = vars;\r\n  const innerW = w - mLeft - mRight;\r\n  const innerH = h - mTop - mBottom;\r\n\r\n  const xPos = (i) => {\r\n    if (labels.length <= 1) return mLeft + startPad + innerW / 2;\r\n    const usable = innerW - startPad * 2;\r\n    return mLeft + startPad + (i * usable) / (labels.length - 1);\r\n  };\r\n  const yPos = (v) => {\r\n    if (v == null) return null;\r\n    const span = Math.max(1, (yMax - yMin));\r\n    const y = (v - yMin) / span;\r\n    return mTop + innerH - y * innerH;\r\n  };\r\n\r\n  const effW = innerW - gap * Math.max(0, labels.length - 1);\r\n  const colWidth = labels.length > 0 ? Math.max(barMin, Math.min(barMax, effW / Math.max(1, labels.length))) : barMin;\r\n\r\n  const gridY = 3;\r\n  const yTicks = Array.from({ length: gridY + 1 }, (_, k) => yMin + (k * (yMax - yMin)) / Math.max(1, gridY));\r\n\r\n  const handleEnter = (i, e) => {\r\n    const rect = wrapRef.current?.getBoundingClientRect();\r\n    if (!rect) return;\r\n    const value = values[i];\r\n    if (value == null) return;\r\n    setHover({\r\n      idx: i,\r\n      xClient: e.clientX - rect.left,\r\n      yClient: e.clientY - rect.top,\r\n      value,\r\n      label: labels[i],\r\n      xSvg: xPos(i),\r\n      ySvg: yPos(value)\r\n    });\r\n  };\r\n  const handleMove = (i, e) => {\r\n    const rect = wrapRef.current?.getBoundingClientRect();\r\n    setHover(h => (h && h.idx === i && rect)\r\n      ? { ...h, xClient: e.clientX - rect.left, yClient: e.clientY - rect.top }\r\n      : h\r\n    );\r\n  };\r\n  const handleLeave = () => setHover(null);\r\n\r\n  return (\r\n    <div ref={wrapRef} className=\"trend-wrap\">\r\n      <div\r\n        className=\"trend-tooltip\"\r\n        style={{\r\n          display: hover ? 'block' : 'none',\r\n          left: hover ? Math.min(Math.max(hover.xClient + 8, 0), w - 120) : 0,\r\n          top: hover ? Math.min(Math.max(hover.yClient - 22, 0), h - 22) : 0\r\n        }}\r\n      >\r\n        {hover ? `${hover.label} â€¢ ${Number(hover.value).toLocaleString('es-CL')}` : ''}\r\n      </div>\r\n\r\n      <div className=\"trend-header\">\r\n        <div className=\"trend-dot\" style={{ background: COLORS[fuelKey] }} />\r\n        <span style={{ fontSize: 11, color: '#333' }}>Combustible:</span>\r\n        <select\r\n          className=\"trend-select\"\r\n          value={fuelKey}\r\n          onChange={(e)=>{ setHover(null); setFuelKey(e.target.value); }}\r\n        >\r\n          {FUEL_OPTIONS.map(f => <option key={f.key} value={f.key}>{f.label}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      <svg className=\"trend-svg\" width={w} height={h}>\r\n        {yTicks.map((t, idx) => {\r\n          const y = yPos(t);\r\n          return (\r\n            <g key={idx}>\r\n              <line x1={mLeft} x2={mLeft + innerW} y1={y} y2={y} stroke=\"rgba(0,0,0,0.08)\" />\r\n              <text className=\"trend-ylabel\" x={mLeft - 8} y={y} textAnchor=\"end\" dominantBaseline=\"middle\">\r\n                {Math.round(t).toLocaleString('es-CL')}\r\n              </text>\r\n            </g>\r\n          );\r\n        })}\r\n\r\n        {labels.map((lab, i) => (\r\n          <text className=\"trend-xlabel\" key={i} x={xPos(i)} y={h - 6} textAnchor=\"middle\">{lab}</text>\r\n        ))}\r\n\r\n        {values.map((v, i) => {\r\n          const y = yPos(v);\r\n          const xCenter = xPos(i);\r\n          const x = xCenter - colWidth / 2 + (i * gap) / Math.max(1, labels.length);\r\n          const barH = v == null ? 0 : (mTop + innerH - y);\r\n          return (\r\n            <rect\r\n              key={i}\r\n              x={x}\r\n              y={v == null ? (mTop + innerH) : y}\r\n              width={colWidth}\r\n              height={barH}\r\n              fill={COLORS[fuelKey]}\r\n              rx={3}\r\n              onMouseEnter={(e)=> handleEnter(i, e)}\r\n              onMouseMove={(e)=> handleMove(i, e)}\r\n              onMouseLeave={handleLeave}\r\n            />\r\n          );\r\n        })}\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}