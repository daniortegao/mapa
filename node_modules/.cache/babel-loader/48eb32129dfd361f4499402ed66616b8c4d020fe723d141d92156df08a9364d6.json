{"ast":null,"code":"import React,{useMemo,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FilterPanel=_ref=>{let{markers,selectedRegion,onFiltersChange,onStationSelect}=_ref;const[selectedComuna,setSelectedComuna]=useState('');const[selectedMarca,setSelectedMarca]=useState('');const[selectedJefeZona,setSelectedJefeZona]=useState('');const[selectedEds,setSelectedEds]=useState('');const[edsSearchTerm,setEdsSearchTerm]=useState('');const[globalEdsSearch,setGlobalEdsSearch]=useState('');const[soloGuerraPrecios,setSoloGuerraPrecios]=useState(false);const[soloEstacionesPES,setSoloEstacionesPES]=useState(false);const tuasMarcas=['Aramco','Petrobras'];const comunas=useMemo(()=>{const filtered=markers.filter(m=>m.Region===selectedRegion);return[...new Set(filtered.map(m=>m.Comuna))].sort();},[markers,selectedRegion]);const marcas=useMemo(()=>{const filtered=markers.filter(m=>m.Region===selectedRegion);return[...new Set(filtered.map(m=>m.Marca))].sort();},[markers,selectedRegion]);const jefesZona=useMemo(()=>{const filtered=markers.filter(m=>m.Region===selectedRegion&&m.nombre&&tuasMarcas.includes(m.Marca));return[...new Set(filtered.map(m=>m.nombre))].sort();},[markers,selectedRegion,tuasMarcas]);const comunasDelJefe=useMemo(()=>{if(!selectedJefeZona)return[];const jefeMarkers=markers.filter(m=>m.nombre===selectedJefeZona);return[...new Set(jefeMarkers.map(m=>m.Comuna))];},[markers,selectedJefeZona]);const allEds=useMemo(()=>{let filtered=markers.filter(m=>m.Region===selectedRegion);if(selectedJefeZona){filtered=filtered.filter(m=>comunasDelJefe.includes(m.Comuna));}if(selectedComuna){filtered=filtered.filter(m=>m.Comuna===selectedComuna);}if(selectedMarca){filtered=filtered.filter(m=>m.Marca===selectedMarca);}return[...new Set(filtered.map(m=>m.eds))].filter(eds=>eds).sort();},[markers,selectedRegion,selectedComuna,selectedMarca,selectedJefeZona,comunasDelJefe]);const filteredEds=useMemo(()=>{return allEds.filter(eds=>eds.toLowerCase().includes(edsSearchTerm.toLowerCase()));},[allEds,edsSearchTerm]);// All stations from all regions for global search\nconst allStations=useMemo(()=>{const stationMap=new Map();markers.forEach(m=>{// Only include stations from Región Metropolitana\nif(m.eds&&m.pbl&&m.Region==='Metropolitana de Santiago'){const key=m.pbl;if(!stationMap.has(key)){stationMap.set(key,{pbl:m.pbl,eds:m.eds,region:m.Region,comuna:m.Comuna,marca:m.Marca,lat:m.lat,lng:m.lng});}}});return Array.from(stationMap.values()).sort((a,b)=>a.eds.localeCompare(b.eds));},[markers]);// Array CON filtro EDS para mostrar en mapa\nconst filteredMarkers=useMemo(()=>{return markers.filter(m=>{// Global EDS search (searches across all regions)\nif(globalEdsSearch.trim()){const searchMatch=m.eds&&m.eds.toLowerCase().includes(globalEdsSearch.toLowerCase());if(!searchMatch)return false;}const regionMatch=m.Region===selectedRegion;const edsMatch=!selectedEds||m.eds===selectedEds;const guerraMatch=!soloGuerraPrecios||m.Guerra_Precio==='Si';const pesMatch=!soloEstacionesPES||m.Surtidores_Autoservicio&&m.Surtidores_Autoservicio!==null&&m.Surtidores_Autoservicio!=='';if(selectedJefeZona){const esDelJefe=m.nombre===selectedJefeZona;const esCompetenciaEnComunasDelJefe=comunasDelJefe.includes(m.Comuna);const jefeMatch=esDelJefe||esCompetenciaEnComunasDelJefe;return regionMatch&&jefeMatch&&edsMatch&&guerraMatch&&pesMatch;}if(selectedComuna){const todasLasEstacionesEnComuna=m.Comuna===selectedComuna;const marcaMatch=!selectedMarca||m.Marca===selectedMarca;return regionMatch&&todasLasEstacionesEnComuna&&marcaMatch&&edsMatch&&guerraMatch&&pesMatch;}const marcaMatch=!selectedMarca||m.Marca===selectedMarca;return regionMatch&&marcaMatch&&edsMatch&&guerraMatch&&pesMatch;});},[markers,selectedRegion,selectedComuna,selectedMarca,selectedJefeZona,selectedEds,comunasDelJefe,soloGuerraPrecios,soloEstacionesPES,globalEdsSearch]);// Array SIN filtro EDS para botón Mercado\nconst filteredMarkersForMercado=useMemo(()=>{return markers.filter(m=>{const regionMatch=m.Region===selectedRegion;const guerraMatch=!soloGuerraPrecios||m.Guerra_Precio==='Si';const pesMatch=!soloEstacionesPES||m.Surtidores_Autoservicio&&m.Surtidores_Autoservicio!==null&&m.Surtidores_Autoservicio!=='';if(selectedJefeZona){const esDelJefe=m.nombre===selectedJefeZona;const esCompetenciaEnComunasDelJefe=comunasDelJefe.includes(m.Comuna);const jefeMatch=esDelJefe||esCompetenciaEnComunasDelJefe;return regionMatch&&jefeMatch&&guerraMatch&&pesMatch;}if(selectedComuna){const todasLasEstacionesEnComuna=m.Comuna===selectedComuna;const marcaMatch=!selectedMarca||m.Marca===selectedMarca;return regionMatch&&todasLasEstacionesEnComuna&&marcaMatch&&guerraMatch&&pesMatch;}const marcaMatch=!selectedMarca||m.Marca===selectedMarca;return regionMatch&&marcaMatch&&guerraMatch&&pesMatch;});},[markers,selectedRegion,selectedComuna,selectedMarca,selectedJefeZona,comunasDelJefe,soloGuerraPrecios,soloEstacionesPES]);// ✅ DEDUPLICAR filteredMarkers para el mapa\nconst uniqueFilteredMarkers=useMemo(()=>{const uniqueMap=new Map();filteredMarkers.forEach(marker=>{const key=marker.pbl||marker.id||\"\".concat(marker.lat,\"_\").concat(marker.lng);const existing=uniqueMap.get(key);if(!existing){uniqueMap.set(key,marker);}else{const existingDate=existing.fecha_aplicacion?new Date(existing.fecha_aplicacion):new Date(0);const currentDate=marker.fecha_aplicacion?new Date(marker.fecha_aplicacion):new Date(0);if(currentDate>existingDate){uniqueMap.set(key,marker);}}});return Array.from(uniqueMap.values());},[filteredMarkers]);// ✅ Enviar únicos al mapa, histórico completo para Mercado\nReact.useEffect(()=>{onFiltersChange(uniqueFilteredMarkers,filteredMarkersForMercado);},[uniqueFilteredMarkers,filteredMarkersForMercado,onFiltersChange]);// Contador de marcas (solo estaciones únicas)\nconst markersByBrand=useMemo(()=>{const result={};uniqueFilteredMarkers.forEach(m=>{result[m.Marca]=(result[m.Marca]||0)+1;});return result;},[uniqueFilteredMarkers]);// Contador total por marca en la región\nconst brandCounts=useMemo(()=>{const filtered=markers.filter(m=>m.Region===selectedRegion);const brandMap=new Map();filtered.forEach(m=>{const brand=m.Marca||'Sin marca';const id=m.pbl||m.id||\"\".concat(m.lat,\"_\").concat(m.lng);if(!brandMap.has(brand)){brandMap.set(brand,new Set());}brandMap.get(brand).add(id);});return Object.fromEntries(Array.from(brandMap.entries()).map(_ref2=>{let[name,set]=_ref2;return[name,set.size];}));},[markers,selectedRegion]);const handleClearFilters=()=>{setSelectedComuna('');setSelectedMarca('');setSelectedJefeZona('');setSelectedEds('');setEdsSearchTerm('');setGlobalEdsSearch('');setSoloGuerraPrecios(false);setSoloEstacionesPES(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comuna-select\",children:\"Comuna\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"comuna-select\",value:selectedComuna,onChange:e=>setSelectedComuna(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas las comunas\"}),comunas.map(comuna=>/*#__PURE__*/_jsx(\"option\",{value:comuna,children:comuna},comuna))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"global-eds-search\",children:\"Buscar Estaci\\xF3n (Regi\\xF3n Metropolitana)\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"global-eds-search\",value:globalEdsSearch,onChange:e=>{const selectedPbl=e.target.value;setGlobalEdsSearch(selectedPbl);if(selectedPbl&&onStationSelect){const station=allStations.find(s=>s.pbl===selectedPbl);if(station){onStationSelect(station);}}},style:{width:'100%',padding:'8px',fontSize:'13px',border:'1px solid #ced4da',borderRadius:'4px',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona una estaci\\xF3n...\"}),allStations.map(station=>/*#__PURE__*/_jsxs(\"option\",{value:station.pbl,children:[station.eds,\" - \",station.comuna]},station.pbl))]}),globalEdsSearch&&/*#__PURE__*/_jsx(\"small\",{style:{fontSize:'11px',color:'#6c757d',marginTop:'4px',display:'block'},children:\"Estaci\\xF3n seleccionada - El mapa se centrar\\xE1 en ella\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"marca-select\",children:\"Marca\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"marca-select\",value:selectedMarca,onChange:e=>setSelectedMarca(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas las marcas\"}),marcas.map(marca=>/*#__PURE__*/_jsxs(\"option\",{value:marca,children:[marca,\" \",brandCounts[marca]?\"(\".concat(brandCounts[marca],\")\"):'']},marca))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"jefe-select\",children:\"Jefe de Zona\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"jefe-select\",value:selectedJefeZona,onChange:e=>setSelectedJefeZona(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un Jefe de Zona\"}),jefesZona.map(jefe=>/*#__PURE__*/_jsx(\"option\",{value:jefe,children:jefe},jefe))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"eds-select\",children:\"EDS\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"eds-select\",value:selectedEds,onChange:e=>setSelectedEds(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas las EDS\"}),filteredEds.map(eds=>/*#__PURE__*/_jsx(\"option\",{value:eds,children:eds},eds))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group filter-checkbox\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"guerra-precios-checkbox\",className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"guerra-precios-checkbox\",type:\"checkbox\",checked:soloGuerraPrecios,onChange:e=>setSoloGuerraPrecios(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-text\",children:\"Guerra de Precios\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group filter-checkbox filter-checkbox-pes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"estaciones-pes-checkbox\",className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"estaciones-pes-checkbox\",type:\"checkbox\",checked:soloEstacionesPES,onChange:e=>setSoloEstacionesPES(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-text\",children:\"Estaciones PES\"})]})})]});};export default FilterPanel;","map":{"version":3,"names":["React","useMemo","useState","jsx","_jsx","jsxs","_jsxs","FilterPanel","_ref","markers","selectedRegion","onFiltersChange","onStationSelect","selectedComuna","setSelectedComuna","selectedMarca","setSelectedMarca","selectedJefeZona","setSelectedJefeZona","selectedEds","setSelectedEds","edsSearchTerm","setEdsSearchTerm","globalEdsSearch","setGlobalEdsSearch","soloGuerraPrecios","setSoloGuerraPrecios","soloEstacionesPES","setSoloEstacionesPES","tuasMarcas","comunas","filtered","filter","m","Region","Set","map","Comuna","sort","marcas","Marca","jefesZona","nombre","includes","comunasDelJefe","jefeMarkers","allEds","eds","filteredEds","toLowerCase","allStations","stationMap","Map","forEach","pbl","key","has","set","region","comuna","marca","lat","lng","Array","from","values","a","b","localeCompare","filteredMarkers","trim","searchMatch","regionMatch","edsMatch","guerraMatch","Guerra_Precio","pesMatch","Surtidores_Autoservicio","esDelJefe","esCompetenciaEnComunasDelJefe","jefeMatch","todasLasEstacionesEnComuna","marcaMatch","filteredMarkersForMercado","uniqueFilteredMarkers","uniqueMap","marker","id","concat","existing","get","existingDate","fecha_aplicacion","Date","currentDate","useEffect","markersByBrand","result","brandCounts","brandMap","brand","add","Object","fromEntries","entries","_ref2","name","size","handleClearFilters","className","children","htmlFor","value","onChange","e","target","selectedPbl","station","find","s","style","width","padding","fontSize","border","borderRadius","boxSizing","color","marginTop","display","jefe","type","checked"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/FilterPanel.jsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\n\r\nconst FilterPanel = ({ markers, selectedRegion, onFiltersChange, onStationSelect }) => {\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n  const [selectedMarca, setSelectedMarca] = useState('');\r\n  const [selectedJefeZona, setSelectedJefeZona] = useState('');\r\n  const [selectedEds, setSelectedEds] = useState('');\r\n  const [edsSearchTerm, setEdsSearchTerm] = useState('');\r\n  const [globalEdsSearch, setGlobalEdsSearch] = useState('');\r\n  const [soloGuerraPrecios, setSoloGuerraPrecios] = useState(false);\r\n  const [soloEstacionesPES, setSoloEstacionesPES] = useState(false);\r\n\r\n  const tuasMarcas = ['Aramco', 'Petrobras'];\r\n\r\n  const comunas = useMemo(() => {\r\n    const filtered = markers.filter(m => m.Region === selectedRegion);\r\n    return [...new Set(filtered.map(m => m.Comuna))].sort();\r\n  }, [markers, selectedRegion]);\r\n\r\n  const marcas = useMemo(() => {\r\n    const filtered = markers.filter(m => m.Region === selectedRegion);\r\n    return [...new Set(filtered.map(m => m.Marca))].sort();\r\n  }, [markers, selectedRegion]);\r\n\r\n  const jefesZona = useMemo(() => {\r\n    const filtered = markers.filter(\r\n      m => m.Region === selectedRegion && m.nombre && tuasMarcas.includes(m.Marca)\r\n    );\r\n    return [...new Set(filtered.map(m => m.nombre))].sort();\r\n  }, [markers, selectedRegion, tuasMarcas]);\r\n\r\n  const comunasDelJefe = useMemo(() => {\r\n    if (!selectedJefeZona) return [];\r\n    const jefeMarkers = markers.filter(m => m.nombre === selectedJefeZona);\r\n    return [...new Set(jefeMarkers.map(m => m.Comuna))];\r\n  }, [markers, selectedJefeZona]);\r\n\r\n  const allEds = useMemo(() => {\r\n    let filtered = markers.filter(m => m.Region === selectedRegion);\r\n    if (selectedJefeZona) {\r\n      filtered = filtered.filter(m => comunasDelJefe.includes(m.Comuna));\r\n    }\r\n    if (selectedComuna) {\r\n      filtered = filtered.filter(m => m.Comuna === selectedComuna);\r\n    }\r\n    if (selectedMarca) {\r\n      filtered = filtered.filter(m => m.Marca === selectedMarca);\r\n    }\r\n    return [...new Set(filtered.map(m => m.eds))].filter(eds => eds).sort();\r\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, comunasDelJefe]);\r\n\r\n  const filteredEds = useMemo(() => {\r\n    return allEds.filter(eds =>\r\n      eds.toLowerCase().includes(edsSearchTerm.toLowerCase())\r\n    );\r\n  }, [allEds, edsSearchTerm]);\r\n\r\n  // All stations from all regions for global search\r\n  const allStations = useMemo(() => {\r\n    const stationMap = new Map();\r\n    markers.forEach(m => {\r\n      // Only include stations from Región Metropolitana\r\n      if (m.eds && m.pbl && m.Region === 'Metropolitana de Santiago') {\r\n        const key = m.pbl;\r\n        if (!stationMap.has(key)) {\r\n          stationMap.set(key, {\r\n            pbl: m.pbl,\r\n            eds: m.eds,\r\n            region: m.Region,\r\n            comuna: m.Comuna,\r\n            marca: m.Marca,\r\n            lat: m.lat,\r\n            lng: m.lng\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return Array.from(stationMap.values()).sort((a, b) => a.eds.localeCompare(b.eds));\r\n  }, [markers]);\r\n\r\n  // Array CON filtro EDS para mostrar en mapa\r\n  const filteredMarkers = useMemo(() => {\r\n    return markers.filter(m => {\r\n      // Global EDS search (searches across all regions)\r\n      if (globalEdsSearch.trim()) {\r\n        const searchMatch = m.eds && m.eds.toLowerCase().includes(globalEdsSearch.toLowerCase());\r\n        if (!searchMatch) return false;\r\n      }\r\n\r\n      const regionMatch = m.Region === selectedRegion;\r\n      const edsMatch = !selectedEds || m.eds === selectedEds;\r\n      const guerraMatch = !soloGuerraPrecios || m.Guerra_Precio === 'Si';\r\n      const pesMatch = !soloEstacionesPES || (m.Surtidores_Autoservicio && m.Surtidores_Autoservicio !== null && m.Surtidores_Autoservicio !== '');\r\n\r\n      if (selectedJefeZona) {\r\n        const esDelJefe = m.nombre === selectedJefeZona;\r\n        const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\r\n        const jefeMatch = esDelJefe || esCompetenciaEnComunasDelJefe;\r\n        return regionMatch && jefeMatch && edsMatch && guerraMatch && pesMatch;\r\n      }\r\n\r\n      if (selectedComuna) {\r\n        const todasLasEstacionesEnComuna = m.Comuna === selectedComuna;\r\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n        return regionMatch && todasLasEstacionesEnComuna && marcaMatch && edsMatch && guerraMatch && pesMatch;\r\n      }\r\n\r\n      const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n      return regionMatch && marcaMatch && edsMatch && guerraMatch && pesMatch;\r\n    });\r\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, selectedEds, comunasDelJefe, soloGuerraPrecios, soloEstacionesPES, globalEdsSearch]);\r\n\r\n  // Array SIN filtro EDS para botón Mercado\r\n  const filteredMarkersForMercado = useMemo(() => {\r\n    return markers.filter(m => {\r\n      const regionMatch = m.Region === selectedRegion;\r\n      const guerraMatch = !soloGuerraPrecios || m.Guerra_Precio === 'Si';\r\n      const pesMatch = !soloEstacionesPES || (m.Surtidores_Autoservicio && m.Surtidores_Autoservicio !== null && m.Surtidores_Autoservicio !== '');\r\n\r\n      if (selectedJefeZona) {\r\n        const esDelJefe = m.nombre === selectedJefeZona;\r\n        const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\r\n        const jefeMatch = esDelJefe || esCompetenciaEnComunasDelJefe;\r\n        return regionMatch && jefeMatch && guerraMatch && pesMatch;\r\n      }\r\n\r\n      if (selectedComuna) {\r\n        const todasLasEstacionesEnComuna = m.Comuna === selectedComuna;\r\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n        return regionMatch && todasLasEstacionesEnComuna && marcaMatch && guerraMatch && pesMatch;\r\n      }\r\n\r\n      const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n      return regionMatch && marcaMatch && guerraMatch && pesMatch;\r\n    });\r\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, comunasDelJefe, soloGuerraPrecios, soloEstacionesPES]);\r\n\r\n  // ✅ DEDUPLICAR filteredMarkers para el mapa\r\n  const uniqueFilteredMarkers = useMemo(() => {\r\n    const uniqueMap = new Map();\r\n\r\n    filteredMarkers.forEach(marker => {\r\n      const key = marker.pbl || marker.id || `${marker.lat}_${marker.lng}`;\r\n      const existing = uniqueMap.get(key);\r\n\r\n      if (!existing) {\r\n        uniqueMap.set(key, marker);\r\n      } else {\r\n        const existingDate = existing.fecha_aplicacion ? new Date(existing.fecha_aplicacion) : new Date(0);\r\n        const currentDate = marker.fecha_aplicacion ? new Date(marker.fecha_aplicacion) : new Date(0);\r\n\r\n        if (currentDate > existingDate) {\r\n          uniqueMap.set(key, marker);\r\n        }\r\n      }\r\n    });\r\n\r\n    return Array.from(uniqueMap.values());\r\n  }, [filteredMarkers]);\r\n\r\n  // ✅ Enviar únicos al mapa, histórico completo para Mercado\r\n  React.useEffect(() => {\r\n    onFiltersChange(uniqueFilteredMarkers, filteredMarkersForMercado);\r\n  }, [uniqueFilteredMarkers, filteredMarkersForMercado, onFiltersChange]);\r\n\r\n  // Contador de marcas (solo estaciones únicas)\r\n  const markersByBrand = useMemo(() => {\r\n    const result = {};\r\n    uniqueFilteredMarkers.forEach(m => {\r\n      result[m.Marca] = (result[m.Marca] || 0) + 1;\r\n    });\r\n    return result;\r\n  }, [uniqueFilteredMarkers]);\r\n\r\n  // Contador total por marca en la región\r\n  const brandCounts = useMemo(() => {\r\n    const filtered = markers.filter(m => m.Region === selectedRegion);\r\n    const brandMap = new Map();\r\n    filtered.forEach(m => {\r\n      const brand = m.Marca || 'Sin marca';\r\n      const id = m.pbl || m.id || `${m.lat}_${m.lng}`;\r\n      if (!brandMap.has(brand)) {\r\n        brandMap.set(brand, new Set());\r\n      }\r\n      brandMap.get(brand).add(id);\r\n    });\r\n    return Object.fromEntries(\r\n      Array.from(brandMap.entries()).map(([name, set]) => [name, set.size])\r\n    );\r\n  }, [markers, selectedRegion]);\r\n\r\n  const handleClearFilters = () => {\r\n    setSelectedComuna('');\r\n    setSelectedMarca('');\r\n    setSelectedJefeZona('');\r\n    setSelectedEds('');\r\n    setEdsSearchTerm('');\r\n    setGlobalEdsSearch('');\r\n    setSoloGuerraPrecios(false);\r\n    setSoloEstacionesPES(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"filter-panel\">\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"comuna-select\">Comuna</label>\r\n        <select\r\n          id=\"comuna-select\"\r\n          value={selectedComuna}\r\n          onChange={(e) => setSelectedComuna(e.target.value)}\r\n        >\r\n          <option value=\"\">Todas las comunas</option>\r\n          {comunas.map(comuna => (\r\n            <option key={comuna} value={comuna}>{comuna}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"global-eds-search\">Buscar Estación (Región Metropolitana)</label>\r\n        <select\r\n          id=\"global-eds-search\"\r\n          value={globalEdsSearch}\r\n          onChange={(e) => {\r\n            const selectedPbl = e.target.value;\r\n            setGlobalEdsSearch(selectedPbl);\r\n            if (selectedPbl && onStationSelect) {\r\n              const station = allStations.find(s => s.pbl === selectedPbl);\r\n              if (station) {\r\n                onStationSelect(station);\r\n              }\r\n            }\r\n          }}\r\n          style={{\r\n            width: '100%',\r\n            padding: '8px',\r\n            fontSize: '13px',\r\n            border: '1px solid #ced4da',\r\n            borderRadius: '4px',\r\n            boxSizing: 'border-box'\r\n          }}\r\n        >\r\n          <option value=\"\">Selecciona una estación...</option>\r\n          {allStations.map(station => (\r\n            <option key={station.pbl} value={station.pbl}>\r\n              {station.eds} - {station.comuna}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {globalEdsSearch && (\r\n          <small style={{ fontSize: '11px', color: '#6c757d', marginTop: '4px', display: 'block' }}>\r\n            Estación seleccionada - El mapa se centrará en ella\r\n          </small>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"marca-select\">Marca</label>\r\n        <select\r\n          id=\"marca-select\"\r\n          value={selectedMarca}\r\n          onChange={(e) => setSelectedMarca(e.target.value)}\r\n        >\r\n          <option value=\"\">Todas las marcas</option>\r\n          {marcas.map(marca => (\r\n            <option key={marca} value={marca}>\r\n              {marca} {brandCounts[marca] ? `(${brandCounts[marca]})` : ''}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"jefe-select\">Jefe de Zona</label>\r\n        <select\r\n          id=\"jefe-select\"\r\n          value={selectedJefeZona}\r\n          onChange={(e) => setSelectedJefeZona(e.target.value)}\r\n        >\r\n          <option value=\"\">Selecciona un Jefe de Zona</option>\r\n          {jefesZona.map(jefe => (\r\n            <option key={jefe} value={jefe}>{jefe}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"eds-select\">EDS</label>\r\n        <select\r\n          id=\"eds-select\"\r\n          value={selectedEds}\r\n          onChange={(e) => setSelectedEds(e.target.value)}\r\n        >\r\n          <option value=\"\">Todas las EDS</option>\r\n          {filteredEds.map(eds => (\r\n            <option key={eds} value={eds}>{eds}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-group filter-checkbox\">\r\n        <label htmlFor=\"guerra-precios-checkbox\" className=\"checkbox-label\">\r\n          <input\r\n            id=\"guerra-precios-checkbox\"\r\n            type=\"checkbox\"\r\n            checked={soloGuerraPrecios}\r\n            onChange={(e) => setSoloGuerraPrecios(e.target.checked)}\r\n          />\r\n          <span className=\"checkbox-text\">Guerra de Precios</span>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"filter-group filter-checkbox filter-checkbox-pes\">\r\n        <label htmlFor=\"estaciones-pes-checkbox\" className=\"checkbox-label\">\r\n          <input\r\n            id=\"estaciones-pes-checkbox\"\r\n            type=\"checkbox\"\r\n            checked={soloEstacionesPES}\r\n            onChange={(e) => setSoloEstacionesPES(e.target.checked)}\r\n          />\r\n          <span className=\"checkbox-text\">Estaciones PES</span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}