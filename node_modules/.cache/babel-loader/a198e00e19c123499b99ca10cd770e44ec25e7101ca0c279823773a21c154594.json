{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport { createBrandLogo } from '../utils/iconHelpers';\nconst CircleMarkersLayer = ({\n  markers,\n  selectedRegion\n}) => {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (!map || markers.length === 0) return;\n\n    // Crear feature group para agrupar todos los marcadores\n    const featureGroup = L.featureGroup();\n\n    // Filtrar marcadores por regi贸n\n    const filteredMarkers = markers.filter(m => m.Region === selectedRegion);\n    console.log(` Renderizando ${filteredMarkers.length} marcadores sin clustering...`);\n    filteredMarkers.forEach(marker => {\n      // Usar circleMarker en lugar de Marker (mucho m谩s eficiente)\n      const circleMarker = L.circleMarker([marker.lat, marker.lng], {\n        radius: 6,\n        fillColor: getColorByMarca(marker.Marca),\n        color: '#fff',\n        weight: 2,\n        opacity: 1,\n        fillOpacity: 0.85,\n        className: 'circle-marker'\n      });\n\n      // Popup\n      const popupContent = `\n        <div class=\"popup-container\">\n          <div class=\"popup-header\">\n            <h3>${marker.nombre}</h3>\n          </div>\n          <div class=\"popup-content\">\n            <div class=\"popup-data\">\n              <strong>Marca:</strong> ${marker.Marca}<br />\n              <strong>Region:</strong> ${marker.Region}<br />\n              <strong>Comuna:</strong> ${marker.Comuna}<br />\n              ${marker.direccion ? `<strong>Direcci贸n:</strong> ${marker.direccion}<br />` : ''}\n            </div>\n            <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n            <div class=\"popup-data\">\n              <strong>Precios:</strong><br />\n              G93: ${marker.precio_g93 ? `$${marker.precio_g93}` : 'N/A'}<br />\n              G95: ${marker.precio_g95 ? `$${marker.precio_g95}` : 'N/A'}<br />\n              Diesel: ${marker.precio_diesel ? `$${marker.precio_diesel}` : 'N/A'}<br />\n            </div>\n            ${marker.Guerra_Precio === 'Si' ? `\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n              <div class=\"popup-data\" style=\"color: #d32f2f; font-weight: bold;\">\n                锔 Guerra de Precio Activa\n              </div>\n            ` : ''}\n          </div>\n        </div>\n      `;\n      circleMarker.bindPopup(popupContent, {\n        maxWidth: 300\n      });\n\n      // Hover effect\n      circleMarker.on('mouseover', function () {\n        this.setStyle({\n          radius: 8,\n          weight: 3\n        });\n      });\n      circleMarker.on('mouseout', function () {\n        this.setStyle({\n          radius: 6,\n          weight: 2\n        });\n      });\n      featureGroup.addLayer(circleMarker);\n    });\n    map.addLayer(featureGroup);\n    return () => {\n      map.removeLayer(featureGroup);\n    };\n  }, [map, markers, selectedRegion]);\n  return null;\n};\n_s(CircleMarkersLayer, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = CircleMarkersLayer;\nconst getColorByMarca = marca => {\n  const colors = {\n    'Copec': '#FF6B00',\n    'Petrobras': '#FFDA00',\n    'Aramco': '#FF1744',\n    'Shell': '#FFD700',\n    'Blanco': '#FFFFFF',\n    'Gulf': '#00B8E6',\n    'Petroprix': '#8B00FF',\n    'default': '#00B8A9'\n  };\n  return colors[marca] || colors.default;\n};\nexport default CircleMarkersLayer;\nvar _c;\n$RefreshReg$(_c, \"CircleMarkersLayer\");","map":{"version":3,"names":["useEffect","useMap","L","createBrandLogo","CircleMarkersLayer","markers","selectedRegion","_s","map","length","featureGroup","filteredMarkers","filter","m","Region","console","log","forEach","marker","circleMarker","lat","lng","radius","fillColor","getColorByMarca","Marca","color","weight","opacity","fillOpacity","className","popupContent","nombre","Comuna","direccion","precio_g93","precio_g95","precio_diesel","Guerra_Precio","bindPopup","maxWidth","on","setStyle","addLayer","removeLayer","_c","marca","colors","default","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/CircleMarkersLayer.jsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { createBrandLogo } from '../utils/iconHelpers';\r\n\r\nconst CircleMarkersLayer = ({ markers, selectedRegion }) => {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    if (!map || markers.length === 0) return;\r\n\r\n    // Crear feature group para agrupar todos los marcadores\r\n    const featureGroup = L.featureGroup();\r\n\r\n    // Filtrar marcadores por regi贸n\r\n    const filteredMarkers = markers.filter(m => m.Region === selectedRegion);\r\n\r\n    console.log(` Renderizando ${filteredMarkers.length} marcadores sin clustering...`);\r\n\r\n    filteredMarkers.forEach((marker) => {\r\n      // Usar circleMarker en lugar de Marker (mucho m谩s eficiente)\r\n      const circleMarker = L.circleMarker([marker.lat, marker.lng], {\r\n        radius: 6,\r\n        fillColor: getColorByMarca(marker.Marca),\r\n        color: '#fff',\r\n        weight: 2,\r\n        opacity: 1,\r\n        fillOpacity: 0.85,\r\n        className: 'circle-marker'\r\n      });\r\n\r\n      // Popup\r\n      const popupContent = `\r\n        <div class=\"popup-container\">\r\n          <div class=\"popup-header\">\r\n            <h3>${marker.nombre}</h3>\r\n          </div>\r\n          <div class=\"popup-content\">\r\n            <div class=\"popup-data\">\r\n              <strong>Marca:</strong> ${marker.Marca}<br />\r\n              <strong>Region:</strong> ${marker.Region}<br />\r\n              <strong>Comuna:</strong> ${marker.Comuna}<br />\r\n              ${marker.direccion ? `<strong>Direcci贸n:</strong> ${marker.direccion}<br />` : ''}\r\n            </div>\r\n            <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n            <div class=\"popup-data\">\r\n              <strong>Precios:</strong><br />\r\n              G93: ${marker.precio_g93 ? `$${marker.precio_g93}` : 'N/A'}<br />\r\n              G95: ${marker.precio_g95 ? `$${marker.precio_g95}` : 'N/A'}<br />\r\n              Diesel: ${marker.precio_diesel ? `$${marker.precio_diesel}` : 'N/A'}<br />\r\n            </div>\r\n            ${marker.Guerra_Precio === 'Si' ? `\r\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n              <div class=\"popup-data\" style=\"color: #d32f2f; font-weight: bold;\">\r\n                锔 Guerra de Precio Activa\r\n              </div>\r\n            ` : ''}\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n      circleMarker.bindPopup(popupContent, { maxWidth: 300 });\r\n      \r\n      // Hover effect\r\n      circleMarker.on('mouseover', function() {\r\n        this.setStyle({ radius: 8, weight: 3 });\r\n      });\r\n      circleMarker.on('mouseout', function() {\r\n        this.setStyle({ radius: 6, weight: 2 });\r\n      });\r\n\r\n      featureGroup.addLayer(circleMarker);\r\n    });\r\n\r\n    map.addLayer(featureGroup);\r\n\r\n    return () => {\r\n      map.removeLayer(featureGroup);\r\n    };\r\n  }, [map, markers, selectedRegion]);\r\n\r\n  return null;\r\n};\r\n\r\nconst getColorByMarca = (marca) => {\r\n  const colors = {\r\n    'Copec': '#FF6B00',\r\n    'Petrobras': '#FFDA00',\r\n    'Aramco': '#FF1744',\r\n    'Shell': '#FFD700',\r\n    'Blanco': '#FFFFFF',\r\n    'Gulf': '#00B8E6',\r\n    'Petroprix': '#8B00FF',\r\n    'default': '#00B8A9'\r\n  };\r\n  return colors[marca] || colors.default;\r\n};\r\n\r\nexport default CircleMarkersLayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}