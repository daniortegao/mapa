{"ast":null,"code":"import _objectSpread from\"C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{getMercadoAlerta,getHistoricoAlerta,getDataBaseguerra,getDataBaseajuste}from'../services/apiService';import'../styles/AlertPanel.css';// Agrupar alertas por estaci√≥n\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function groupAlertsByStation(alerts){const grouped={};alerts.forEach(alert=>{const key=alert.Nom_Eds||'Sin nombre';if(!grouped[key])grouped[key]=[];grouped[key].push(alert);});return grouped;}// CONTADOR CORRECTO DE ESTACIONES √öNICAS\nfunction getStationCount(alerts){const estaciones={};alerts.forEach(a=>estaciones[a.Nom_Eds||'Sin nombre']=true);return Object.keys(estaciones).length;}// Funci√≥n para parsear fechas en formato \"DD-MM-YYYY HH:mm\"\nfunction parseFecha(fechaStr){const[datePart,timePart]=fechaStr.split(' ');const[day,month,year]=datePart.split('-').map(Number);const[hours,minutes]=timePart?timePart.split(':').map(Number):[0,0];return new Date(year,month-1,day,hours,minutes);}const ITEMS_PER_PAGE=50;const AlertPanel=_ref=>{let{isVisible,onClose,alertasExternas}=_ref;const[activeTab,setActiveTab]=useState('alertas');const[alertas,setAlertas]=useState([]);const[historico,setHistorico]=useState([]);const[guerraData,setGuerraData]=useState([]);const[ajustesData,setAjustesData]=useState([]);const[loading,setLoading]=useState(true);const[page,setPage]=useState(1);// Estados para filtros hist√≥rico\nconst[filterNombreEstacion,setFilterNombreEstacion]=useState('');const[filterSoloGuerra,setFilterSoloGuerra]=useState(false);// Estados para filtros ajustes\nconst[filterNombreAjuste,setFilterNombreAjuste]=useState('');const[filterCombustible,setFilterCombustible]=useState('');useEffect(()=>{if(alertasExternas){setAlertas(alertasExternas);setLoading(false);}else if(isVisible){loadData();}},[isVisible,alertasExternas]);const loadData=async()=>{try{setLoading(true);const[alertasData,historicoData,guerraDataResult,ajustesDataResult]=await Promise.all([getMercadoAlerta(),getHistoricoAlerta(),getDataBaseguerra(),getDataBaseajuste()]);setAlertas(Array.isArray(alertasData)?alertasData:[]);setHistorico(Array.isArray(historicoData)?historicoData:[]);const guerraArr=Array.isArray(guerraDataResult)?guerraDataResult:Array.isArray(guerraDataResult===null||guerraDataResult===void 0?void 0:guerraDataResult.data)?guerraDataResult.data:[];setGuerraData(guerraArr);const ajustesArr=Array.isArray(ajustesDataResult)?ajustesDataResult:Array.isArray(ajustesDataResult===null||ajustesDataResult===void 0?void 0:ajustesDataResult.data)?ajustesDataResult.data:[];setAjustesData(ajustesArr);}catch(_unused){setAlertas([]);setHistorico([]);setGuerraData([]);setAjustesData([]);}finally{setLoading(false);}};const agrupadas=useMemo(()=>groupAlertsByStation(alertas),[alertas]);const cantidadEstaciones=useMemo(()=>getStationCount(alertas),[alertas]);const estacionesGuerra=useMemo(()=>{if(!Array.isArray(guerraData))return[];return guerraData.filter(item=>item.Activa==='Si').sort((a,b)=>{if(a.Guerra_Precio==='Si'&&b.Guerra_Precio!=='Si')return-1;if(a.Guerra_Precio!=='Si'&&b.Guerra_Precio==='Si')return 1;return(a.Nom_Eds||'').localeCompare(b.Nom_Eds||'');});},[guerraData]);// Filtrado del hist√≥rico\nconst historicoFiltrado=useMemo(()=>{let filtered=[...historico];if(filterNombreEstacion.trim()!==''){const searchTerm=filterNombreEstacion.toLowerCase();filtered=filtered.filter(item=>(item.Nom_Eds||'').toLowerCase().includes(searchTerm));}if(filterSoloGuerra){const estacionesEnGuerra=new Set(guerraData.filter(g=>g.Guerra_Precio==='Si').map(g=>g.Nom_Eds));filtered=filtered.filter(item=>estacionesEnGuerra.has(item.Nom_Eds));}return filtered;},[historico,filterNombreEstacion,filterSoloGuerra,guerraData]);const historicoSorted=useMemo(()=>{return[...historicoFiltrado].sort((a,b)=>parseFecha(b.Fecha)-parseFecha(a.Fecha));},[historicoFiltrado]);// Filtrado de ajustes\nconst ajustesFiltrado=useMemo(()=>{let filtered=[...ajustesData];if(filterNombreAjuste.trim()!==''){const searchTerm=filterNombreAjuste.toLowerCase();filtered=filtered.filter(item=>(item.Nom_Eds||'').toLowerCase().includes(searchTerm));}if(filterCombustible.trim()!==''){filtered=filtered.filter(item=>item.combustible===filterCombustible);}return filtered;},[ajustesData,filterNombreAjuste,filterCombustible]);const ajustesSorted=useMemo(()=>{return[...ajustesFiltrado];},[ajustesFiltrado]);const totalPages=Math.max(1,Math.ceil(historicoSorted.length/ITEMS_PER_PAGE));const totalPagesAjustes=Math.max(1,Math.ceil(ajustesSorted.length/ITEMS_PER_PAGE));const historicoPageSlice=historicoSorted.slice((page-1)*ITEMS_PER_PAGE,page*ITEMS_PER_PAGE);const ajustesPageSlice=ajustesSorted.slice((page-1)*ITEMS_PER_PAGE,page*ITEMS_PER_PAGE);const handlePrevPage=()=>setPage(p=>Math.max(p-1,1));const handleNextPage=()=>setPage(p=>Math.min(p+1,activeTab==='ajustes'?totalPagesAjustes:totalPages));// Reset p√°gina al cambiar filtros o tab\nuseEffect(()=>{setPage(1);},[filterNombreEstacion,filterSoloGuerra,filterNombreAjuste,filterCombustible,activeTab]);const combustiblesUnicos=useMemo(()=>{return[...new Set(ajustesData.map(a=>a.combustible))].filter(Boolean);},[ajustesData]);return/*#__PURE__*/_jsxs(\"aside\",{className:\"alert-panel\".concat(!isVisible?' hidden':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-panel-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"alert-panel-title\",children:\"\\uD83D\\uDCCA Alertas de Mercado\"}),/*#__PURE__*/_jsx(\"button\",{className:\"alert-panel-close\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='alertas'?'active':''),onClick:()=>setActiveTab('alertas'),children:[\"Alertas Activas (\",cantidadEstaciones,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='historico'?'active':''),onClick:()=>setActiveTab('historico'),children:[\"Hist\\xF3rico Movimiento (\",historicoSorted.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='ajustes'?'active':''),onClick:()=>setActiveTab('ajustes'),children:[\"Ajustes PES (\",ajustesSorted.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='guerra'?'active':''),onClick:()=>setActiveTab('guerra'),children:[\"En Seguimiento (\",estacionesGuerra.length,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-panel-content\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"alert-loading\",children:\"Cargando...\"}):activeTab==='alertas'?/*#__PURE__*/_jsx(AlertasActivas,{agrupadas:agrupadas}):activeTab==='guerra'?/*#__PURE__*/_jsx(GuerraPreciosPanel,{data:estacionesGuerra}):activeTab==='historico'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HistoricoAlertas,{data:historicoPageSlice,filterNombreEstacion:filterNombreEstacion,setFilterNombreEstacion:setFilterNombreEstacion,filterSoloGuerra:filterSoloGuerra,setFilterSoloGuerra:setFilterSoloGuerra,totalItems:historicoSorted.length}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,textAlign:'center',padding:'10px',background:'white'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,disabled:page===1,children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{style:{margin:'0 10px'},children:[\"P\\xE1gina \",page,\" de \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:page===totalPages,children:\"Siguiente\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AjustesTabla,{data:ajustesPageSlice,filterNombreAjuste:filterNombreAjuste,setFilterNombreAjuste:setFilterNombreAjuste,filterCombustible:filterCombustible,setFilterCombustible:setFilterCombustible,combustiblesUnicos:combustiblesUnicos,totalItems:ajustesSorted.length}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,textAlign:'center',padding:'10px',background:'white'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,disabled:page===1,children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{style:{margin:'0 10px'},children:[\"P\\xE1gina \",page,\" de \",totalPagesAjustes]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:page===totalPagesAjustes,children:\"Siguiente\"})]})]})})]});};const AlertasActivas=_ref2=>{let{agrupadas}=_ref2;const estaciones=Object.entries(agrupadas);if(estaciones.length===0)return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"No hay alertas activas\"});return/*#__PURE__*/_jsx(\"div\",{className:\"alerts-list\",children:estaciones.map(_ref3=>{let[station,alerts]=_ref3;const anyWar=alerts.some(a=>a.Guerra_Precio==='Si');const stationAlert=alerts[0];return/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card\".concat(anyWar?' guerra':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-icon\",children:anyWar?'‚ö°':'üî¥'}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:station}),/*#__PURE__*/_jsxs(\"span\",{className:\"alert-marca\",children:[stationAlert.marca,\" - \",stationAlert.cod_cne]})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"alert-combs-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Comb.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actual\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Anterior\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dif.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Hora\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:alerts.map((a,i)=>{const dif=(a.Precio||0)-(a.PrecioAnterior||0);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:a.Combustible}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",a.Precio]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",a.PrecioAnterior]}),/*#__PURE__*/_jsxs(\"td\",{className:dif<0?'negative':'positive',children:[dif>0&&\"+\",dif]}),/*#__PURE__*/_jsx(\"td\",{children:a.Horario}),/*#__PURE__*/_jsx(\"td\",{children:a.tipo_atencion})]},i);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',color:'#999',fontSize:'12px'},children:alerts.map(a=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Actual: \",a.Fecha,\", Anterior: \",a.FechaAnterior]}),a.Guerra_Precio===\"Si\"&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:8,color:\"#e67e22\"},children:\"\\u26A1 GUERRA DE PRECIO\"})]},a.Combustible))})]},station);})});};const GuerraPreciosPanel=_ref4=>{let{data}=_ref4;if(!Array.isArray(data)||data.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"No hay estaciones disponibles\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"guerra-list-simple\",children:data.map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"guerra-simple-card\".concat(item.Guerra_Precio==='Si'?' gcard-guerra':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gsc-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-icon\".concat(item.Guerra_Precio==='Si'?' guerra':''),children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-eds\",children:item.Nom_Eds}),/*#__PURE__*/_jsxs(\"span\",{className:\"gsc-pbl\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-pbl-label\",children:\"PBL\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-pbl-value\",children:item.PBL})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gsc-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label\",children:\"CNE:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-value\",children:item.ID_Cne}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label\",children:\"Tipo:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-value\",children:item.Tipo_EDS}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label estado \".concat(item.Activa==='Si'?'activo':'inactivo'),children:item.Activa==='Si'?'Activa':'Inactiva'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gsc-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label\",children:\"Regi\\xF3n:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-value\",children:item.region})]})]},idx))});};const HistoricoAlertas=_ref5=>{let{data,filterNombreEstacion,setFilterNombreEstacion,filterSoloGuerra,setFilterSoloGuerra,totalItems}=_ref5;if(!Array.isArray(data))return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"\\u26A0\\uFE0F Error: Los datos no son un array\"});if(data.length===0)return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"\\uD83D\\uDCCB No hay hist\\xF3rico disponible\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"historico-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"historico-filtros\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"filter-nombre\",type:\"text\",className:\"input-filtro-hist\",placeholder:\"Buscar estaci\\xF3n...\",value:filterNombreEstacion,onChange:e=>setFilterNombreEstacion(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-filtro-hist\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filterSoloGuerra,onChange:e=>setFilterSoloGuerra(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Solo estaciones en guerra\"})]}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#666',fontSize:'13px',fontWeight:600},children:[\"Mostrando \",data.length,\" de \",totalItems]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"historico-table-compact\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{title:\"Estaci\\xF3n\",children:\"Estaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Marca\",children:\"Marca\"}),/*#__PURE__*/_jsx(\"th\",{title:\"C\\xF3digo CNE\",children:\"CNE\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Combustible\",children:\"Comb\"}),/*#__PURE__*/_jsx(\"th\",{title:\"PBL\",children:\"PBL\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Precio Actual\",children:\"P Actual\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Precio Anterior\",children:\"P Anterior\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Diferencia\",children:\"Ajuste\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Tipo de Atenci\\xF3n\",children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Horario\",children:\"Horario\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Fecha Cambio Actual\",children:\"Fecha Actual\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Fecha Cambio Anterior\",children:\"Fecha Anterior\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Fecha de Carga\",children:\"Fecha Carga\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Marcador Principal\",children:\"Marcador\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((item,idx)=>{var _item$Nom_Eds,_item$cod_cne,_item$Combustible;const precioActual=Number(item.Precio)||0;const precioAnterior=Number(item.PrecioAnterior)||0;const diferencia=precioActual-precioAnterior;const guerra=item.Guerra_Precio==='Si';const marcadorPrincipal=item.Marcador_Principal==='Si';const cambioClass=diferencia>0?'precio-sube':diferencia<0?'precio-baja':'precio-igual';const cambioIcon=diferencia>0?'‚Üë':diferencia<0?'‚Üì':'=';const cambioSigno=diferencia>0?'+':'';const tipoIcon=item.tipo_atencion==='Asistido'?'üë§':item.tipo_atencion==='Autoservicio'?'‚õΩ':'‚ùì';const formatFechaCompacta=fechaStr=>{if(!fechaStr)return{dia:'-',hora:''};const[fecha,hora]=fechaStr.split(' ');return{dia:fecha||'-',hora:(hora===null||hora===void 0?void 0:hora.substring(0,5))||''};};const fechaActual=formatFechaCompacta(item.Fecha);const fechaAnterior=formatFechaCompacta(item.FechaAnterior);const fechaCarga=formatFechaCompacta(item.FechaCarga);return/*#__PURE__*/_jsxs(\"tr\",{className:\"historico-row \".concat(guerra?'guerra-row':'',\" \").concat(marcadorPrincipal?'principal-row':''),children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-estacion\",title:item.Nom_Eds,children:((_item$Nom_Eds=item.Nom_Eds)===null||_item$Nom_Eds===void 0?void 0:_item$Nom_Eds.slice(0,18))||'S/N'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-marca\",children:item.marca||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-cne\",title:item.cod_cne,children:((_item$cod_cne=item.cod_cne)===null||_item$cod_cne===void 0?void 0:_item$cod_cne.slice(-6))||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-combustible\",children:/*#__PURE__*/_jsx(\"span\",{className:\"combustible-badge combustible-\".concat((_item$Combustible=item.Combustible)===null||_item$Combustible===void 0?void 0:_item$Combustible.toLowerCase()),children:item.Combustible||'-'})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-pbl\",children:item.pbl||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-precio\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",precioActual]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"td-anterior\",children:[\"$\",precioAnterior]}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(cambioClass),children:/*#__PURE__*/_jsxs(\"strong\",{children:[cambioIcon,\" \",cambioSigno,diferencia]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-tipo\",title:item.tipo_atencion,children:tipoIcon}),/*#__PURE__*/_jsx(\"td\",{className:\"td-horario\",title:item.Horario,children:/*#__PURE__*/_jsx(\"span\",{className:\"horario-texto\",children:item.Horario||'-'})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaActual.dia}),/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaActual.hora})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaAnterior.dia}),/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaAnterior.hora})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaCarga.dia}),/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaCarga.hora})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-principal\",children:marcadorPrincipal&&/*#__PURE__*/_jsx(\"span\",{className:\"principal-icon\",title:\"Marcador Principal\",children:\"SI\"})})]},idx);})})]})]});};const AjustesTabla=_ref6=>{let{data,filterNombreAjuste,setFilterNombreAjuste,filterCombustible,setFilterCombustible,combustiblesUnicos,totalItems}=_ref6;const[vistaDetallada,setVistaDetallada]=useState(false);// ‚úÖ Agrupar por cod_cne y luego por combinaci√≥n de Diferencia_Competencia + Estrategia_Propia\nconst agrupadosPorEstacion=useMemo(()=>{const grupos={};data.forEach(item=>{const key=item.cod_cne||'sin_cne';if(!grupos[key]){grupos[key]={Nom_Eds:item.Nom_Eds,marca:item.marca,cod_cne:item.cod_cne,pbl:item.pbl,combustibles:[]};}grupos[key].combustibles.push(item);});// Sub-agrupar combustibles por combinaci√≥n √∫nica de diferencias\nreturn Object.values(grupos).map(grupo=>{const subgrupos={};grupo.combustibles.forEach(comb=>{const difComp=comb.Diferencia_Competencia||0;const difPropia=comb.Estrategia_Propia||0;const combinedKey=\"\".concat(difComp,\"_\").concat(difPropia);if(!subgrupos[combinedKey]){subgrupos[combinedKey]={diferencia_competencia:difComp,diferencia_propia:difPropia,combustibles:[]};}subgrupos[combinedKey].combustibles.push(comb);});return _objectSpread(_objectSpread({},grupo),{},{subgrupos:Object.values(subgrupos)});});},[data]);if(data.length===0)return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"\\uD83D\\uDCCB No hay datos de ajustes disponibles\"});const formatFecha=fechaStr=>{if(!fechaStr||fechaStr==='Mantiene Fecha')return{dia:'Mantiene',hora:''};const[datePart,timePart]=fechaStr.split(' ');return{dia:datePart||'-',hora:(timePart===null||timePart===void 0?void 0:timePart.substring(0,5))||''};};return/*#__PURE__*/_jsxs(\"div\",{className:\"historico-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"historico-filtros\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-filtro-hist\",placeholder:\"Buscar estaci\\xF3n...\",value:filterNombreAjuste,onChange:e=>setFilterNombreAjuste(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"input-filtro-hist\",value:filterCombustible,onChange:e=>setFilterCombustible(e.target.value),style:{minWidth:'150px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos los combustibles\"}),combustiblesUnicos.map(comb=>/*#__PURE__*/_jsx(\"option\",{value:comb,children:comb},comb))]}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-filtro-hist\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:vistaDetallada,onChange:e=>setVistaDetallada(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Vista detallada\"})]}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#666',fontSize:'13px',fontWeight:600},children:[\"Mostrando \",vistaDetallada?data.length:agrupadosPorEstacion.length,\" registros\"]})]}),vistaDetallada?/*#__PURE__*//* Vista Detallada */_jsxs(\"table\",{className:\"historico-table-compact\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Estaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CNE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Combustible\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PBL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Precio Asistido\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Precio Autoservicio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dif. Competencia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estrategia Propia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cambio Precio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha Autoservicio\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((item,idx)=>{var _item$Nom_Eds2,_item$cod_cne2,_item$combustible;const fechaAutoservicio=formatFecha(item.fecha_autoservicio);const difEstrategia=item.Estrategia_Propia||0;const difCompetencia=item.Diferencia_Competencia||0;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-estacion\",title:item.Nom_Eds,children:((_item$Nom_Eds2=item.Nom_Eds)===null||_item$Nom_Eds2===void 0?void 0:_item$Nom_Eds2.slice(0,18))||'S/N'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-marca\",children:item.marca||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-cne\",title:item.cod_cne,children:((_item$cod_cne2=item.cod_cne)===null||_item$cod_cne2===void 0?void 0:_item$cod_cne2.slice(-6))||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-combustible\",children:/*#__PURE__*/_jsx(\"span\",{className:\"combustible-badge combustible-\".concat((_item$combustible=item.combustible)===null||_item$combustible===void 0?void 0:_item$combustible.toLowerCase()),children:item.combustible||'-'})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-pbl\",children:item.pbl||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-precio\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",item.precio_asistido||0]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-precio\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",item.precio_autoservicio||0]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(difCompetencia>0?'precio-sube':difCompetencia<0?'precio-baja':'precio-igual'),children:/*#__PURE__*/_jsxs(\"strong\",{children:[difCompetencia>0?'+':'',difCompetencia]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(difEstrategia>0?'precio-sube':difEstrategia<0?'precio-baja':'precio-igual'),children:/*#__PURE__*/_jsxs(\"strong\",{children:[difEstrategia>0?'+':'',difEstrategia]})}),/*#__PURE__*/_jsx(\"td\",{style:{fontSize:'8px',maxWidth:'100px',textAlign:'center'},children:item.cambio_precio||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaAutoservicio.dia}),/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaAutoservicio.hora})]})})]},idx);})})]}):/*#__PURE__*//* Vista Simplificada - Agrupada por combinaci√≥n √∫nica de diferencias */_jsxs(\"table\",{className:\"historico-table-compact ajustes-simplified\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"EDS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\",children:\"Diferencia Competencia\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\",children:\"Diferencia Propia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cambio\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:agrupadosPorEstacion.map((grupo,idx)=>grupo.subgrupos.map((subgrupo,subIdx)=>{var _grupo$combustibles$;return/*#__PURE__*/_jsxs(\"tr\",{children:[subIdx===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-estacion\",style:{fontSize:'11px',fontWeight:'600'},rowSpan:grupo.subgrupos.length,children:grupo.Nom_Eds||'S/N'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-marca\",style:{fontSize:'10px'},rowSpan:grupo.subgrupos.length,children:grupo.marca||'-'})]}):null,/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{padding:'4px 8px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'4px',flexWrap:'wrap'},children:subgrupo.combustibles.map((comb,i)=>{var _comb$combustible;return/*#__PURE__*/_jsx(\"span\",{className:\"combustible-badge combustible-\".concat((_comb$combustible=comb.combustible)===null||_comb$combustible===void 0?void 0:_comb$combustible.toLowerCase()),children:comb.combustible},i);})}),/*#__PURE__*/_jsxs(\"span\",{className:\"td-diferencia \".concat(subgrupo.diferencia_competencia>0?'precio-sube':subgrupo.diferencia_competencia<0?'precio-baja':'precio-igual'),style:{fontWeight:'700',fontSize:'11px',minWidth:'40px',textAlign:'right'},children:[subgrupo.diferencia_competencia>0?'+':'',subgrupo.diferencia_competencia]})]})}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{padding:'4px 8px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'4px',flexWrap:'wrap'},children:subgrupo.combustibles.map((comb,i)=>{var _comb$combustible2;return/*#__PURE__*/_jsx(\"span\",{className:\"combustible-badge combustible-\".concat((_comb$combustible2=comb.combustible)===null||_comb$combustible2===void 0?void 0:_comb$combustible2.toLowerCase()),children:comb.combustible},i);})}),/*#__PURE__*/_jsxs(\"span\",{className:\"td-diferencia \".concat(subgrupo.diferencia_propia>0?'precio-sube':subgrupo.diferencia_propia<0?'precio-baja':'precio-igual'),style:{fontWeight:'700',fontSize:'11px',minWidth:'40px',textAlign:'right'},children:[subgrupo.diferencia_propia>0?'+':'',subgrupo.diferencia_propia]})]})}),subIdx===0?/*#__PURE__*/_jsx(\"td\",{style:{fontSize:'8px',textAlign:'center',maxWidth:'120px'},rowSpan:grupo.subgrupos.length,children:((_grupo$combustibles$=grupo.combustibles[0])===null||_grupo$combustibles$===void 0?void 0:_grupo$combustibles$.cambio_precio)||'-'}):null]},\"\".concat(idx,\"-\").concat(subIdx));}))})]})]});};export default AlertPanel;","map":{"version":3,"names":["React","useState","useEffect","useMemo","getMercadoAlerta","getHistoricoAlerta","getDataBaseguerra","getDataBaseajuste","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","groupAlertsByStation","alerts","grouped","forEach","alert","key","Nom_Eds","push","getStationCount","estaciones","a","Object","keys","length","parseFecha","fechaStr","datePart","timePart","split","day","month","year","map","Number","hours","minutes","Date","ITEMS_PER_PAGE","AlertPanel","_ref","isVisible","onClose","alertasExternas","activeTab","setActiveTab","alertas","setAlertas","historico","setHistorico","guerraData","setGuerraData","ajustesData","setAjustesData","loading","setLoading","page","setPage","filterNombreEstacion","setFilterNombreEstacion","filterSoloGuerra","setFilterSoloGuerra","filterNombreAjuste","setFilterNombreAjuste","filterCombustible","setFilterCombustible","loadData","alertasData","historicoData","guerraDataResult","ajustesDataResult","Promise","all","Array","isArray","guerraArr","data","ajustesArr","_unused","agrupadas","cantidadEstaciones","estacionesGuerra","filter","item","Activa","sort","b","Guerra_Precio","localeCompare","historicoFiltrado","filtered","trim","searchTerm","toLowerCase","includes","estacionesEnGuerra","Set","g","has","historicoSorted","Fecha","ajustesFiltrado","combustible","ajustesSorted","totalPages","Math","max","ceil","totalPagesAjustes","historicoPageSlice","slice","ajustesPageSlice","handlePrevPage","p","handleNextPage","min","combustiblesUnicos","Boolean","className","concat","children","onClick","AlertasActivas","GuerraPreciosPanel","HistoricoAlertas","totalItems","style","marginTop","textAlign","padding","background","disabled","margin","AjustesTabla","_ref2","entries","_ref3","station","anyWar","some","stationAlert","marca","cod_cne","i","dif","Precio","PrecioAnterior","Combustible","Horario","tipo_atencion","color","fontSize","FechaAnterior","marginLeft","_ref4","idx","PBL","ID_Cne","Tipo_EDS","region","_ref5","id","type","placeholder","value","onChange","e","target","checked","fontWeight","title","_item$Nom_Eds","_item$cod_cne","_item$Combustible","precioActual","precioAnterior","diferencia","guerra","marcadorPrincipal","Marcador_Principal","cambioClass","cambioIcon","cambioSigno","tipoIcon","formatFechaCompacta","dia","hora","fecha","substring","fechaActual","fechaAnterior","fechaCarga","FechaCarga","pbl","_ref6","vistaDetallada","setVistaDetallada","agrupadosPorEstacion","grupos","combustibles","values","grupo","subgrupos","comb","difComp","Diferencia_Competencia","difPropia","Estrategia_Propia","combinedKey","diferencia_competencia","diferencia_propia","_objectSpread","formatFecha","minWidth","_item$Nom_Eds2","_item$cod_cne2","_item$combustible","fechaAutoservicio","fecha_autoservicio","difEstrategia","difCompetencia","precio_asistido","precio_autoservicio","maxWidth","cambio_precio","colSpan","subgrupo","subIdx","_grupo$combustibles$","rowSpan","display","justifyContent","alignItems","gap","flexWrap","_comb$combustible","_comb$combustible2"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/AlertPanel.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { getMercadoAlerta, getHistoricoAlerta, getDataBaseguerra, getDataBaseajuste } from '../services/apiService';\r\nimport '../styles/AlertPanel.css';\r\n\r\n// Agrupar alertas por estaci√≥n\r\nfunction groupAlertsByStation(alerts) {\r\n  const grouped = {};\r\n  alerts.forEach(alert => {\r\n    const key = alert.Nom_Eds || 'Sin nombre';\r\n    if (!grouped[key]) grouped[key] = [];\r\n    grouped[key].push(alert);\r\n  });\r\n  return grouped;\r\n}\r\n\r\n// CONTADOR CORRECTO DE ESTACIONES √öNICAS\r\nfunction getStationCount(alerts) {\r\n  const estaciones = {};\r\n  alerts.forEach(a => estaciones[a.Nom_Eds || 'Sin nombre'] = true);\r\n  return Object.keys(estaciones).length;\r\n}\r\n\r\n// Funci√≥n para parsear fechas en formato \"DD-MM-YYYY HH:mm\"\r\nfunction parseFecha(fechaStr) {\r\n  const [datePart, timePart] = fechaStr.split(' ');\r\n  const [day, month, year] = datePart.split('-').map(Number);\r\n  const [hours, minutes] = timePart ? timePart.split(':').map(Number) : [0, 0];\r\n  return new Date(year, month - 1, day, hours, minutes);\r\n}\r\n\r\nconst ITEMS_PER_PAGE = 50;\r\n\r\nconst AlertPanel = ({ isVisible, onClose, alertasExternas }) => {\r\n  const [activeTab, setActiveTab] = useState('alertas');\r\n  const [alertas, setAlertas] = useState([]);\r\n  const [historico, setHistorico] = useState([]);\r\n  const [guerraData, setGuerraData] = useState([]);\r\n  const [ajustesData, setAjustesData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n\r\n  // Estados para filtros hist√≥rico\r\n  const [filterNombreEstacion, setFilterNombreEstacion] = useState('');\r\n  const [filterSoloGuerra, setFilterSoloGuerra] = useState(false);\r\n\r\n  // Estados para filtros ajustes\r\n  const [filterNombreAjuste, setFilterNombreAjuste] = useState('');\r\n  const [filterCombustible, setFilterCombustible] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (alertasExternas) {\r\n      setAlertas(alertasExternas);\r\n      setLoading(false);\r\n    } else if (isVisible) {\r\n      loadData();\r\n    }\r\n  }, [isVisible, alertasExternas]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [alertasData, historicoData, guerraDataResult, ajustesDataResult] = await Promise.all([\r\n        getMercadoAlerta(),\r\n        getHistoricoAlerta(),\r\n        getDataBaseguerra(),\r\n        getDataBaseajuste()\r\n      ]);\r\n      \r\n      setAlertas(Array.isArray(alertasData) ? alertasData : []);\r\n      setHistorico(Array.isArray(historicoData) ? historicoData : []);\r\n    \r\n      const guerraArr =\r\n        Array.isArray(guerraDataResult) ? guerraDataResult :\r\n        Array.isArray(guerraDataResult?.data) ? guerraDataResult.data : [];\r\n      setGuerraData(guerraArr);\r\n\r\n      const ajustesArr =\r\n        Array.isArray(ajustesDataResult) ? ajustesDataResult :\r\n        Array.isArray(ajustesDataResult?.data) ? ajustesDataResult.data : [];\r\n      setAjustesData(ajustesArr);\r\n\r\n    } catch {\r\n      setAlertas([]);\r\n      setHistorico([]);\r\n      setGuerraData([]);\r\n      setAjustesData([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const agrupadas = useMemo(() => groupAlertsByStation(alertas), [alertas]);\r\n  const cantidadEstaciones = useMemo(() => getStationCount(alertas), [alertas]);\r\n\r\n  const estacionesGuerra = useMemo(() => {\r\n    if (!Array.isArray(guerraData)) return [];\r\n    \r\n    return guerraData\r\n      .filter(item => item.Activa === 'Si')\r\n      .sort((a, b) => {\r\n        if (a.Guerra_Precio === 'Si' && b.Guerra_Precio !== 'Si') return -1;\r\n        if (a.Guerra_Precio !== 'Si' && b.Guerra_Precio === 'Si') return 1;\r\n        return (a.Nom_Eds || '').localeCompare(b.Nom_Eds || '');\r\n      });\r\n  }, [guerraData]);\r\n\r\n  // Filtrado del hist√≥rico\r\n  const historicoFiltrado = useMemo(() => {\r\n    let filtered = [...historico];\r\n\r\n    if (filterNombreEstacion.trim() !== '') {\r\n      const searchTerm = filterNombreEstacion.toLowerCase();\r\n      filtered = filtered.filter(item => \r\n        (item.Nom_Eds || '').toLowerCase().includes(searchTerm)\r\n      );\r\n    }\r\n\r\n    if (filterSoloGuerra) {\r\n      const estacionesEnGuerra = new Set(\r\n        guerraData\r\n          .filter(g => g.Guerra_Precio === 'Si')\r\n          .map(g => g.Nom_Eds)\r\n      );\r\n      filtered = filtered.filter(item => estacionesEnGuerra.has(item.Nom_Eds));\r\n    }\r\n\r\n    return filtered;\r\n  }, [historico, filterNombreEstacion, filterSoloGuerra, guerraData]);\r\n\r\n  const historicoSorted = useMemo(() => {\r\n    return [...historicoFiltrado].sort((a, b) => parseFecha(b.Fecha) - parseFecha(a.Fecha));\r\n  }, [historicoFiltrado]);\r\n\r\n  // Filtrado de ajustes\r\n  const ajustesFiltrado = useMemo(() => {\r\n    let filtered = [...ajustesData];\r\n\r\n    if (filterNombreAjuste.trim() !== '') {\r\n      const searchTerm = filterNombreAjuste.toLowerCase();\r\n      filtered = filtered.filter(item => \r\n        (item.Nom_Eds || '').toLowerCase().includes(searchTerm)\r\n      );\r\n    }\r\n\r\n    if (filterCombustible.trim() !== '') {\r\n      filtered = filtered.filter(item => \r\n        item.combustible === filterCombustible\r\n      );\r\n    }\r\n\r\n    return filtered;\r\n  }, [ajustesData, filterNombreAjuste, filterCombustible]);\r\n\r\n  const ajustesSorted = useMemo(() => {\r\n    return [...ajustesFiltrado];\r\n  }, [ajustesFiltrado]);\r\n\r\n  const totalPages = Math.max(1, Math.ceil(historicoSorted.length / ITEMS_PER_PAGE));\r\n  const totalPagesAjustes = Math.max(1, Math.ceil(ajustesSorted.length / ITEMS_PER_PAGE));\r\n  \r\n  const historicoPageSlice = historicoSorted.slice((page - 1) * ITEMS_PER_PAGE, page * ITEMS_PER_PAGE);\r\n  const ajustesPageSlice = ajustesSorted.slice((page - 1) * ITEMS_PER_PAGE, page * ITEMS_PER_PAGE);\r\n\r\n  const handlePrevPage = () => setPage(p => Math.max(p - 1, 1));\r\n  const handleNextPage = () => setPage(p => Math.min(p + 1, activeTab === 'ajustes' ? totalPagesAjustes : totalPages));\r\n\r\n  // Reset p√°gina al cambiar filtros o tab\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [filterNombreEstacion, filterSoloGuerra, filterNombreAjuste, filterCombustible, activeTab]);\r\n\r\n  const combustiblesUnicos = useMemo(() => {\r\n    return [...new Set(ajustesData.map(a => a.combustible))].filter(Boolean);\r\n  }, [ajustesData]);\r\n\r\n  return (\r\n    <aside className={`alert-panel${!isVisible ? ' hidden' : ''}`}>\r\n      <div className=\"alert-panel-header\">\r\n        <h3 className=\"alert-panel-title\">üìä Alertas de Mercado</h3>\r\n        <button className=\"alert-panel-close\" onClick={onClose}>‚úï</button>\r\n      </div>\r\n      <div className=\"alert-tabs\">\r\n        <button\r\n          className={`alert-tab ${activeTab === 'alertas' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('alertas')}\r\n        >\r\n          Alertas Activas ({cantidadEstaciones})\r\n        </button>\r\n        \r\n        <button\r\n          className={`alert-tab ${activeTab === 'historico' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('historico')}\r\n        >\r\n          Hist√≥rico Movimiento ({historicoSorted.length})\r\n        </button>\r\n        <button\r\n          className={`alert-tab ${activeTab === 'ajustes' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('ajustes')}\r\n        >\r\n          Ajustes PES ({ajustesSorted.length})\r\n        </button>\r\n        <button\r\n          className={`alert-tab ${activeTab === 'guerra' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('guerra')}\r\n        >\r\n          En Seguimiento ({estacionesGuerra.length})\r\n        </button>\r\n      </div>\r\n      <div className=\"alert-panel-content\">\r\n        {loading ? (\r\n          <div className=\"alert-loading\">Cargando...</div>\r\n        ) : activeTab === 'alertas' ? (\r\n          <AlertasActivas agrupadas={agrupadas} />\r\n        ) : activeTab === 'guerra' ? (\r\n          <GuerraPreciosPanel data={estacionesGuerra} />\r\n        ) : activeTab === 'historico' ? (\r\n          <>\r\n            <HistoricoAlertas \r\n              data={historicoPageSlice}\r\n              filterNombreEstacion={filterNombreEstacion}\r\n              setFilterNombreEstacion={setFilterNombreEstacion}\r\n              filterSoloGuerra={filterSoloGuerra}\r\n              setFilterSoloGuerra={setFilterSoloGuerra}\r\n              totalItems={historicoSorted.length}\r\n            />\r\n            <div style={{ marginTop: 10, textAlign: 'center', padding: '10px', background: 'white' }}>\r\n              <button onClick={handlePrevPage} disabled={page === 1}>Prev</button>\r\n              <span style={{ margin: '0 10px' }}>P√°gina {page} de {totalPages}</span>\r\n              <button onClick={handleNextPage} disabled={page === totalPages}>Siguiente</button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <AjustesTabla\r\n              data={ajustesPageSlice}\r\n              filterNombreAjuste={filterNombreAjuste}\r\n              setFilterNombreAjuste={setFilterNombreAjuste}\r\n              filterCombustible={filterCombustible}\r\n              setFilterCombustible={setFilterCombustible}\r\n              combustiblesUnicos={combustiblesUnicos}\r\n              totalItems={ajustesSorted.length}\r\n            />\r\n            <div style={{ marginTop: 10, textAlign: 'center', padding: '10px', background: 'white' }}>\r\n              <button onClick={handlePrevPage} disabled={page === 1}>Prev</button>\r\n              <span style={{ margin: '0 10px' }}>P√°gina {page} de {totalPagesAjustes}</span>\r\n              <button onClick={handleNextPage} disabled={page === totalPagesAjustes}>Siguiente</button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nconst AlertasActivas = ({ agrupadas }) => {\r\n  const estaciones = Object.entries(agrupadas);\r\n  if (estaciones.length === 0) return <div className=\"alert-empty\">No hay alertas activas</div>;\r\n\r\n  return (\r\n    <div className=\"alerts-list\">\r\n      {estaciones.map(([station, alerts]) => {\r\n        const anyWar = alerts.some(a => a.Guerra_Precio === 'Si');\r\n        const stationAlert = alerts[0];\r\n        return (\r\n          <div key={station} className={`alert-card${anyWar ? ' guerra' : ''}`}>\r\n            <div className=\"alert-card-header\">\r\n              <span className=\"alert-icon\">{anyWar ? '‚ö°' : 'üî¥'}</span>\r\n              <div className=\"alert-card-info\">\r\n                <strong>{station}</strong>\r\n                <span className=\"alert-marca\">{stationAlert.marca} - {stationAlert.cod_cne}</span>\r\n              </div>\r\n            </div>\r\n            <table className=\"alert-combs-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Comb.</th>\r\n                  <th>Actual</th>\r\n                  <th>Anterior</th>\r\n                  <th>Dif.</th>\r\n                  <th>Hora</th>\r\n                  <th>Tipo</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {alerts.map((a, i) => {\r\n                  const dif = (a.Precio || 0) - (a.PrecioAnterior || 0);\r\n                  return (\r\n                    <tr key={i}>\r\n                      <td>{a.Combustible}</td>\r\n                      <td>${a.Precio}</td>\r\n                      <td>${a.PrecioAnterior}</td>\r\n                      <td className={dif < 0 ? 'negative' : 'positive'}>\r\n                        {dif > 0 && \"+\"}{dif}\r\n                      </td>\r\n                      <td>{a.Horario}</td>\r\n                      <td>{a.tipo_atencion}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n            <div style={{ marginTop: '8px', color: '#999', fontSize: '12px' }}>\r\n              {alerts.map(a =>\r\n                <div key={a.Combustible}>\r\n                  <span>Actual: {a.Fecha}, Anterior: {a.FechaAnterior}</span>\r\n                  {a.Guerra_Precio === \"Si\" && <span style={{ marginLeft: 8, color: \"#e67e22\" }}>‚ö° GUERRA DE PRECIO</span>}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GuerraPreciosPanel = ({ data }) => {\r\n  if (!Array.isArray(data) || data.length === 0) {\r\n    return <div className=\"alert-empty\">No hay estaciones disponibles</div>;\r\n  }\r\n  return (\r\n    <div className=\"guerra-list-simple\">\r\n      {data.map((item, idx) => (\r\n        <div className={`guerra-simple-card${item.Guerra_Precio === 'Si' ? ' gcard-guerra' : ''}`} key={idx}>\r\n          <div className=\"gsc-header\">\r\n            <span className={`gsc-icon${item.Guerra_Precio === 'Si' ? ' guerra' : ''}`}>‚ö°</span>\r\n            <span className=\"gsc-eds\">{item.Nom_Eds}</span>\r\n            <span className=\"gsc-pbl\">\r\n              <span className=\"gsc-pbl-label\">PBL</span>\r\n              <span className=\"gsc-pbl-value\">{item.PBL}</span>\r\n            </span>\r\n          </div>\r\n          <div className=\"gsc-row\">\r\n            <span className=\"gsc-label\">CNE:</span>\r\n            <span className=\"gsc-value\">{item.ID_Cne}</span>\r\n            <span className=\"gsc-label\">Tipo:</span>\r\n            <span className=\"gsc-value\">{item.Tipo_EDS}</span>\r\n            <span className={`gsc-label estado ${item.Activa === 'Si' ? 'activo' : 'inactivo'}`}>\r\n              {item.Activa === 'Si' ? 'Activa' : 'Inactiva'}\r\n            </span>\r\n          </div>\r\n          <div className=\"gsc-row\">\r\n            <span className=\"gsc-label\">Regi√≥n:</span>\r\n            <span className=\"gsc-value\">{item.region}</span>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HistoricoAlertas = ({ \r\n  data, \r\n  filterNombreEstacion, \r\n  setFilterNombreEstacion, \r\n  filterSoloGuerra, \r\n  setFilterSoloGuerra,\r\n  totalItems \r\n}) => {\r\n  if (!Array.isArray(data)) return <div className=\"alert-empty\">‚ö†Ô∏è Error: Los datos no son un array</div>;\r\n  if (data.length === 0) return <div className=\"alert-empty\">üìã No hay hist√≥rico disponible</div>;\r\n\r\n  return (\r\n    <div className=\"historico-wrapper\">\r\n      <div className=\"historico-filtros\">\r\n        <input\r\n          id=\"filter-nombre\"\r\n          type=\"text\"\r\n          className=\"input-filtro-hist\"\r\n          placeholder=\"Buscar estaci√≥n...\"\r\n          value={filterNombreEstacion}\r\n          onChange={(e) => setFilterNombreEstacion(e.target.value)}\r\n        />\r\n        <label className=\"check-filtro-hist\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={filterSoloGuerra}\r\n            onChange={(e) => setFilterSoloGuerra(e.target.checked)}\r\n          />\r\n          <span>Solo estaciones en guerra</span>\r\n        </label>\r\n        <span style={{ marginLeft: 'auto', color: '#666', fontSize: '13px', fontWeight: 600 }}>\r\n          Mostrando {data.length} de {totalItems}\r\n        </span>\r\n      </div>\r\n\r\n      <table className=\"historico-table-compact\">\r\n        <thead>\r\n          <tr>\r\n            <th title=\"Estaci√≥n\">Estaci√≥n</th>\r\n            <th title=\"Marca\">Marca</th>\r\n            <th title=\"C√≥digo CNE\">CNE</th>\r\n            <th title=\"Combustible\">Comb</th>\r\n            <th title=\"PBL\">PBL</th>\r\n            <th title=\"Precio Actual\">P Actual</th>\r\n            <th title=\"Precio Anterior\">P Anterior</th>\r\n            <th title=\"Diferencia\">Ajuste</th>\r\n            <th title=\"Tipo de Atenci√≥n\">Tipo</th>\r\n            <th title=\"Horario\">Horario</th>\r\n            <th title=\"Fecha Cambio Actual\">Fecha Actual</th>\r\n            <th title=\"Fecha Cambio Anterior\">Fecha Anterior</th>\r\n            <th title=\"Fecha de Carga\">Fecha Carga</th>\r\n            <th title=\"Marcador Principal\">Marcador</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.map((item, idx) => {\r\n            const precioActual = Number(item.Precio) || 0;\r\n            const precioAnterior = Number(item.PrecioAnterior) || 0;\r\n            const diferencia = precioActual - precioAnterior;\r\n            const guerra = item.Guerra_Precio === 'Si';\r\n            const marcadorPrincipal = item.Marcador_Principal === 'Si';\r\n            \r\n            const cambioClass = diferencia > 0 ? 'precio-sube' : diferencia < 0 ? 'precio-baja' : 'precio-igual';\r\n            const cambioIcon = diferencia > 0 ? '‚Üë' : diferencia < 0 ? '‚Üì' : '=';\r\n            const cambioSigno = diferencia > 0 ? '+' : '';\r\n            \r\n            const tipoIcon = item.tipo_atencion === 'Asistido' ? 'üë§' : item.tipo_atencion === 'Autoservicio' ? '‚õΩ' : '‚ùì';\r\n            \r\n            const formatFechaCompacta = (fechaStr) => {\r\n              if (!fechaStr) return { dia: '-', hora: '' };\r\n              const [fecha, hora] = fechaStr.split(' ');\r\n              return {\r\n                dia: fecha || '-',\r\n                hora: hora?.substring(0, 5) || ''\r\n              };\r\n            };\r\n            \r\n            const fechaActual = formatFechaCompacta(item.Fecha);\r\n            const fechaAnterior = formatFechaCompacta(item.FechaAnterior);\r\n            const fechaCarga = formatFechaCompacta(item.FechaCarga);\r\n            \r\n            return (\r\n              <tr \r\n                key={idx} \r\n                className={`historico-row ${guerra ? 'guerra-row' : ''} ${marcadorPrincipal ? 'principal-row' : ''}`}\r\n              >\r\n                <td className=\"td-estacion\" title={item.Nom_Eds}>\r\n                  {item.Nom_Eds?.slice(0, 18) || 'S/N'}\r\n                </td>\r\n                <td className=\"td-marca\">{item.marca || '-'}</td>\r\n                <td className=\"td-cne\" title={item.cod_cne}>{item.cod_cne?.slice(-6) || '-'}</td>\r\n                <td className=\"td-combustible\">\r\n                  <span className={`combustible-badge combustible-${item.Combustible?.toLowerCase()}`}>\r\n                    {item.Combustible || '-'}\r\n                  </span>\r\n                </td>\r\n                <td className=\"td-pbl\">{item.pbl || '-'}</td>\r\n                <td className=\"td-precio\"><strong>${precioActual}</strong></td>\r\n                <td className=\"td-anterior\">${precioAnterior}</td>\r\n                <td className={`td-diferencia ${cambioClass}`}>\r\n                  <strong>{cambioIcon} {cambioSigno}{diferencia}</strong>\r\n                </td>\r\n                <td className=\"td-tipo\" title={item.tipo_atencion}>{tipoIcon}</td>\r\n                <td className=\"td-horario\" title={item.Horario}>\r\n                  <span className=\"horario-texto\">{item.Horario || '-'}</span>\r\n                </td>\r\n                <td className=\"td-fecha\">\r\n                  <div className=\"fecha-compacta\">\r\n                    <span className=\"fecha-dia\">{fechaActual.dia}</span>\r\n                    <span className=\"fecha-hora\">{fechaActual.hora}</span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"td-fecha\">\r\n                  <div className=\"fecha-compacta\">\r\n                    <span className=\"fecha-dia\">{fechaAnterior.dia}</span>\r\n                    <span className=\"fecha-hora\">{fechaAnterior.hora}</span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"td-fecha\">\r\n                  <div className=\"fecha-compacta\">\r\n                    <span className=\"fecha-dia\">{fechaCarga.dia}</span>\r\n                    <span className=\"fecha-hora\">{fechaCarga.hora}</span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"td-principal\">\r\n                  {marcadorPrincipal && <span className=\"principal-icon\" title=\"Marcador Principal\">SI</span>}\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AjustesTabla = ({ \r\n  data, \r\n  filterNombreAjuste,\r\n  setFilterNombreAjuste,\r\n  filterCombustible,\r\n  setFilterCombustible,\r\n  combustiblesUnicos,\r\n  totalItems\r\n}) => {\r\n  const [vistaDetallada, setVistaDetallada] = useState(false);\r\n\r\n  // ‚úÖ Agrupar por cod_cne y luego por combinaci√≥n de Diferencia_Competencia + Estrategia_Propia\r\n  const agrupadosPorEstacion = useMemo(() => {\r\n    const grupos = {};\r\n    data.forEach(item => {\r\n      const key = item.cod_cne || 'sin_cne';\r\n      if (!grupos[key]) {\r\n        grupos[key] = {\r\n          Nom_Eds: item.Nom_Eds,\r\n          marca: item.marca,\r\n          cod_cne: item.cod_cne,\r\n          pbl: item.pbl,\r\n          combustibles: []\r\n        };\r\n      }\r\n      grupos[key].combustibles.push(item);\r\n    });\r\n    \r\n    // Sub-agrupar combustibles por combinaci√≥n √∫nica de diferencias\r\n    return Object.values(grupos).map(grupo => {\r\n      const subgrupos = {};\r\n      grupo.combustibles.forEach(comb => {\r\n        const difComp = comb.Diferencia_Competencia || 0;\r\n        const difPropia = comb.Estrategia_Propia || 0;\r\n        const combinedKey = `${difComp}_${difPropia}`;\r\n        \r\n        if (!subgrupos[combinedKey]) {\r\n          subgrupos[combinedKey] = {\r\n            diferencia_competencia: difComp,\r\n            diferencia_propia: difPropia,\r\n            combustibles: []\r\n          };\r\n        }\r\n        subgrupos[combinedKey].combustibles.push(comb);\r\n      });\r\n      \r\n      return {\r\n        ...grupo,\r\n        subgrupos: Object.values(subgrupos)\r\n      };\r\n    });\r\n  }, [data]);\r\n\r\n  if (data.length === 0) \r\n    return <div className=\"alert-empty\">üìã No hay datos de ajustes disponibles</div>;\r\n\r\n  const formatFecha = (fechaStr) => {\r\n    if (!fechaStr || fechaStr === 'Mantiene Fecha') return { dia: 'Mantiene', hora: '' };\r\n    const [datePart, timePart] = fechaStr.split(' ');\r\n    return {\r\n      dia: datePart || '-',\r\n      hora: timePart?.substring(0, 5) || ''\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"historico-wrapper\">\r\n      <div className=\"historico-filtros\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-filtro-hist\"\r\n          placeholder=\"Buscar estaci√≥n...\"\r\n          value={filterNombreAjuste}\r\n          onChange={(e) => setFilterNombreAjuste(e.target.value)}\r\n        />\r\n        <select\r\n          className=\"input-filtro-hist\"\r\n          value={filterCombustible}\r\n          onChange={(e) => setFilterCombustible(e.target.value)}\r\n          style={{ minWidth: '150px' }}\r\n        >\r\n          <option value=\"\">Todos los combustibles</option>\r\n          {combustiblesUnicos.map(comb => (\r\n            <option key={comb} value={comb}>{comb}</option>\r\n          ))}\r\n        </select>\r\n        \r\n        <label className=\"check-filtro-hist\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={vistaDetallada}\r\n            onChange={(e) => setVistaDetallada(e.target.checked)}\r\n          />\r\n          <span>Vista detallada</span>\r\n        </label>\r\n\r\n        <span style={{ marginLeft: 'auto', color: '#666', fontSize: '13px', fontWeight: 600 }}>\r\n          Mostrando {vistaDetallada ? data.length : agrupadosPorEstacion.length} registros\r\n        </span>\r\n      </div>\r\n\r\n      {vistaDetallada ? (\r\n        /* Vista Detallada */\r\n        <table className=\"historico-table-compact\">\r\n          <thead>\r\n            <tr>\r\n              <th>Estaci√≥n</th>\r\n              <th>Marca</th>\r\n              <th>CNE</th>\r\n              <th>Combustible</th>\r\n              <th>PBL</th>\r\n              <th>Precio Asistido</th>\r\n              <th>Precio Autoservicio</th>\r\n              <th>Dif. Competencia</th>\r\n              <th>Estrategia Propia</th>\r\n              <th>Cambio Precio</th>\r\n              <th>Fecha Autoservicio</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((item, idx) => {\r\n              const fechaAutoservicio = formatFecha(item.fecha_autoservicio);\r\n              const difEstrategia = item.Estrategia_Propia || 0;\r\n              const difCompetencia = item.Diferencia_Competencia || 0;\r\n              \r\n              return (\r\n                <tr key={idx}>\r\n                  <td className=\"td-estacion\" title={item.Nom_Eds}>\r\n                    {item.Nom_Eds?.slice(0, 18) || 'S/N'}\r\n                  </td>\r\n                  <td className=\"td-marca\">{item.marca || '-'}</td>\r\n                  <td className=\"td-cne\" title={item.cod_cne}>{item.cod_cne?.slice(-6) || '-'}</td>\r\n                  <td className=\"td-combustible\">\r\n                    <span className={`combustible-badge combustible-${item.combustible?.toLowerCase()}`}>\r\n                      {item.combustible || '-'}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"td-pbl\">{item.pbl || '-'}</td>\r\n                  <td className=\"td-precio\"><strong>${item.precio_asistido || 0}</strong></td>\r\n                  <td className=\"td-precio\"><strong>${item.precio_autoservicio || 0}</strong></td>\r\n                  <td className={`td-diferencia ${difCompetencia > 0 ? 'precio-sube' : difCompetencia < 0 ? 'precio-baja' : 'precio-igual'}`}>\r\n                    <strong>{difCompetencia > 0 ? '+' : ''}{difCompetencia}</strong>\r\n                  </td>\r\n                  <td className={`td-diferencia ${difEstrategia > 0 ? 'precio-sube' : difEstrategia < 0 ? 'precio-baja' : 'precio-igual'}`}>\r\n                    <strong>{difEstrategia > 0 ? '+' : ''}{difEstrategia}</strong>\r\n                  </td>\r\n                  <td style={{ fontSize: '8px', maxWidth: '100px', textAlign: 'center' }}>\r\n                    {item.cambio_precio || '-'}\r\n                  </td>\r\n                  <td className=\"td-fecha\">\r\n                    <div className=\"fecha-compacta\">\r\n                      <span className=\"fecha-dia\">{fechaAutoservicio.dia}</span>\r\n                      <span className=\"fecha-hora\">{fechaAutoservicio.hora}</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        /* Vista Simplificada - Agrupada por combinaci√≥n √∫nica de diferencias */\r\n        <table className=\"historico-table-compact ajustes-simplified\">\r\n          <thead>\r\n            <tr>\r\n              <th>EDS</th>\r\n              <th>Marca</th>\r\n              <th colSpan=\"2\">Diferencia Competencia</th>\r\n              <th colSpan=\"2\">Diferencia Propia</th>\r\n              <th>Cambio</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {agrupadosPorEstacion.map((grupo, idx) => (\r\n              grupo.subgrupos.map((subgrupo, subIdx) => (\r\n                <tr key={`${idx}-${subIdx}`}>\r\n                  {/* Nombre de estaci√≥n y marca solo en primera fila del grupo */}\r\n                  {subIdx === 0 ? (\r\n                    <>\r\n                      <td \r\n                        className=\"td-estacion\" \r\n                        style={{ fontSize: '11px', fontWeight: '600' }}\r\n                        rowSpan={grupo.subgrupos.length}\r\n                      >\r\n                        {grupo.Nom_Eds || 'S/N'}\r\n                      </td>\r\n                      <td \r\n                        className=\"td-marca\" \r\n                        style={{ fontSize: '10px' }}\r\n                        rowSpan={grupo.subgrupos.length}\r\n                      >\r\n                        {grupo.marca || '-'}\r\n                      </td>\r\n                    </>\r\n                  ) : null}\r\n                  \r\n                  {/* Diferencia Competencia - Una l√≠nea por valor √∫nico */}\r\n                  <td colSpan=\"2\" style={{ padding: '4px 8px' }}>\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      justifyContent: 'space-between', \r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}>\r\n                      <div style={{ display: 'flex', gap: '4px', flexWrap: 'wrap' }}>\r\n                        {subgrupo.combustibles.map((comb, i) => (\r\n                          <span \r\n                            key={i}\r\n                            className={`combustible-badge combustible-${comb.combustible?.toLowerCase()}`}\r\n                          >\r\n                            {comb.combustible}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                      <span className={`td-diferencia ${\r\n                        subgrupo.diferencia_competencia > 0 ? 'precio-sube' : \r\n                        subgrupo.diferencia_competencia < 0 ? 'precio-baja' : 'precio-igual'\r\n                      }`} style={{ fontWeight: '700', fontSize: '11px', minWidth: '40px', textAlign: 'right' }}>\r\n                        {subgrupo.diferencia_competencia > 0 ? '+' : ''}{subgrupo.diferencia_competencia}\r\n                      </span>\r\n                    </div>\r\n                  </td>\r\n                  \r\n                  {/* Diferencia Propia - Agrupar tambi√©n si son iguales */}\r\n                  <td colSpan=\"2\" style={{ padding: '4px 8px' }}>\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      justifyContent: 'space-between', \r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}>\r\n                      <div style={{ display: 'flex', gap: '4px', flexWrap: 'wrap' }}>\r\n                        {subgrupo.combustibles.map((comb, i) => (\r\n                          <span \r\n                            key={i}\r\n                            className={`combustible-badge combustible-${comb.combustible?.toLowerCase()}`}\r\n                          >\r\n                            {comb.combustible}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                      <span className={`td-diferencia ${\r\n                        subgrupo.diferencia_propia > 0 ? 'precio-sube' : \r\n                        subgrupo.diferencia_propia < 0 ? 'precio-baja' : 'precio-igual'\r\n                      }`} style={{ fontWeight: '700', fontSize: '11px', minWidth: '40px', textAlign: 'right' }}>\r\n                        {subgrupo.diferencia_propia > 0 ? '+' : ''}{subgrupo.diferencia_propia}\r\n                      </span>\r\n                    </div>\r\n                  </td>\r\n                  \r\n                  {/* Cambio - Solo en primera fila */}\r\n                  {subIdx === 0 ? (\r\n                    <td \r\n                      style={{ fontSize: '8px', textAlign: 'center', maxWidth: '120px' }}\r\n                      rowSpan={grupo.subgrupos.length}\r\n                    >\r\n                      {grupo.combustibles[0]?.cambio_precio || '-'}\r\n                    </td>\r\n                  ) : null}\r\n                </tr>\r\n              ))\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default AlertPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}