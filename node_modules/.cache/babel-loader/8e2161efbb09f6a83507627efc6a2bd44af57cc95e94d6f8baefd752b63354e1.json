{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport { createCustomIcon, createBrandLogo } from '../utils/iconHelpers';\nconst IconMarkersLayer = ({\n  markers,\n  selectedRegion,\n  baseCompData = []\n}) => {\n  _s();\n  const map = useMap();\n  const markersRef = useRef({});\n  const cacheRef = useRef({});\n  const updateInProgressRef = useRef(false);\n  const zoomUpdateRef = useRef(null);\n  const [showingAssociated, setShowingAssociated] = useState(false);\n  const [originalMarkers, setOriginalMarkers] = useState(null);\n  const [selectedMarkerPbl, setSelectedMarkerPbl] = useState(null);\n  const makeDraggable = useCallback(popup => {\n    if (!map || !popup || !popup._container) return;\n    try {\n      const pos = map.latLngToLayerPoint(popup.getLatLng());\n      L.DomUtil.setPosition(popup._wrapper.parentNode, pos);\n      const draggable = new L.Draggable(popup._container, popup._wrapper);\n      draggable.enable();\n    } catch (error) {\n      console.error('Error draggable:', error);\n    }\n  }, [map]);\n  const clearCompetenciaMarkers = useCallback(() => {\n    Object.keys(markersRef.current).forEach(key => {\n      if (key.startsWith('comp_')) {\n        map.removeLayer(markersRef.current[key]);\n        delete markersRef.current[key];\n      }\n    });\n  }, [map]);\n  const showAssociated = useCallback(markerPbl => {\n    console.log('üîç Buscando competencia para PBL:', markerPbl);\n    if (!baseCompData || baseCompData.length === 0) {\n      console.warn('‚ö†Ô∏è No hay datos de competencia');\n      return;\n    }\n\n    // Limpiar competencia anterior\n    clearCompetenciaMarkers();\n\n    // Buscar competencia\n    const competenciaData = baseCompData.filter(item => String(item.pbl).trim() === String(markerPbl).trim());\n    console.log(`üìç Encontrados ${competenciaData.length} competidores`);\n    competenciaData.forEach((comp, index) => {\n      const lat = parseFloat(comp.latitud);\n      const lng = parseFloat(comp.longitud);\n      if (!isNaN(lat) && !isNaN(lng)) {\n        const iconUrl = createCustomIcon(comp.Marca);\n        const compMarker = L.marker([lat, lng], {\n          icon: iconUrl\n        }).addTo(map);\n        const popupContent = `\n          <div style=\"min-width: 250px; font-family: Arial;\">\n            <div style=\"background: #ff6b6b; color: white; padding: 10px; border-radius: 5px 5px 0 0;\">\n              <h3 style=\"margin: 0; font-size: 14px;\">${comp.eds}</h3>\n              <p style=\"margin: 5px 0 0; font-size: 12px;\">üè™ Competencia - ${comp.Marca}</p>\n            </div>\n            <div style=\"padding: 10px; background: white;\">\n              <p><strong>üìç</strong> ${comp.direccion || 'No disponible'}</p>\n              <p><strong>üí∞ G93:</strong> $${comp.G93 || 0}</p>\n              <p><strong>üí∞ G95:</strong> $${comp.G95 || 0}</p>\n              <p><strong>üí∞ Diesel:</strong> $${comp.Diesel || 0}</p>\n            </div>\n          </div>\n        `;\n        compMarker.bindPopup(popupContent);\n        markersRef.current[`comp_${index}_${comp.eds}`] = compMarker;\n      }\n    });\n    setShowingAssociated(true);\n    setSelectedMarkerPbl(markerPbl);\n  }, [map, baseCompData, clearCompetenciaMarkers]);\n  const resetView = useCallback(() => {\n    clearCompetenciaMarkers();\n    setShowingAssociated(false);\n    setSelectedMarkerPbl(null);\n  }, [clearCompetenciaMarkers]);\n  const addMarkers = useCallback(data => {\n    data.forEach(marker => {\n      const lat = parseFloat(marker.lat);\n      const lng = parseFloat(marker.lng);\n      if (!isNaN(lat) && !isNaN(lng)) {\n        const cacheKey = `${marker.pbl}_${marker.Marca}`;\n\n        // No duplicar si ya existe\n        if (markersRef.current[cacheKey]) return;\n        const iconUrl = createCustomIcon(marker.Marca);\n        const leafletMarker = L.marker([lat, lng], {\n          icon: iconUrl\n        }).addTo(map);\n        let popupContent = `\n          <div style=\"min-width: 280px; font-family: Arial;\">\n            <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 12px; border-radius: 8px 8px 0 0; text-align: center;\">\n              <img src=\"${createBrandLogo(marker.Marca)}\" style=\"width: 45px; height: 45px; border-radius: 50%; margin-bottom: 8px; border: 2px solid white;\">\n              <h3 style=\"margin: 0; font-size: 16px;\">${marker.eds || marker.nombre}</h3>\n              <p style=\"margin: 5px 0 0; font-size: 13px; opacity: 0.9;\">${marker.Marca}</p>\n            </div>\n            <div style=\"padding: 12px; background: white;\">\n              <p style=\"margin: 6px 0;\"><strong>üÜî PBL:</strong> ${marker.pbl || 'N/A'}</p>\n              <p style=\"margin: 6px 0;\"><strong>üìç</strong> ${marker.direccion || 'No disponible'}</p>\n              <p style=\"margin: 6px 0;\"><strong>üèôÔ∏è</strong> ${marker.Comuna || 'N/A'}</p>\n              <div style=\"background: #f5f5f5; padding: 8px; border-radius: 5px; margin: 8px 0;\">\n                <p style=\"margin: 4px 0; font-size: 13px;\"><strong>‚õΩ G93:</strong> $${marker.precio_g93 || 0}</p>\n                <p style=\"margin: 4px 0; font-size: 13px;\"><strong>‚õΩ G95:</strong> $${marker.precio_g95 || 0}</p>\n                <p style=\"margin: 4px 0; font-size: 13px;\"><strong>‚õΩ Diesel:</strong> $${marker.precio_diesel || 0}</p>\n              </div>\n              ${marker.Guerra_Precio === 'Si' ? '<div style=\"background: #ffe5e5; color: #cc0000; padding: 6px; border-radius: 4px; text-align: center; font-weight: bold; margin: 8px 0;\">‚ö†Ô∏è Guerra de Precios</div>' : ''}\n            </div>\n            <div style=\"padding: 10px; background: #f9f9f9; border-top: 1px solid #e0e0e0;\">\n              <button onclick=\"window.showMarketBtn_${marker.pbl}()\" style=\"width: 100%; padding: 10px; background: #48bb78; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;\">üè™ Ver Mercado</button>\n              ${showingAssociated && selectedMarkerPbl === marker.pbl ? `<button onclick=\"window.resetViewBtn()\" style=\"width: 100%; padding: 10px; margin-top: 5px; background: #9f7aea; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;\">‚úï Cerrar Mercado</button>` : ''}\n            </div>\n          </div>\n        `;\n        leafletMarker.bindPopup(popupContent, {\n          maxWidth: 300,\n          autoPan: true\n        });\n        leafletMarker.on('popupopen', () => {\n          makeDraggable(leafletMarker.getPopup());\n          window[`showMarketBtn_${marker.pbl}`] = () => showAssociated(marker.pbl);\n          window.resetViewBtn = resetView;\n        });\n        markersRef.current[cacheKey] = leafletMarker;\n        cacheRef.current[cacheKey] = marker;\n      }\n    });\n  }, [map, makeDraggable, showAssociated, showingAssociated, selectedMarkerPbl, resetView]);\n  useEffect(() => {\n    if (!map || !markers.length) return;\n    const handleUpdate = () => {\n      if (updateInProgressRef.current) return;\n      if (zoomUpdateRef.current) clearTimeout(zoomUpdateRef.current);\n      zoomUpdateRef.current = setTimeout(() => {\n        updateInProgressRef.current = true;\n        const currentZoom = map.getZoom();\n        const bounds = map.getBounds();\n\n        // Limpiar solo marcadores de estaciones (no competencia)\n        Object.keys(markersRef.current).forEach(key => {\n          if (!key.startsWith('comp_')) {\n            map.removeLayer(markersRef.current[key]);\n            delete markersRef.current[key];\n            delete cacheRef.current[key];\n          }\n        });\n\n        // Agregar nuevos marcadores visibles\n        const visibleMarkers = markers.filter(m => {\n          const lat = parseFloat(m.lat);\n          const lng = parseFloat(m.lng);\n          return !isNaN(lat) && !isNaN(lng) && bounds.contains([lat, lng]);\n        });\n        console.log(`üìå Renderizando ${visibleMarkers.length} marcadores (zoom: ${currentZoom})`);\n        addMarkers(visibleMarkers);\n        updateInProgressRef.current = false;\n      }, 300);\n    };\n    handleUpdate();\n    map.on('moveend', handleUpdate);\n    map.on('zoomend', handleUpdate);\n    return () => {\n      map.off('moveend', handleUpdate);\n      map.off('zoomend', handleUpdate);\n      if (zoomUpdateRef.current) clearTimeout(zoomUpdateRef.current);\n    };\n  }, [map, markers, addMarkers]);\n  return null;\n};\n_s(IconMarkersLayer, \"6bmw7AHnawAWBHV7cjVHKYR64T8=\", false, function () {\n  return [useMap];\n});\n_c = IconMarkersLayer;\nexport default IconMarkersLayer;\nvar _c;\n$RefreshReg$(_c, \"IconMarkersLayer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","useMap","L","createCustomIcon","createBrandLogo","IconMarkersLayer","markers","selectedRegion","baseCompData","_s","map","markersRef","cacheRef","updateInProgressRef","zoomUpdateRef","showingAssociated","setShowingAssociated","originalMarkers","setOriginalMarkers","selectedMarkerPbl","setSelectedMarkerPbl","makeDraggable","popup","_container","pos","latLngToLayerPoint","getLatLng","DomUtil","setPosition","_wrapper","parentNode","draggable","Draggable","enable","error","console","clearCompetenciaMarkers","Object","keys","current","forEach","key","startsWith","removeLayer","showAssociated","markerPbl","log","length","warn","competenciaData","filter","item","String","pbl","trim","comp","index","lat","parseFloat","latitud","lng","longitud","isNaN","iconUrl","Marca","compMarker","marker","icon","addTo","popupContent","eds","direccion","G93","G95","Diesel","bindPopup","resetView","addMarkers","data","cacheKey","leafletMarker","nombre","Comuna","precio_g93","precio_g95","precio_diesel","Guerra_Precio","maxWidth","autoPan","on","getPopup","window","resetViewBtn","handleUpdate","clearTimeout","setTimeout","currentZoom","getZoom","bounds","getBounds","visibleMarkers","m","contains","off","_c","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/IconMarkersLayer.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { createCustomIcon, createBrandLogo } from '../utils/iconHelpers';\r\n\r\nconst IconMarkersLayer = ({ markers, selectedRegion, baseCompData = [] }) => {\r\n  const map = useMap();\r\n  const markersRef = useRef({});\r\n  const cacheRef = useRef({});\r\n  const updateInProgressRef = useRef(false);\r\n  const zoomUpdateRef = useRef(null);\r\n  const [showingAssociated, setShowingAssociated] = useState(false);\r\n  const [originalMarkers, setOriginalMarkers] = useState(null);\r\n  const [selectedMarkerPbl, setSelectedMarkerPbl] = useState(null);\r\n\r\n  const makeDraggable = useCallback((popup) => {\r\n    if (!map || !popup || !popup._container) return;\r\n    try {\r\n      const pos = map.latLngToLayerPoint(popup.getLatLng());\r\n      L.DomUtil.setPosition(popup._wrapper.parentNode, pos);\r\n      const draggable = new L.Draggable(popup._container, popup._wrapper);\r\n      draggable.enable();\r\n    } catch (error) {\r\n      console.error('Error draggable:', error);\r\n    }\r\n  }, [map]);\r\n\r\n  const clearCompetenciaMarkers = useCallback(() => {\r\n    Object.keys(markersRef.current).forEach(key => {\r\n      if (key.startsWith('comp_')) {\r\n        map.removeLayer(markersRef.current[key]);\r\n        delete markersRef.current[key];\r\n      }\r\n    });\r\n  }, [map]);\r\n\r\n  const showAssociated = useCallback((markerPbl) => {\r\n    console.log('üîç Buscando competencia para PBL:', markerPbl);\r\n\r\n    if (!baseCompData || baseCompData.length === 0) {\r\n      console.warn('‚ö†Ô∏è No hay datos de competencia');\r\n      return;\r\n    }\r\n\r\n    // Limpiar competencia anterior\r\n    clearCompetenciaMarkers();\r\n\r\n    // Buscar competencia\r\n    const competenciaData = baseCompData.filter(item => \r\n      String(item.pbl).trim() === String(markerPbl).trim()\r\n    );\r\n\r\n    console.log(`üìç Encontrados ${competenciaData.length} competidores`);\r\n\r\n    competenciaData.forEach((comp, index) => {\r\n      const lat = parseFloat(comp.latitud);\r\n      const lng = parseFloat(comp.longitud);\r\n\r\n      if (!isNaN(lat) && !isNaN(lng)) {\r\n        const iconUrl = createCustomIcon(comp.Marca);\r\n        const compMarker = L.marker([lat, lng], { icon: iconUrl }).addTo(map);\r\n\r\n        const popupContent = `\r\n          <div style=\"min-width: 250px; font-family: Arial;\">\r\n            <div style=\"background: #ff6b6b; color: white; padding: 10px; border-radius: 5px 5px 0 0;\">\r\n              <h3 style=\"margin: 0; font-size: 14px;\">${comp.eds}</h3>\r\n              <p style=\"margin: 5px 0 0; font-size: 12px;\">üè™ Competencia - ${comp.Marca}</p>\r\n            </div>\r\n            <div style=\"padding: 10px; background: white;\">\r\n              <p><strong>üìç</strong> ${comp.direccion || 'No disponible'}</p>\r\n              <p><strong>üí∞ G93:</strong> $${comp.G93 || 0}</p>\r\n              <p><strong>üí∞ G95:</strong> $${comp.G95 || 0}</p>\r\n              <p><strong>üí∞ Diesel:</strong> $${comp.Diesel || 0}</p>\r\n            </div>\r\n          </div>\r\n        `;\r\n\r\n        compMarker.bindPopup(popupContent);\r\n        markersRef.current[`comp_${index}_${comp.eds}`] = compMarker;\r\n      }\r\n    });\r\n\r\n    setShowingAssociated(true);\r\n    setSelectedMarkerPbl(markerPbl);\r\n  }, [map, baseCompData, clearCompetenciaMarkers]);\r\n\r\n  const resetView = useCallback(() => {\r\n    clearCompetenciaMarkers();\r\n    setShowingAssociated(false);\r\n    setSelectedMarkerPbl(null);\r\n  }, [clearCompetenciaMarkers]);\r\n\r\n  const addMarkers = useCallback((data) => {\r\n    data.forEach(marker => {\r\n      const lat = parseFloat(marker.lat);\r\n      const lng = parseFloat(marker.lng);\r\n\r\n      if (!isNaN(lat) && !isNaN(lng)) {\r\n        const cacheKey = `${marker.pbl}_${marker.Marca}`;\r\n        \r\n        // No duplicar si ya existe\r\n        if (markersRef.current[cacheKey]) return;\r\n\r\n        const iconUrl = createCustomIcon(marker.Marca);\r\n        const leafletMarker = L.marker([lat, lng], { icon: iconUrl }).addTo(map);\r\n\r\n        let popupContent = `\r\n          <div style=\"min-width: 280px; font-family: Arial;\">\r\n            <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 12px; border-radius: 8px 8px 0 0; text-align: center;\">\r\n              <img src=\"${createBrandLogo(marker.Marca)}\" style=\"width: 45px; height: 45px; border-radius: 50%; margin-bottom: 8px; border: 2px solid white;\">\r\n              <h3 style=\"margin: 0; font-size: 16px;\">${marker.eds || marker.nombre}</h3>\r\n              <p style=\"margin: 5px 0 0; font-size: 13px; opacity: 0.9;\">${marker.Marca}</p>\r\n            </div>\r\n            <div style=\"padding: 12px; background: white;\">\r\n              <p style=\"margin: 6px 0;\"><strong>üÜî PBL:</strong> ${marker.pbl || 'N/A'}</p>\r\n              <p style=\"margin: 6px 0;\"><strong>üìç</strong> ${marker.direccion || 'No disponible'}</p>\r\n              <p style=\"margin: 6px 0;\"><strong>üèôÔ∏è</strong> ${marker.Comuna || 'N/A'}</p>\r\n              <div style=\"background: #f5f5f5; padding: 8px; border-radius: 5px; margin: 8px 0;\">\r\n                <p style=\"margin: 4px 0; font-size: 13px;\"><strong>‚õΩ G93:</strong> $${marker.precio_g93 || 0}</p>\r\n                <p style=\"margin: 4px 0; font-size: 13px;\"><strong>‚õΩ G95:</strong> $${marker.precio_g95 || 0}</p>\r\n                <p style=\"margin: 4px 0; font-size: 13px;\"><strong>‚õΩ Diesel:</strong> $${marker.precio_diesel || 0}</p>\r\n              </div>\r\n              ${marker.Guerra_Precio === 'Si' ? '<div style=\"background: #ffe5e5; color: #cc0000; padding: 6px; border-radius: 4px; text-align: center; font-weight: bold; margin: 8px 0;\">‚ö†Ô∏è Guerra de Precios</div>' : ''}\r\n            </div>\r\n            <div style=\"padding: 10px; background: #f9f9f9; border-top: 1px solid #e0e0e0;\">\r\n              <button onclick=\"window.showMarketBtn_${marker.pbl}()\" style=\"width: 100%; padding: 10px; background: #48bb78; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;\">üè™ Ver Mercado</button>\r\n              ${showingAssociated && selectedMarkerPbl === marker.pbl ? `<button onclick=\"window.resetViewBtn()\" style=\"width: 100%; padding: 10px; margin-top: 5px; background: #9f7aea; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;\">‚úï Cerrar Mercado</button>` : ''}\r\n            </div>\r\n          </div>\r\n        `;\r\n\r\n        leafletMarker.bindPopup(popupContent, {\r\n          maxWidth: 300,\r\n          autoPan: true\r\n        });\r\n\r\n        leafletMarker.on('popupopen', () => {\r\n          makeDraggable(leafletMarker.getPopup());\r\n          window[`showMarketBtn_${marker.pbl}`] = () => showAssociated(marker.pbl);\r\n          window.resetViewBtn = resetView;\r\n        });\r\n\r\n        markersRef.current[cacheKey] = leafletMarker;\r\n        cacheRef.current[cacheKey] = marker;\r\n      }\r\n    });\r\n  }, [map, makeDraggable, showAssociated, showingAssociated, selectedMarkerPbl, resetView]);\r\n\r\n  useEffect(() => {\r\n    if (!map || !markers.length) return;\r\n\r\n    const handleUpdate = () => {\r\n      if (updateInProgressRef.current) return;\r\n      if (zoomUpdateRef.current) clearTimeout(zoomUpdateRef.current);\r\n\r\n      zoomUpdateRef.current = setTimeout(() => {\r\n        updateInProgressRef.current = true;\r\n\r\n        const currentZoom = map.getZoom();\r\n        const bounds = map.getBounds();\r\n\r\n        // Limpiar solo marcadores de estaciones (no competencia)\r\n        Object.keys(markersRef.current).forEach(key => {\r\n          if (!key.startsWith('comp_')) {\r\n            map.removeLayer(markersRef.current[key]);\r\n            delete markersRef.current[key];\r\n            delete cacheRef.current[key];\r\n          }\r\n        });\r\n\r\n        // Agregar nuevos marcadores visibles\r\n        const visibleMarkers = markers.filter(m => {\r\n          const lat = parseFloat(m.lat);\r\n          const lng = parseFloat(m.lng);\r\n          return !isNaN(lat) && !isNaN(lng) && bounds.contains([lat, lng]);\r\n        });\r\n\r\n        console.log(`üìå Renderizando ${visibleMarkers.length} marcadores (zoom: ${currentZoom})`);\r\n        addMarkers(visibleMarkers);\r\n\r\n        updateInProgressRef.current = false;\r\n      }, 300);\r\n    };\r\n\r\n    handleUpdate();\r\n    map.on('moveend', handleUpdate);\r\n    map.on('zoomend', handleUpdate);\r\n\r\n    return () => {\r\n      map.off('moveend', handleUpdate);\r\n      map.off('zoomend', handleUpdate);\r\n      if (zoomUpdateRef.current) clearTimeout(zoomUpdateRef.current);\r\n    };\r\n  }, [map, markers, addMarkers]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default IconMarkersLayer;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,MAAM,QAAQ,eAAe;AACtC,OAAOC,CAAC,MAAM,SAAS;AACvB,SAASC,gBAAgB,EAAEC,eAAe,QAAQ,sBAAsB;AAExE,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,OAAO;EAAEC,cAAc;EAAEC,YAAY,GAAG;AAAG,CAAC,KAAK;EAAAC,EAAA;EAC3E,MAAMC,GAAG,GAAGT,MAAM,CAAC,CAAC;EACpB,MAAMU,UAAU,GAAGb,MAAM,CAAC,CAAC,CAAC,CAAC;EAC7B,MAAMc,QAAQ,GAAGd,MAAM,CAAC,CAAC,CAAC,CAAC;EAC3B,MAAMe,mBAAmB,GAAGf,MAAM,CAAC,KAAK,CAAC;EACzC,MAAMgB,aAAa,GAAGhB,MAAM,CAAC,IAAI,CAAC;EAClC,MAAM,CAACiB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACkB,eAAe,EAAEC,kBAAkB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACoB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAEhE,MAAMsB,aAAa,GAAGrB,WAAW,CAAEsB,KAAK,IAAK;IAC3C,IAAI,CAACZ,GAAG,IAAI,CAACY,KAAK,IAAI,CAACA,KAAK,CAACC,UAAU,EAAE;IACzC,IAAI;MACF,MAAMC,GAAG,GAAGd,GAAG,CAACe,kBAAkB,CAACH,KAAK,CAACI,SAAS,CAAC,CAAC,CAAC;MACrDxB,CAAC,CAACyB,OAAO,CAACC,WAAW,CAACN,KAAK,CAACO,QAAQ,CAACC,UAAU,EAAEN,GAAG,CAAC;MACrD,MAAMO,SAAS,GAAG,IAAI7B,CAAC,CAAC8B,SAAS,CAACV,KAAK,CAACC,UAAU,EAAED,KAAK,CAACO,QAAQ,CAAC;MACnEE,SAAS,CAACE,MAAM,CAAC,CAAC;IACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IAC1C;EACF,CAAC,EAAE,CAACxB,GAAG,CAAC,CAAC;EAET,MAAM0B,uBAAuB,GAAGpC,WAAW,CAAC,MAAM;IAChDqC,MAAM,CAACC,IAAI,CAAC3B,UAAU,CAAC4B,OAAO,CAAC,CAACC,OAAO,CAACC,GAAG,IAAI;MAC7C,IAAIA,GAAG,CAACC,UAAU,CAAC,OAAO,CAAC,EAAE;QAC3BhC,GAAG,CAACiC,WAAW,CAAChC,UAAU,CAAC4B,OAAO,CAACE,GAAG,CAAC,CAAC;QACxC,OAAO9B,UAAU,CAAC4B,OAAO,CAACE,GAAG,CAAC;MAChC;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC/B,GAAG,CAAC,CAAC;EAET,MAAMkC,cAAc,GAAG5C,WAAW,CAAE6C,SAAS,IAAK;IAChDV,OAAO,CAACW,GAAG,CAAC,mCAAmC,EAAED,SAAS,CAAC;IAE3D,IAAI,CAACrC,YAAY,IAAIA,YAAY,CAACuC,MAAM,KAAK,CAAC,EAAE;MAC9CZ,OAAO,CAACa,IAAI,CAAC,gCAAgC,CAAC;MAC9C;IACF;;IAEA;IACAZ,uBAAuB,CAAC,CAAC;;IAEzB;IACA,MAAMa,eAAe,GAAGzC,YAAY,CAAC0C,MAAM,CAACC,IAAI,IAC9CC,MAAM,CAACD,IAAI,CAACE,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC,KAAKF,MAAM,CAACP,SAAS,CAAC,CAACS,IAAI,CAAC,CACrD,CAAC;IAEDnB,OAAO,CAACW,GAAG,CAAC,kBAAkBG,eAAe,CAACF,MAAM,eAAe,CAAC;IAEpEE,eAAe,CAACT,OAAO,CAAC,CAACe,IAAI,EAAEC,KAAK,KAAK;MACvC,MAAMC,GAAG,GAAGC,UAAU,CAACH,IAAI,CAACI,OAAO,CAAC;MACpC,MAAMC,GAAG,GAAGF,UAAU,CAACH,IAAI,CAACM,QAAQ,CAAC;MAErC,IAAI,CAACC,KAAK,CAACL,GAAG,CAAC,IAAI,CAACK,KAAK,CAACF,GAAG,CAAC,EAAE;QAC9B,MAAMG,OAAO,GAAG5D,gBAAgB,CAACoD,IAAI,CAACS,KAAK,CAAC;QAC5C,MAAMC,UAAU,GAAG/D,CAAC,CAACgE,MAAM,CAAC,CAACT,GAAG,EAAEG,GAAG,CAAC,EAAE;UAAEO,IAAI,EAAEJ;QAAQ,CAAC,CAAC,CAACK,KAAK,CAAC1D,GAAG,CAAC;QAErE,MAAM2D,YAAY,GAAG;AAC7B;AACA;AACA,wDAAwDd,IAAI,CAACe,GAAG;AAChE,8EAA8Ef,IAAI,CAACS,KAAK;AACxF;AACA;AACA,uCAAuCT,IAAI,CAACgB,SAAS,IAAI,eAAe;AACxE,6CAA6ChB,IAAI,CAACiB,GAAG,IAAI,CAAC;AAC1D,6CAA6CjB,IAAI,CAACkB,GAAG,IAAI,CAAC;AAC1D,gDAAgDlB,IAAI,CAACmB,MAAM,IAAI,CAAC;AAChE;AACA;AACA,SAAS;QAEDT,UAAU,CAACU,SAAS,CAACN,YAAY,CAAC;QAClC1D,UAAU,CAAC4B,OAAO,CAAC,QAAQiB,KAAK,IAAID,IAAI,CAACe,GAAG,EAAE,CAAC,GAAGL,UAAU;MAC9D;IACF,CAAC,CAAC;IAEFjD,oBAAoB,CAAC,IAAI,CAAC;IAC1BI,oBAAoB,CAACyB,SAAS,CAAC;EACjC,CAAC,EAAE,CAACnC,GAAG,EAAEF,YAAY,EAAE4B,uBAAuB,CAAC,CAAC;EAEhD,MAAMwC,SAAS,GAAG5E,WAAW,CAAC,MAAM;IAClCoC,uBAAuB,CAAC,CAAC;IACzBpB,oBAAoB,CAAC,KAAK,CAAC;IAC3BI,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC,EAAE,CAACgB,uBAAuB,CAAC,CAAC;EAE7B,MAAMyC,UAAU,GAAG7E,WAAW,CAAE8E,IAAI,IAAK;IACvCA,IAAI,CAACtC,OAAO,CAAC0B,MAAM,IAAI;MACrB,MAAMT,GAAG,GAAGC,UAAU,CAACQ,MAAM,CAACT,GAAG,CAAC;MAClC,MAAMG,GAAG,GAAGF,UAAU,CAACQ,MAAM,CAACN,GAAG,CAAC;MAElC,IAAI,CAACE,KAAK,CAACL,GAAG,CAAC,IAAI,CAACK,KAAK,CAACF,GAAG,CAAC,EAAE;QAC9B,MAAMmB,QAAQ,GAAG,GAAGb,MAAM,CAACb,GAAG,IAAIa,MAAM,CAACF,KAAK,EAAE;;QAEhD;QACA,IAAIrD,UAAU,CAAC4B,OAAO,CAACwC,QAAQ,CAAC,EAAE;QAElC,MAAMhB,OAAO,GAAG5D,gBAAgB,CAAC+D,MAAM,CAACF,KAAK,CAAC;QAC9C,MAAMgB,aAAa,GAAG9E,CAAC,CAACgE,MAAM,CAAC,CAACT,GAAG,EAAEG,GAAG,CAAC,EAAE;UAAEO,IAAI,EAAEJ;QAAQ,CAAC,CAAC,CAACK,KAAK,CAAC1D,GAAG,CAAC;QAExE,IAAI2D,YAAY,GAAG;AAC3B;AACA;AACA,0BAA0BjE,eAAe,CAAC8D,MAAM,CAACF,KAAK,CAAC;AACvD,wDAAwDE,MAAM,CAACI,GAAG,IAAIJ,MAAM,CAACe,MAAM;AACnF,2EAA2Ef,MAAM,CAACF,KAAK;AACvF;AACA;AACA,mEAAmEE,MAAM,CAACb,GAAG,IAAI,KAAK;AACtF,8DAA8Da,MAAM,CAACK,SAAS,IAAI,eAAe;AACjG,+DAA+DL,MAAM,CAACgB,MAAM,IAAI,KAAK;AACrF;AACA,sFAAsFhB,MAAM,CAACiB,UAAU,IAAI,CAAC;AAC5G,sFAAsFjB,MAAM,CAACkB,UAAU,IAAI,CAAC;AAC5G,yFAAyFlB,MAAM,CAACmB,aAAa,IAAI,CAAC;AAClH;AACA,gBAAgBnB,MAAM,CAACoB,aAAa,KAAK,IAAI,GAAG,sKAAsK,GAAG,EAAE;AAC3N;AACA;AACA,sDAAsDpB,MAAM,CAACb,GAAG;AAChE,gBAAgBtC,iBAAiB,IAAII,iBAAiB,KAAK+C,MAAM,CAACb,GAAG,GAAG,iOAAiO,GAAG,EAAE;AAC9S;AACA;AACA,SAAS;QAED2B,aAAa,CAACL,SAAS,CAACN,YAAY,EAAE;UACpCkB,QAAQ,EAAE,GAAG;UACbC,OAAO,EAAE;QACX,CAAC,CAAC;QAEFR,aAAa,CAACS,EAAE,CAAC,WAAW,EAAE,MAAM;UAClCpE,aAAa,CAAC2D,aAAa,CAACU,QAAQ,CAAC,CAAC,CAAC;UACvCC,MAAM,CAAC,iBAAiBzB,MAAM,CAACb,GAAG,EAAE,CAAC,GAAG,MAAMT,cAAc,CAACsB,MAAM,CAACb,GAAG,CAAC;UACxEsC,MAAM,CAACC,YAAY,GAAGhB,SAAS;QACjC,CAAC,CAAC;QAEFjE,UAAU,CAAC4B,OAAO,CAACwC,QAAQ,CAAC,GAAGC,aAAa;QAC5CpE,QAAQ,CAAC2B,OAAO,CAACwC,QAAQ,CAAC,GAAGb,MAAM;MACrC;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACxD,GAAG,EAAEW,aAAa,EAAEuB,cAAc,EAAE7B,iBAAiB,EAAEI,iBAAiB,EAAEyD,SAAS,CAAC,CAAC;EAEzF/E,SAAS,CAAC,MAAM;IACd,IAAI,CAACa,GAAG,IAAI,CAACJ,OAAO,CAACyC,MAAM,EAAE;IAE7B,MAAM8C,YAAY,GAAGA,CAAA,KAAM;MACzB,IAAIhF,mBAAmB,CAAC0B,OAAO,EAAE;MACjC,IAAIzB,aAAa,CAACyB,OAAO,EAAEuD,YAAY,CAAChF,aAAa,CAACyB,OAAO,CAAC;MAE9DzB,aAAa,CAACyB,OAAO,GAAGwD,UAAU,CAAC,MAAM;QACvClF,mBAAmB,CAAC0B,OAAO,GAAG,IAAI;QAElC,MAAMyD,WAAW,GAAGtF,GAAG,CAACuF,OAAO,CAAC,CAAC;QACjC,MAAMC,MAAM,GAAGxF,GAAG,CAACyF,SAAS,CAAC,CAAC;;QAE9B;QACA9D,MAAM,CAACC,IAAI,CAAC3B,UAAU,CAAC4B,OAAO,CAAC,CAACC,OAAO,CAACC,GAAG,IAAI;UAC7C,IAAI,CAACA,GAAG,CAACC,UAAU,CAAC,OAAO,CAAC,EAAE;YAC5BhC,GAAG,CAACiC,WAAW,CAAChC,UAAU,CAAC4B,OAAO,CAACE,GAAG,CAAC,CAAC;YACxC,OAAO9B,UAAU,CAAC4B,OAAO,CAACE,GAAG,CAAC;YAC9B,OAAO7B,QAAQ,CAAC2B,OAAO,CAACE,GAAG,CAAC;UAC9B;QACF,CAAC,CAAC;;QAEF;QACA,MAAM2D,cAAc,GAAG9F,OAAO,CAAC4C,MAAM,CAACmD,CAAC,IAAI;UACzC,MAAM5C,GAAG,GAAGC,UAAU,CAAC2C,CAAC,CAAC5C,GAAG,CAAC;UAC7B,MAAMG,GAAG,GAAGF,UAAU,CAAC2C,CAAC,CAACzC,GAAG,CAAC;UAC7B,OAAO,CAACE,KAAK,CAACL,GAAG,CAAC,IAAI,CAACK,KAAK,CAACF,GAAG,CAAC,IAAIsC,MAAM,CAACI,QAAQ,CAAC,CAAC7C,GAAG,EAAEG,GAAG,CAAC,CAAC;QAClE,CAAC,CAAC;QAEFzB,OAAO,CAACW,GAAG,CAAC,mBAAmBsD,cAAc,CAACrD,MAAM,sBAAsBiD,WAAW,GAAG,CAAC;QACzFnB,UAAU,CAACuB,cAAc,CAAC;QAE1BvF,mBAAmB,CAAC0B,OAAO,GAAG,KAAK;MACrC,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IAEDsD,YAAY,CAAC,CAAC;IACdnF,GAAG,CAAC+E,EAAE,CAAC,SAAS,EAAEI,YAAY,CAAC;IAC/BnF,GAAG,CAAC+E,EAAE,CAAC,SAAS,EAAEI,YAAY,CAAC;IAE/B,OAAO,MAAM;MACXnF,GAAG,CAAC6F,GAAG,CAAC,SAAS,EAAEV,YAAY,CAAC;MAChCnF,GAAG,CAAC6F,GAAG,CAAC,SAAS,EAAEV,YAAY,CAAC;MAChC,IAAI/E,aAAa,CAACyB,OAAO,EAAEuD,YAAY,CAAChF,aAAa,CAACyB,OAAO,CAAC;IAChE,CAAC;EACH,CAAC,EAAE,CAAC7B,GAAG,EAAEJ,OAAO,EAAEuE,UAAU,CAAC,CAAC;EAE9B,OAAO,IAAI;AACb,CAAC;AAACpE,EAAA,CA/LIJ,gBAAgB;EAAA,QACRJ,MAAM;AAAA;AAAAuG,EAAA,GADdnG,gBAAgB;AAiMtB,eAAeA,gBAAgB;AAAC,IAAAmG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}