{"ast":null,"code":"import React,{useState,useMemo}from'react';import TrendChart from'./TrendChart';import{obtenerHistoricoMarker}from'../utils/markerUtils';import{MARCAS_PROPIAS}from'../utils/constants';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MapPopup=_ref=>{let{marker,allMarkers,onShowAssociated,onActivateCoords,onSaveCoords,modoCorreccion,variant='primary',nivel2EnNivel1Stations=[],onToggleNivel2EnNivel1}=_ref;const[activeTab,setActiveTab]=useState('precios');const[selectedNivel,setSelectedNivel]=useState('Nivel 1');const isPropia=MARCAS_PROPIAS.includes(marker.Marca);const isNivel2EnNivel1=!isPropia&&nivel2EnNivel1Stations.includes(marker.id);const datosTabla=useMemo(()=>{return obtenerHistoricoMarker(marker.id,allMarkers,selectedNivel);},[marker.id,allMarkers,selectedNivel]);// Calculate price differences between Nivel 1 and Nivel 2\nconst priceDifferences=useMemo(()=>{const nivel1Data=obtenerHistoricoMarker(marker.id,allMarkers,'Nivel 1');const nivel2Data=obtenerHistoricoMarker(marker.id,allMarkers,'Nivel 2');// Only calculate if both levels exist and have data\nif(nivel1Data.length===0||nivel2Data.length===0){return null;}// Get most recent entry from each level\nconst nivel1Latest=nivel1Data[0];const nivel2Latest=nivel2Data[0];// Calculate differences for each fuel type\nconst calculateDiff=(n1,n2)=>{if(n1==='-'||n2==='-')return null;const diff=parseFloat(n2)-parseFloat(n1);return isNaN(diff)?null:diff;};return{g93:calculateDiff(nivel1Latest.g93,nivel2Latest.g93),g95:calculateDiff(nivel1Latest.g95,nivel2Latest.g95),g97:calculateDiff(nivel1Latest.g97,nivel2Latest.g97),diesel:calculateDiff(nivel1Latest.diesel,nivel2Latest.diesel),kero:calculateDiff(nivel1Latest.kero,nivel2Latest.kero)};},[marker.id,allMarkers]);const variantClass=variant==='primary'?'':'secondary';const logoUrl=marker.logo?marker.logo.startsWith('http')?marker.logo:\"https://api.bencinaenlinea.cl\".concat(marker.logo):'';const handleTabClick=tab=>{setActiveTab(tab);};return/*#__PURE__*/_jsxs(\"div\",{className:\"icon-markers-popup-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-info-header\",children:[logoUrl&&/*#__PURE__*/_jsx(\"img\",{src:logoUrl,alt:\"Logo \".concat(marker.Marca),className:\"popup-logo\",onError:e=>e.target.style.display='none'}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"popup-label\",children:[!isPropia?'id':'PBL',\": \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"popup-value-alerta\",children:!isPropia?marker.id||'-':marker.pbl||'-'})]}),isPropia&&/*#__PURE__*/_jsxs(\"div\",{className:\"popup-info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"popup-label\",children:\"EESS: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"popup-value\",children:[\" \",marker.eds||'-']})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-info-row\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"popup-label\",children:[!isPropia?'direccion':'JZ',\": \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"popup-value\",children:!isPropia?marker.direccion||'-':marker.nombre||'-'})]}),isPropia&&/*#__PURE__*/_jsxs(\"div\",{className:\"popup-info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"popup-label\",children:\"OP: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup-value\",children:marker.operacion||'-'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-tabs-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-tabs-header\",children:['precios','tendencias','coordenadas','informacion'].map(tab=>/*#__PURE__*/_jsx(\"button\",{className:\"popup-tab-button \".concat(activeTab===tab?'active':''),onClick:()=>handleTabClick(tab),children:tab.charAt(0).toUpperCase()+tab.slice(1)},tab))}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-tabs-content\",children:[activeTab==='precios'&&/*#__PURE__*/_jsxs(\"div\",{className:\"popup-tab-pane active\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nivel-toggle-container\",style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'6px',alignItems:'center'},children:[['Nivel 1','Nivel 2'].map(nivel=>/*#__PURE__*/_jsx(\"button\",{className:\"nivel-toggle-btn \".concat(selectedNivel===nivel?'active':''),onClick:()=>setSelectedNivel(nivel),children:nivel},nivel)),isNivel2EnNivel1&&/*#__PURE__*/_jsx(\"span\",{className:\"nivel2-badge\",title:\"Esta estaci\\xF3n reporta precios de Nivel 2 en Nivel 1\",children:\"\\u26A0\\uFE0F Niv 2 en Niv 1\"})]}),!isPropia&&onToggleNivel2EnNivel1&&/*#__PURE__*/_jsx(\"button\",{className:\"nivel-toggle-btn \".concat(isNivel2EnNivel1?'active':''),onClick:()=>onToggleNivel2EnNivel1(marker.id),children:isNivel2EnNivel1?'Desmarcar':'Marcar'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-table-wrapper \".concat(variantClass),onWheel:e=>e.stopPropagation(),children:datosTabla.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',textAlign:'center',fontSize:'12px',color:'#999',fontStyle:'italic'},children:\"Sin datos disponibles\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"popup-table \".concat(variantClass),children:[/*#__PURE__*/_jsxs(\"thead\",{children:[priceDifferences&&/*#__PURE__*/_jsxs(\"tr\",{className:\"diff-header-row\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"diff-label-cell\",children:\"PES/AUT\"}),/*#__PURE__*/_jsx(\"th\",{children:priceDifferences.g93!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"diff-value-table \".concat(priceDifferences.g93>=0?'positive':'negative'),children:[priceDifferences.g93>=0?'+':'',priceDifferences.g93.toFixed(0)]})}),/*#__PURE__*/_jsx(\"th\",{children:priceDifferences.g95!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"diff-value-table \".concat(priceDifferences.g95>=0?'positive':'negative'),children:[priceDifferences.g95>=0?'+':'',priceDifferences.g95.toFixed(0)]})}),/*#__PURE__*/_jsx(\"th\",{children:priceDifferences.g97!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"diff-value-table \".concat(priceDifferences.g97>=0?'positive':'negative'),children:[priceDifferences.g97>=0?'+':'',priceDifferences.g97.toFixed(0)]})}),/*#__PURE__*/_jsx(\"th\",{children:priceDifferences.diesel!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"diff-value-table \".concat(priceDifferences.diesel>=0?'positive':'negative'),children:[priceDifferences.diesel>=0?'+':'',priceDifferences.diesel.toFixed(0)]})}),/*#__PURE__*/_jsx(\"th\",{children:priceDifferences.kero!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"diff-value-table \".concat(priceDifferences.kero>=0?'positive':'negative'),children:[priceDifferences.kero>=0?'+':'',priceDifferences.kero.toFixed(0)]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"G93\"}),/*#__PURE__*/_jsx(\"th\",{children:\"G95\"}),/*#__PURE__*/_jsx(\"th\",{children:\"G97\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Diesel\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kero\"})]})]}),/*#__PURE__*/_jsx(\"tbody\",{children:datosTabla.map((fila,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:fila.fecha}),/*#__PURE__*/_jsx(\"td\",{children:fila.g93}),/*#__PURE__*/_jsx(\"td\",{children:fila.g95}),/*#__PURE__*/_jsx(\"td\",{children:fila.g97}),/*#__PURE__*/_jsx(\"td\",{children:fila.diesel}),/*#__PURE__*/_jsx(\"td\",{children:fila.kero})]},idx))})]})})]}),activeTab==='tendencias'&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-tab-pane active\",children:/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',minHeight:'160px',paddingTop:'6px'},children:/*#__PURE__*/_jsx(TrendChart,{dataRows:datosTabla,maxPoints:7,height:170,compact:true})})}),activeTab==='coordenadas'&&/*#__PURE__*/_jsxs(\"div\",{className:\"popup-tab-pane active\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-info-box\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Lat corregida:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:modoCorreccion&&(modoCorreccion.id===marker.id||modoCorreccion.pbl===marker.pbl)&&modoCorreccion.lat?modoCorreccion.lat.toFixed(6):marker.lat.toFixed(6)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Lon corregida:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:modoCorreccion&&(modoCorreccion.id===marker.id||modoCorreccion.pbl===marker.pbl)&&modoCorreccion.lng?modoCorreccion.lng.toFixed(6):marker.lng.toFixed(6)})]}),/*#__PURE__*/_jsx(\"hr\",{style:{margin:'8px 0',border:'none',borderTop:'1px solid #dee2e6'}}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Regi\\xF3n:\"}),\" \",marker.Region||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Comuna:\"}),\" \",marker.Comuna||'-']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{style:{flex:1,padding:'8px',background:modoCorreccion&&(modoCorreccion.id===marker.id||modoCorreccion.pbl===marker.pbl)?'#dc3545':'#17a2b8',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px',fontWeight:600},onClick:()=>onActivateCoords(marker),children:modoCorreccion&&(modoCorreccion.id===marker.id||modoCorreccion.pbl===marker.pbl)?'Coordenadas Activas':'Activar Coord'}),/*#__PURE__*/_jsx(\"button\",{style:{flex:1,padding:'8px',background:'#28a745',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px',fontWeight:600,opacity:modoCorreccion&&(modoCorreccion.id===marker.id||modoCorreccion.pbl===marker.pbl)&&modoCorreccion.lat?1:0.5},onClick:()=>onSaveCoords(marker),disabled:!(modoCorreccion&&(modoCorreccion.id===marker.id||modoCorreccion.pbl===marker.pbl)&&modoCorreccion.lat),children:\"Guardar\"})]})]}),activeTab==='informacion'&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-tab-pane active\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-info-box\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Direcci\\xF3n:\"}),\" \",marker.direccion||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Surtidores PES:\"}),\" \",marker.Surtidores_Autoservicio||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Posici\\xF3n Surtidor:\"}),\" \",marker.Posicion_Surtidor||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipo Isla:\"}),\" \",marker.Tipo_Isla||'-']}),marker.Guerra_Precio==='Si'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{style:{margin:'8px 0',border:'none',borderTop:'1px solid #dee2e6'}}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{style:{color:'#d9534f'},children:\"\\u26A0\\uFE0F Guerra de Precio Activa\"})})]}),!isPropia&&onToggleNivel2EnNivel1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{style:{margin:'8px 0',border:'none',borderTop:'1px solid #dee2e6'}}),/*#__PURE__*/_jsx(\"button\",{className:\"nivel2-toggle-btn\",onClick:()=>onToggleNivel2EnNivel1(marker.id),style:{width:'100%',padding:'8px',background:isNivel2EnNivel1?'#ffc107':'#6c757d',color:isNivel2EnNivel1?'#000':'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'11px',fontWeight:600,marginTop:'8px'},children:isNivel2EnNivel1?'Desmarcar: Nivel 2 en Nivel 1':'Marcar: Nivel 2 en Nivel 1'})]})]})})]})]}),marker.pbl&&(marker.Marca==='Aramco'||marker.Marca==='Petrobras')&&/*#__PURE__*/_jsx(\"button\",{className:\"popup-button-mercado\",onClick:()=>onShowAssociated(marker.pbl,marker.lat,marker.lng,marker.id),children:\"Mercado\"})]});};export default MapPopup;","map":{"version":3,"names":["React","useState","useMemo","TrendChart","obtenerHistoricoMarker","MARCAS_PROPIAS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MapPopup","_ref","marker","allMarkers","onShowAssociated","onActivateCoords","onSaveCoords","modoCorreccion","variant","nivel2EnNivel1Stations","onToggleNivel2EnNivel1","activeTab","setActiveTab","selectedNivel","setSelectedNivel","isPropia","includes","Marca","isNivel2EnNivel1","id","datosTabla","priceDifferences","nivel1Data","nivel2Data","length","nivel1Latest","nivel2Latest","calculateDiff","n1","n2","diff","parseFloat","isNaN","g93","g95","g97","diesel","kero","variantClass","logoUrl","logo","startsWith","concat","handleTabClick","tab","className","children","src","alt","onError","e","target","style","display","pbl","eds","direccion","nombre","operacion","map","onClick","charAt","toUpperCase","slice","alignItems","justifyContent","marginBottom","gap","nivel","title","onWheel","stopPropagation","padding","textAlign","fontSize","color","fontStyle","toFixed","fila","idx","fecha","width","minHeight","paddingTop","dataRows","maxPoints","height","compact","lat","lng","margin","border","borderTop","Region","Comuna","marginTop","flex","background","borderRadius","cursor","fontWeight","opacity","disabled","Surtidores_Autoservicio","Posicion_Surtidor","Tipo_Isla","Guerra_Precio"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/MapPopup.jsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport TrendChart from './TrendChart';\r\nimport { obtenerHistoricoMarker } from '../utils/markerUtils';\r\n\r\nimport { MARCAS_PROPIAS } from '../utils/constants';\r\n\r\nconst MapPopup = ({\r\n    marker,\r\n    allMarkers,\r\n    onShowAssociated,\r\n    onActivateCoords,\r\n    onSaveCoords,\r\n    modoCorreccion,\r\n    variant = 'primary',\r\n    nivel2EnNivel1Stations = [],\r\n    onToggleNivel2EnNivel1\r\n}) => {\r\n    const [activeTab, setActiveTab] = useState('precios');\r\n    const [selectedNivel, setSelectedNivel] = useState('Nivel 1');\r\n\r\n    const isPropia = MARCAS_PROPIAS.includes(marker.Marca);\r\n    const isNivel2EnNivel1 = !isPropia && nivel2EnNivel1Stations.includes(marker.id);\r\n\r\n    const datosTabla = useMemo(() => {\r\n        return obtenerHistoricoMarker(marker.id, allMarkers, selectedNivel);\r\n    }, [marker.id, allMarkers, selectedNivel]);\r\n\r\n    // Calculate price differences between Nivel 1 and Nivel 2\r\n    const priceDifferences = useMemo(() => {\r\n        const nivel1Data = obtenerHistoricoMarker(marker.id, allMarkers, 'Nivel 1');\r\n        const nivel2Data = obtenerHistoricoMarker(marker.id, allMarkers, 'Nivel 2');\r\n\r\n        // Only calculate if both levels exist and have data\r\n        if (nivel1Data.length === 0 || nivel2Data.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        // Get most recent entry from each level\r\n        const nivel1Latest = nivel1Data[0];\r\n        const nivel2Latest = nivel2Data[0];\r\n\r\n        // Calculate differences for each fuel type\r\n        const calculateDiff = (n1, n2) => {\r\n            if (n1 === '-' || n2 === '-') return null;\r\n            const diff = parseFloat(n2) - parseFloat(n1);\r\n            return isNaN(diff) ? null : diff;\r\n        };\r\n\r\n        return {\r\n            g93: calculateDiff(nivel1Latest.g93, nivel2Latest.g93),\r\n            g95: calculateDiff(nivel1Latest.g95, nivel2Latest.g95),\r\n            g97: calculateDiff(nivel1Latest.g97, nivel2Latest.g97),\r\n            diesel: calculateDiff(nivel1Latest.diesel, nivel2Latest.diesel),\r\n            kero: calculateDiff(nivel1Latest.kero, nivel2Latest.kero)\r\n        };\r\n    }, [marker.id, allMarkers]);\r\n\r\n    const variantClass = variant === 'primary' ? '' : 'secondary';\r\n\r\n    const logoUrl = marker.logo\r\n        ? (marker.logo.startsWith('http') ? marker.logo : `https://api.bencinaenlinea.cl${marker.logo}`)\r\n        : '';\r\n\r\n    const handleTabClick = (tab) => {\r\n        setActiveTab(tab);\r\n    };\r\n\r\n    return (\r\n        <div className=\"icon-markers-popup-content\">\r\n            <div className=\"popup-info-header\">\r\n                {logoUrl && (\r\n                    <img\r\n                        src={logoUrl}\r\n                        alt={`Logo ${marker.Marca}`}\r\n                        className=\"popup-logo\"\r\n                        onError={(e) => e.target.style.display = 'none'}\r\n                    />\r\n                )}\r\n                <div className=\"popup-info-row\">\r\n                    <span className=\"popup-label\">{!isPropia ? 'id' : 'PBL'}: </span>\r\n                    <span className=\"popup-value-alerta\">{!isPropia ? (marker.id || '-') : (marker.pbl || '-')}</span>\r\n                </div>\r\n                {isPropia && (\r\n                    <div className=\"popup-info-row\">\r\n                        <span className=\"popup-label\">EESS: </span>\r\n                        <span className=\"popup-value\"> {marker.eds || '-'}</span>\r\n                    </div>\r\n                )}\r\n                <br />\r\n                <div className=\"popup-info-row\">\r\n                    <span className=\"popup-label\">{!isPropia ? 'direccion' : 'JZ'}: </span>\r\n                    <span className=\"popup-value\">{!isPropia ? (marker.direccion || '-') : (marker.nombre || '-')}</span>\r\n                </div>\r\n                {isPropia && (\r\n                    <div className=\"popup-info-row\">\r\n                        <span className=\"popup-label\">OP: </span>\r\n                        <span className=\"popup-value\">{marker.operacion || '-'}</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"popup-tabs-container\">\r\n                <div className=\"popup-tabs-header\">\r\n                    {['precios', 'tendencias', 'coordenadas', 'informacion'].map(tab => (\r\n                        <button\r\n                            key={tab}\r\n                            className={`popup-tab-button ${activeTab === tab ? 'active' : ''}`}\r\n                            onClick={() => handleTabClick(tab)}\r\n                        >\r\n                            {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"popup-tabs-content\">\r\n                    {activeTab === 'precios' && (\r\n                        <div className=\"popup-tab-pane active\">\r\n                            <div className=\"nivel-toggle-container\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '8px' }}>\r\n                                <div style={{ display: 'flex', gap: '6px', alignItems: 'center' }}>\r\n                                    {['Nivel 1', 'Nivel 2'].map(nivel => (\r\n                                        <button\r\n                                            key={nivel}\r\n                                            className={`nivel-toggle-btn ${selectedNivel === nivel ? 'active' : ''}`}\r\n                                            onClick={() => setSelectedNivel(nivel)}\r\n                                        >\r\n                                            {nivel}\r\n                                        </button>\r\n                                    ))}\r\n                                    {isNivel2EnNivel1 && (\r\n                                        <span className=\"nivel2-badge\" title=\"Esta estación reporta precios de Nivel 2 en Nivel 1\">\r\n                                            ⚠️ Niv 2 en Niv 1\r\n                                        </span>\r\n                                    )}\r\n                                </div>\r\n                                {/* Botón para marcar/desmarcar estación */}\r\n                                {!isPropia && onToggleNivel2EnNivel1 && (\r\n                                    <button\r\n                                        className={`nivel-toggle-btn ${isNivel2EnNivel1 ? 'active' : ''}`}\r\n                                        onClick={() => onToggleNivel2EnNivel1(marker.id)}\r\n                                    >\r\n                                        {isNivel2EnNivel1 ? 'Desmarcar' : 'Marcar'}\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                            <div\r\n                                className={`popup-table-wrapper ${variantClass}`}\r\n                                onWheel={(e) => e.stopPropagation()}\r\n                            >\r\n                                {datosTabla.length === 0 ? (\r\n                                    <div style={{ padding: '12px', textAlign: 'center', fontSize: '12px', color: '#999', fontStyle: 'italic' }}>\r\n                                        Sin datos disponibles\r\n                                    </div>\r\n                                ) : (\r\n                                    <table className={`popup-table ${variantClass}`}>\r\n                                        <thead>\r\n                                            {/* Fila de Diferencias */}\r\n                                            {priceDifferences && (\r\n                                                <tr className=\"diff-header-row\">\r\n                                                    <th className=\"diff-label-cell\">PES/AUT</th>\r\n                                                    <th>\r\n                                                        {priceDifferences.g93 !== null && (\r\n                                                            <span className={`diff-value-table ${priceDifferences.g93 >= 0 ? 'positive' : 'negative'}`}>\r\n                                                                {priceDifferences.g93 >= 0 ? '+' : ''}{priceDifferences.g93.toFixed(0)}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </th>\r\n                                                    <th>\r\n                                                        {priceDifferences.g95 !== null && (\r\n                                                            <span className={`diff-value-table ${priceDifferences.g95 >= 0 ? 'positive' : 'negative'}`}>\r\n                                                                {priceDifferences.g95 >= 0 ? '+' : ''}{priceDifferences.g95.toFixed(0)}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </th>\r\n                                                    <th>\r\n                                                        {priceDifferences.g97 !== null && (\r\n                                                            <span className={`diff-value-table ${priceDifferences.g97 >= 0 ? 'positive' : 'negative'}`}>\r\n                                                                {priceDifferences.g97 >= 0 ? '+' : ''}{priceDifferences.g97.toFixed(0)}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </th>\r\n                                                    <th>\r\n                                                        {priceDifferences.diesel !== null && (\r\n                                                            <span className={`diff-value-table ${priceDifferences.diesel >= 0 ? 'positive' : 'negative'}`}>\r\n                                                                {priceDifferences.diesel >= 0 ? '+' : ''}{priceDifferences.diesel.toFixed(0)}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </th>\r\n                                                    <th>\r\n                                                        {priceDifferences.kero !== null && (\r\n                                                            <span className={`diff-value-table ${priceDifferences.kero >= 0 ? 'positive' : 'negative'}`}>\r\n                                                                {priceDifferences.kero >= 0 ? '+' : ''}{priceDifferences.kero.toFixed(0)}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </th>\r\n                                                </tr>\r\n                                            )}\r\n                                            {/* Fila de Encabezados Normal */}\r\n                                            <tr>\r\n                                                <th>Fecha</th>\r\n                                                <th>G93</th>\r\n                                                <th>G95</th>\r\n                                                <th>G97</th>\r\n                                                <th>Diesel</th>\r\n                                                <th>Kero</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {datosTabla.map((fila, idx) => (\r\n                                                <tr key={idx}>\r\n                                                    <td>{fila.fecha}</td>\r\n                                                    <td>{fila.g93}</td>\r\n                                                    <td>{fila.g95}</td>\r\n                                                    <td>{fila.g97}</td>\r\n                                                    <td>{fila.diesel}</td>\r\n                                                    <td>{fila.kero}</td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                    </table>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === 'tendencias' && (\r\n                        <div className=\"popup-tab-pane active\">\r\n                            <div style={{ width: '100%', minHeight: '160px', paddingTop: '6px' }}>\r\n                                <TrendChart\r\n                                    dataRows={datosTabla}\r\n                                    maxPoints={7}\r\n                                    height={170}\r\n                                    compact={true}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === 'coordenadas' && (\r\n                        <div className=\"popup-tab-pane active\">\r\n                            <div className=\"popup-info-box\">\r\n                                <p><strong>Lat corregida:</strong> <span>{(modoCorreccion && (modoCorreccion.id === marker.id || modoCorreccion.pbl === marker.pbl) && modoCorreccion.lat) ? modoCorreccion.lat.toFixed(6) : marker.lat.toFixed(6)}</span></p>\r\n                                <p><strong>Lon corregida:</strong> <span>{(modoCorreccion && (modoCorreccion.id === marker.id || modoCorreccion.pbl === marker.pbl) && modoCorreccion.lng) ? modoCorreccion.lng.toFixed(6) : marker.lng.toFixed(6)}</span></p>\r\n                                <hr style={{ margin: '8px 0', border: 'none', borderTop: '1px solid #dee2e6' }} />\r\n                                <p><strong>Región:</strong> {marker.Region || '-'}</p>\r\n                                <p><strong>Comuna:</strong> {marker.Comuna || '-'}</p>\r\n                            </div>\r\n                            <div style={{ display: 'flex', gap: '8px', marginTop: '10px' }}>\r\n                                <button\r\n                                    style={{\r\n                                        flex: 1,\r\n                                        padding: '8px',\r\n                                        background: (modoCorreccion && (modoCorreccion.id === marker.id || modoCorreccion.pbl === marker.pbl)) ? '#dc3545' : '#17a2b8',\r\n                                        color: 'white',\r\n                                        border: 'none',\r\n                                        borderRadius: '4px',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '11px',\r\n                                        fontWeight: 600\r\n                                    }}\r\n                                    onClick={() => onActivateCoords(marker)}\r\n                                >\r\n                                    {(modoCorreccion && (modoCorreccion.id === marker.id || modoCorreccion.pbl === marker.pbl)) ? 'Coordenadas Activas' : 'Activar Coord'}\r\n                                </button>\r\n                                <button\r\n                                    style={{ flex: 1, padding: '8px', background: '#28a745', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '11px', fontWeight: 600, opacity: (modoCorreccion && (modoCorreccion.id === marker.id || modoCorreccion.pbl === marker.pbl) && modoCorreccion.lat) ? 1 : 0.5 }}\r\n                                    onClick={() => onSaveCoords(marker)}\r\n                                    disabled={!(modoCorreccion && (modoCorreccion.id === marker.id || modoCorreccion.pbl === marker.pbl) && modoCorreccion.lat)}\r\n                                >\r\n                                    Guardar\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {activeTab === 'informacion' && (\r\n                        <div className=\"popup-tab-pane active\">\r\n                            <div className=\"popup-info-box\">\r\n                                <p><strong>Dirección:</strong> {marker.direccion || '-'}</p>\r\n                                <p><strong>Surtidores PES:</strong> {marker.Surtidores_Autoservicio || '-'}</p>\r\n                                <p><strong>Posición Surtidor:</strong> {marker.Posicion_Surtidor || '-'}</p>\r\n                                <p><strong>Tipo Isla:</strong> {marker.Tipo_Isla || '-'}</p>\r\n                                {marker.Guerra_Precio === 'Si' && (\r\n                                    <>\r\n                                        <hr style={{ margin: '8px 0', border: 'none', borderTop: '1px solid #dee2e6' }} />\r\n                                        <p><strong style={{ color: '#d9534f' }}>⚠️ Guerra de Precio Activa</strong></p>\r\n                                    </>\r\n                                )}\r\n                                {!isPropia && onToggleNivel2EnNivel1 && (\r\n                                    <>\r\n                                        <hr style={{ margin: '8px 0', border: 'none', borderTop: '1px solid #dee2e6' }} />\r\n                                        <button\r\n                                            className=\"nivel2-toggle-btn\"\r\n                                            onClick={() => onToggleNivel2EnNivel1(marker.id)}\r\n                                            style={{\r\n                                                width: '100%',\r\n                                                padding: '8px',\r\n                                                background: isNivel2EnNivel1 ? '#ffc107' : '#6c757d',\r\n                                                color: isNivel2EnNivel1 ? '#000' : 'white',\r\n                                                border: 'none',\r\n                                                borderRadius: '4px',\r\n                                                cursor: 'pointer',\r\n                                                fontSize: '11px',\r\n                                                fontWeight: 600,\r\n                                                marginTop: '8px'\r\n                                            }}\r\n                                        >\r\n                                            {isNivel2EnNivel1 ? 'Desmarcar: Nivel 2 en Nivel 1' : 'Marcar: Nivel 2 en Nivel 1'}\r\n                                        </button>\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                marker.pbl && (marker.Marca === 'Aramco' || marker.Marca === 'Petrobras') && (\r\n                    <button\r\n                        className=\"popup-button-mercado\"\r\n                        onClick={() => onShowAssociated(marker.pbl, marker.lat, marker.lng, marker.id)}\r\n                    >\r\n                        Mercado\r\n                    </button>\r\n                )\r\n            }\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default MapPopup;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,OAAO,KAAQ,OAAO,CAChD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,sBAAsB,KAAQ,sBAAsB,CAE7D,OAASC,cAAc,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpD,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAUX,IAVY,CACdC,MAAM,CACNC,UAAU,CACVC,gBAAgB,CAChBC,gBAAgB,CAChBC,YAAY,CACZC,cAAc,CACdC,OAAO,CAAG,SAAS,CACnBC,sBAAsB,CAAG,EAAE,CAC3BC,sBACJ,CAAC,CAAAT,IAAA,CACG,KAAM,CAACU,SAAS,CAAEC,YAAY,CAAC,CAAGvB,QAAQ,CAAC,SAAS,CAAC,CACrD,KAAM,CAACwB,aAAa,CAAEC,gBAAgB,CAAC,CAAGzB,QAAQ,CAAC,SAAS,CAAC,CAE7D,KAAM,CAAA0B,QAAQ,CAAGtB,cAAc,CAACuB,QAAQ,CAACd,MAAM,CAACe,KAAK,CAAC,CACtD,KAAM,CAAAC,gBAAgB,CAAG,CAACH,QAAQ,EAAIN,sBAAsB,CAACO,QAAQ,CAACd,MAAM,CAACiB,EAAE,CAAC,CAEhF,KAAM,CAAAC,UAAU,CAAG9B,OAAO,CAAC,IAAM,CAC7B,MAAO,CAAAE,sBAAsB,CAACU,MAAM,CAACiB,EAAE,CAAEhB,UAAU,CAAEU,aAAa,CAAC,CACvE,CAAC,CAAE,CAACX,MAAM,CAACiB,EAAE,CAAEhB,UAAU,CAAEU,aAAa,CAAC,CAAC,CAE1C;AACA,KAAM,CAAAQ,gBAAgB,CAAG/B,OAAO,CAAC,IAAM,CACnC,KAAM,CAAAgC,UAAU,CAAG9B,sBAAsB,CAACU,MAAM,CAACiB,EAAE,CAAEhB,UAAU,CAAE,SAAS,CAAC,CAC3E,KAAM,CAAAoB,UAAU,CAAG/B,sBAAsB,CAACU,MAAM,CAACiB,EAAE,CAAEhB,UAAU,CAAE,SAAS,CAAC,CAE3E;AACA,GAAImB,UAAU,CAACE,MAAM,GAAK,CAAC,EAAID,UAAU,CAACC,MAAM,GAAK,CAAC,CAAE,CACpD,MAAO,KAAI,CACf,CAEA;AACA,KAAM,CAAAC,YAAY,CAAGH,UAAU,CAAC,CAAC,CAAC,CAClC,KAAM,CAAAI,YAAY,CAAGH,UAAU,CAAC,CAAC,CAAC,CAElC;AACA,KAAM,CAAAI,aAAa,CAAGA,CAACC,EAAE,CAAEC,EAAE,GAAK,CAC9B,GAAID,EAAE,GAAK,GAAG,EAAIC,EAAE,GAAK,GAAG,CAAE,MAAO,KAAI,CACzC,KAAM,CAAAC,IAAI,CAAGC,UAAU,CAACF,EAAE,CAAC,CAAGE,UAAU,CAACH,EAAE,CAAC,CAC5C,MAAO,CAAAI,KAAK,CAACF,IAAI,CAAC,CAAG,IAAI,CAAGA,IAAI,CACpC,CAAC,CAED,MAAO,CACHG,GAAG,CAAEN,aAAa,CAACF,YAAY,CAACQ,GAAG,CAAEP,YAAY,CAACO,GAAG,CAAC,CACtDC,GAAG,CAAEP,aAAa,CAACF,YAAY,CAACS,GAAG,CAAER,YAAY,CAACQ,GAAG,CAAC,CACtDC,GAAG,CAAER,aAAa,CAACF,YAAY,CAACU,GAAG,CAAET,YAAY,CAACS,GAAG,CAAC,CACtDC,MAAM,CAAET,aAAa,CAACF,YAAY,CAACW,MAAM,CAAEV,YAAY,CAACU,MAAM,CAAC,CAC/DC,IAAI,CAAEV,aAAa,CAACF,YAAY,CAACY,IAAI,CAAEX,YAAY,CAACW,IAAI,CAC5D,CAAC,CACL,CAAC,CAAE,CAACnC,MAAM,CAACiB,EAAE,CAAEhB,UAAU,CAAC,CAAC,CAE3B,KAAM,CAAAmC,YAAY,CAAG9B,OAAO,GAAK,SAAS,CAAG,EAAE,CAAG,WAAW,CAE7D,KAAM,CAAA+B,OAAO,CAAGrC,MAAM,CAACsC,IAAI,CACpBtC,MAAM,CAACsC,IAAI,CAACC,UAAU,CAAC,MAAM,CAAC,CAAGvC,MAAM,CAACsC,IAAI,iCAAAE,MAAA,CAAmCxC,MAAM,CAACsC,IAAI,CAAE,CAC7F,EAAE,CAER,KAAM,CAAAG,cAAc,CAAIC,GAAG,EAAK,CAC5BhC,YAAY,CAACgC,GAAG,CAAC,CACrB,CAAC,CAED,mBACI/C,KAAA,QAAKgD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvCjD,KAAA,QAAKgD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAC7BP,OAAO,eACJ5C,IAAA,QACIoD,GAAG,CAAER,OAAQ,CACbS,GAAG,SAAAN,MAAA,CAAUxC,MAAM,CAACe,KAAK,CAAG,CAC5B4B,SAAS,CAAC,YAAY,CACtBI,OAAO,CAAGC,CAAC,EAAKA,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,CAAG,MAAO,CACnD,CACJ,cACDxD,KAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BjD,KAAA,SAAMgD,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAE,CAAC/B,QAAQ,CAAG,IAAI,CAAG,KAAK,CAAC,IAAE,EAAM,CAAC,cACjEpB,IAAA,SAAMkD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAE,CAAC/B,QAAQ,CAAIb,MAAM,CAACiB,EAAE,EAAI,GAAG,CAAKjB,MAAM,CAACoD,GAAG,EAAI,GAAI,CAAO,CAAC,EACjG,CAAC,CACLvC,QAAQ,eACLlB,KAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BnD,IAAA,SAAMkD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC3CjD,KAAA,SAAMgD,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,GAAC,CAAC5C,MAAM,CAACqD,GAAG,EAAI,GAAG,EAAO,CAAC,EACxD,CACR,cACD5D,IAAA,QAAK,CAAC,cACNE,KAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BjD,KAAA,SAAMgD,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAE,CAAC/B,QAAQ,CAAG,WAAW,CAAG,IAAI,CAAC,IAAE,EAAM,CAAC,cACvEpB,IAAA,SAAMkD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE,CAAC/B,QAAQ,CAAIb,MAAM,CAACsD,SAAS,EAAI,GAAG,CAAKtD,MAAM,CAACuD,MAAM,EAAI,GAAI,CAAO,CAAC,EACpG,CAAC,CACL1C,QAAQ,eACLlB,KAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BnD,IAAA,SAAMkD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,cACzCnD,IAAA,SAAMkD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE5C,MAAM,CAACwD,SAAS,EAAI,GAAG,CAAO,CAAC,EAC7D,CACR,EACA,CAAC,cAEN7D,KAAA,QAAKgD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACjCnD,IAAA,QAAKkD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC7B,CAAC,SAAS,CAAE,YAAY,CAAE,aAAa,CAAE,aAAa,CAAC,CAACa,GAAG,CAACf,GAAG,eAC5DjD,IAAA,WAEIkD,SAAS,qBAAAH,MAAA,CAAsB/B,SAAS,GAAKiC,GAAG,CAAG,QAAQ,CAAG,EAAE,CAAG,CACnEgB,OAAO,CAAEA,CAAA,GAAMjB,cAAc,CAACC,GAAG,CAAE,CAAAE,QAAA,CAElCF,GAAG,CAACiB,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGlB,GAAG,CAACmB,KAAK,CAAC,CAAC,CAAC,EAJtCnB,GAKD,CACX,CAAC,CACD,CAAC,cAEN/C,KAAA,QAAKgD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAC9BnC,SAAS,GAAK,SAAS,eACpBd,KAAA,QAAKgD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClCjD,KAAA,QAAKgD,SAAS,CAAC,wBAAwB,CAACO,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEW,UAAU,CAAE,QAAQ,CAAEC,cAAc,CAAE,eAAe,CAAEC,YAAY,CAAE,KAAM,CAAE,CAAApB,QAAA,eAC3IjD,KAAA,QAAKuD,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEc,GAAG,CAAE,KAAK,CAAEH,UAAU,CAAE,QAAS,CAAE,CAAAlB,QAAA,EAC7D,CAAC,SAAS,CAAE,SAAS,CAAC,CAACa,GAAG,CAACS,KAAK,eAC7BzE,IAAA,WAEIkD,SAAS,qBAAAH,MAAA,CAAsB7B,aAAa,GAAKuD,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAG,CACzER,OAAO,CAAEA,CAAA,GAAM9C,gBAAgB,CAACsD,KAAK,CAAE,CAAAtB,QAAA,CAEtCsB,KAAK,EAJDA,KAKD,CACX,CAAC,CACDlD,gBAAgB,eACbvB,IAAA,SAAMkD,SAAS,CAAC,cAAc,CAACwB,KAAK,CAAC,wDAAqD,CAAAvB,QAAA,CAAC,6BAE3F,CAAM,CACT,EACA,CAAC,CAEL,CAAC/B,QAAQ,EAAIL,sBAAsB,eAChCf,IAAA,WACIkD,SAAS,qBAAAH,MAAA,CAAsBxB,gBAAgB,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClE0C,OAAO,CAAEA,CAAA,GAAMlD,sBAAsB,CAACR,MAAM,CAACiB,EAAE,CAAE,CAAA2B,QAAA,CAEhD5B,gBAAgB,CAAG,WAAW,CAAG,QAAQ,CACtC,CACX,EACA,CAAC,cACNvB,IAAA,QACIkD,SAAS,wBAAAH,MAAA,CAAyBJ,YAAY,CAAG,CACjDgC,OAAO,CAAGpB,CAAC,EAAKA,CAAC,CAACqB,eAAe,CAAC,CAAE,CAAAzB,QAAA,CAEnC1B,UAAU,CAACI,MAAM,GAAK,CAAC,cACpB7B,IAAA,QAAKyD,KAAK,CAAE,CAAEoB,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAQ,CAAEC,QAAQ,CAAE,MAAM,CAAEC,KAAK,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAA9B,QAAA,CAAC,uBAE5G,CAAK,CAAC,cAENjD,KAAA,UAAOgD,SAAS,gBAAAH,MAAA,CAAiBJ,YAAY,CAAG,CAAAQ,QAAA,eAC5CjD,KAAA,UAAAiD,QAAA,EAEKzB,gBAAgB,eACbxB,KAAA,OAAIgD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC3BnD,IAAA,OAAIkD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cAC5CnD,IAAA,OAAAmD,QAAA,CACKzB,gBAAgB,CAACY,GAAG,GAAK,IAAI,eAC1BpC,KAAA,SAAMgD,SAAS,qBAAAH,MAAA,CAAsBrB,gBAAgB,CAACY,GAAG,EAAI,CAAC,CAAG,UAAU,CAAG,UAAU,CAAG,CAAAa,QAAA,EACtFzB,gBAAgB,CAACY,GAAG,EAAI,CAAC,CAAG,GAAG,CAAG,EAAE,CAAEZ,gBAAgB,CAACY,GAAG,CAAC4C,OAAO,CAAC,CAAC,CAAC,EACpE,CACT,CACD,CAAC,cACLlF,IAAA,OAAAmD,QAAA,CACKzB,gBAAgB,CAACa,GAAG,GAAK,IAAI,eAC1BrC,KAAA,SAAMgD,SAAS,qBAAAH,MAAA,CAAsBrB,gBAAgB,CAACa,GAAG,EAAI,CAAC,CAAG,UAAU,CAAG,UAAU,CAAG,CAAAY,QAAA,EACtFzB,gBAAgB,CAACa,GAAG,EAAI,CAAC,CAAG,GAAG,CAAG,EAAE,CAAEb,gBAAgB,CAACa,GAAG,CAAC2C,OAAO,CAAC,CAAC,CAAC,EACpE,CACT,CACD,CAAC,cACLlF,IAAA,OAAAmD,QAAA,CACKzB,gBAAgB,CAACc,GAAG,GAAK,IAAI,eAC1BtC,KAAA,SAAMgD,SAAS,qBAAAH,MAAA,CAAsBrB,gBAAgB,CAACc,GAAG,EAAI,CAAC,CAAG,UAAU,CAAG,UAAU,CAAG,CAAAW,QAAA,EACtFzB,gBAAgB,CAACc,GAAG,EAAI,CAAC,CAAG,GAAG,CAAG,EAAE,CAAEd,gBAAgB,CAACc,GAAG,CAAC0C,OAAO,CAAC,CAAC,CAAC,EACpE,CACT,CACD,CAAC,cACLlF,IAAA,OAAAmD,QAAA,CACKzB,gBAAgB,CAACe,MAAM,GAAK,IAAI,eAC7BvC,KAAA,SAAMgD,SAAS,qBAAAH,MAAA,CAAsBrB,gBAAgB,CAACe,MAAM,EAAI,CAAC,CAAG,UAAU,CAAG,UAAU,CAAG,CAAAU,QAAA,EACzFzB,gBAAgB,CAACe,MAAM,EAAI,CAAC,CAAG,GAAG,CAAG,EAAE,CAAEf,gBAAgB,CAACe,MAAM,CAACyC,OAAO,CAAC,CAAC,CAAC,EAC1E,CACT,CACD,CAAC,cACLlF,IAAA,OAAAmD,QAAA,CACKzB,gBAAgB,CAACgB,IAAI,GAAK,IAAI,eAC3BxC,KAAA,SAAMgD,SAAS,qBAAAH,MAAA,CAAsBrB,gBAAgB,CAACgB,IAAI,EAAI,CAAC,CAAG,UAAU,CAAG,UAAU,CAAG,CAAAS,QAAA,EACvFzB,gBAAgB,CAACgB,IAAI,EAAI,CAAC,CAAG,GAAG,CAAG,EAAE,CAAEhB,gBAAgB,CAACgB,IAAI,CAACwC,OAAO,CAAC,CAAC,CAAC,EACtE,CACT,CACD,CAAC,EACL,CACP,cAEDhF,KAAA,OAAAiD,QAAA,eACInD,IAAA,OAAAmD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdnD,IAAA,OAAAmD,QAAA,CAAI,KAAG,CAAI,CAAC,cACZnD,IAAA,OAAAmD,QAAA,CAAI,KAAG,CAAI,CAAC,cACZnD,IAAA,OAAAmD,QAAA,CAAI,KAAG,CAAI,CAAC,cACZnD,IAAA,OAAAmD,QAAA,CAAI,QAAM,CAAI,CAAC,cACfnD,IAAA,OAAAmD,QAAA,CAAI,MAAI,CAAI,CAAC,EACb,CAAC,EACF,CAAC,cACRnD,IAAA,UAAAmD,QAAA,CACK1B,UAAU,CAACuC,GAAG,CAAC,CAACmB,IAAI,CAAEC,GAAG,gBACtBlF,KAAA,OAAAiD,QAAA,eACInD,IAAA,OAAAmD,QAAA,CAAKgC,IAAI,CAACE,KAAK,CAAK,CAAC,cACrBrF,IAAA,OAAAmD,QAAA,CAAKgC,IAAI,CAAC7C,GAAG,CAAK,CAAC,cACnBtC,IAAA,OAAAmD,QAAA,CAAKgC,IAAI,CAAC5C,GAAG,CAAK,CAAC,cACnBvC,IAAA,OAAAmD,QAAA,CAAKgC,IAAI,CAAC3C,GAAG,CAAK,CAAC,cACnBxC,IAAA,OAAAmD,QAAA,CAAKgC,IAAI,CAAC1C,MAAM,CAAK,CAAC,cACtBzC,IAAA,OAAAmD,QAAA,CAAKgC,IAAI,CAACzC,IAAI,CAAK,CAAC,GANf0C,GAOL,CACP,CAAC,CACC,CAAC,EACL,CACV,CACA,CAAC,EACL,CACR,CAEApE,SAAS,GAAK,YAAY,eACvBhB,IAAA,QAAKkD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cAClCnD,IAAA,QAAKyD,KAAK,CAAE,CAAE6B,KAAK,CAAE,MAAM,CAAEC,SAAS,CAAE,OAAO,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAArC,QAAA,cACjEnD,IAAA,CAACJ,UAAU,EACP6F,QAAQ,CAAEhE,UAAW,CACrBiE,SAAS,CAAE,CAAE,CACbC,MAAM,CAAE,GAAI,CACZC,OAAO,CAAE,IAAK,CACjB,CAAC,CACD,CAAC,CACL,CACR,CAEA5E,SAAS,GAAK,aAAa,eACxBd,KAAA,QAAKgD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClCjD,KAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BjD,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,gBAAc,CAAQ,CAAC,IAAC,cAAAnD,IAAA,SAAAmD,QAAA,CAAQvC,cAAc,GAAKA,cAAc,CAACY,EAAE,GAAKjB,MAAM,CAACiB,EAAE,EAAIZ,cAAc,CAAC+C,GAAG,GAAKpD,MAAM,CAACoD,GAAG,CAAC,EAAI/C,cAAc,CAACiF,GAAG,CAAIjF,cAAc,CAACiF,GAAG,CAACX,OAAO,CAAC,CAAC,CAAC,CAAG3E,MAAM,CAACsF,GAAG,CAACX,OAAO,CAAC,CAAC,CAAC,CAAO,CAAC,EAAG,CAAC,cAC9NhF,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,gBAAc,CAAQ,CAAC,IAAC,cAAAnD,IAAA,SAAAmD,QAAA,CAAQvC,cAAc,GAAKA,cAAc,CAACY,EAAE,GAAKjB,MAAM,CAACiB,EAAE,EAAIZ,cAAc,CAAC+C,GAAG,GAAKpD,MAAM,CAACoD,GAAG,CAAC,EAAI/C,cAAc,CAACkF,GAAG,CAAIlF,cAAc,CAACkF,GAAG,CAACZ,OAAO,CAAC,CAAC,CAAC,CAAG3E,MAAM,CAACuF,GAAG,CAACZ,OAAO,CAAC,CAAC,CAAC,CAAO,CAAC,EAAG,CAAC,cAC9NlF,IAAA,OAAIyD,KAAK,CAAE,CAAEsC,MAAM,CAAE,OAAO,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,mBAAoB,CAAE,CAAE,CAAC,cAClF/F,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,YAAO,CAAQ,CAAC,IAAC,CAAC5C,MAAM,CAAC2F,MAAM,EAAI,GAAG,EAAI,CAAC,cACtDhG,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAAC5C,MAAM,CAAC4F,MAAM,EAAI,GAAG,EAAI,CAAC,EACrD,CAAC,cACNjG,KAAA,QAAKuD,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEc,GAAG,CAAE,KAAK,CAAE4B,SAAS,CAAE,MAAO,CAAE,CAAAjD,QAAA,eAC3DnD,IAAA,WACIyD,KAAK,CAAE,CACH4C,IAAI,CAAE,CAAC,CACPxB,OAAO,CAAE,KAAK,CACdyB,UAAU,CAAG1F,cAAc,GAAKA,cAAc,CAACY,EAAE,GAAKjB,MAAM,CAACiB,EAAE,EAAIZ,cAAc,CAAC+C,GAAG,GAAKpD,MAAM,CAACoD,GAAG,CAAC,CAAI,SAAS,CAAG,SAAS,CAC9HqB,KAAK,CAAE,OAAO,CACdgB,MAAM,CAAE,MAAM,CACdO,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,SAAS,CACjBzB,QAAQ,CAAE,MAAM,CAChB0B,UAAU,CAAE,GAChB,CAAE,CACFxC,OAAO,CAAEA,CAAA,GAAMvD,gBAAgB,CAACH,MAAM,CAAE,CAAA4C,QAAA,CAEtCvC,cAAc,GAAKA,cAAc,CAACY,EAAE,GAAKjB,MAAM,CAACiB,EAAE,EAAIZ,cAAc,CAAC+C,GAAG,GAAKpD,MAAM,CAACoD,GAAG,CAAC,CAAI,qBAAqB,CAAG,eAAe,CACjI,CAAC,cACT3D,IAAA,WACIyD,KAAK,CAAE,CAAE4C,IAAI,CAAE,CAAC,CAAExB,OAAO,CAAE,KAAK,CAAEyB,UAAU,CAAE,SAAS,CAAEtB,KAAK,CAAE,OAAO,CAAEgB,MAAM,CAAE,MAAM,CAAEO,YAAY,CAAE,KAAK,CAAEC,MAAM,CAAE,SAAS,CAAEzB,QAAQ,CAAE,MAAM,CAAE0B,UAAU,CAAE,GAAG,CAAEC,OAAO,CAAG9F,cAAc,GAAKA,cAAc,CAACY,EAAE,GAAKjB,MAAM,CAACiB,EAAE,EAAIZ,cAAc,CAAC+C,GAAG,GAAKpD,MAAM,CAACoD,GAAG,CAAC,EAAI/C,cAAc,CAACiF,GAAG,CAAI,CAAC,CAAG,GAAI,CAAE,CAC1S5B,OAAO,CAAEA,CAAA,GAAMtD,YAAY,CAACJ,MAAM,CAAE,CACpCoG,QAAQ,CAAE,EAAE/F,cAAc,GAAKA,cAAc,CAACY,EAAE,GAAKjB,MAAM,CAACiB,EAAE,EAAIZ,cAAc,CAAC+C,GAAG,GAAKpD,MAAM,CAACoD,GAAG,CAAC,EAAI/C,cAAc,CAACiF,GAAG,CAAE,CAAA1C,QAAA,CAC/H,SAED,CAAQ,CAAC,EACR,CAAC,EACL,CACR,CAEAnC,SAAS,GAAK,aAAa,eACxBhB,IAAA,QAAKkD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cAClCjD,KAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BjD,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,eAAU,CAAQ,CAAC,IAAC,CAAC5C,MAAM,CAACsD,SAAS,EAAI,GAAG,EAAI,CAAC,cAC5D3D,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,iBAAe,CAAQ,CAAC,IAAC,CAAC5C,MAAM,CAACqG,uBAAuB,EAAI,GAAG,EAAI,CAAC,cAC/E1G,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,uBAAkB,CAAQ,CAAC,IAAC,CAAC5C,MAAM,CAACsG,iBAAiB,EAAI,GAAG,EAAI,CAAC,cAC5E3G,KAAA,MAAAiD,QAAA,eAAGnD,IAAA,WAAAmD,QAAA,CAAQ,YAAU,CAAQ,CAAC,IAAC,CAAC5C,MAAM,CAACuG,SAAS,EAAI,GAAG,EAAI,CAAC,CAC3DvG,MAAM,CAACwG,aAAa,GAAK,IAAI,eAC1B7G,KAAA,CAAAE,SAAA,EAAA+C,QAAA,eACInD,IAAA,OAAIyD,KAAK,CAAE,CAAEsC,MAAM,CAAE,OAAO,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,mBAAoB,CAAE,CAAE,CAAC,cAClFjG,IAAA,MAAAmD,QAAA,cAAGnD,IAAA,WAAQyD,KAAK,CAAE,CAAEuB,KAAK,CAAE,SAAU,CAAE,CAAA7B,QAAA,CAAC,sCAA0B,CAAQ,CAAC,CAAG,CAAC,EACjF,CACL,CACA,CAAC/B,QAAQ,EAAIL,sBAAsB,eAChCb,KAAA,CAAAE,SAAA,EAAA+C,QAAA,eACInD,IAAA,OAAIyD,KAAK,CAAE,CAAEsC,MAAM,CAAE,OAAO,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,mBAAoB,CAAE,CAAE,CAAC,cAClFjG,IAAA,WACIkD,SAAS,CAAC,mBAAmB,CAC7Be,OAAO,CAAEA,CAAA,GAAMlD,sBAAsB,CAACR,MAAM,CAACiB,EAAE,CAAE,CACjDiC,KAAK,CAAE,CACH6B,KAAK,CAAE,MAAM,CACbT,OAAO,CAAE,KAAK,CACdyB,UAAU,CAAE/E,gBAAgB,CAAG,SAAS,CAAG,SAAS,CACpDyD,KAAK,CAAEzD,gBAAgB,CAAG,MAAM,CAAG,OAAO,CAC1CyE,MAAM,CAAE,MAAM,CACdO,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,SAAS,CACjBzB,QAAQ,CAAE,MAAM,CAChB0B,UAAU,CAAE,GAAG,CACfL,SAAS,CAAE,KACf,CAAE,CAAAjD,QAAA,CAED5B,gBAAgB,CAAG,+BAA+B,CAAG,4BAA4B,CAC9E,CAAC,EACX,CACL,EACA,CAAC,CACL,CACR,EACA,CAAC,EACL,CAAC,CAGFhB,MAAM,CAACoD,GAAG,GAAKpD,MAAM,CAACe,KAAK,GAAK,QAAQ,EAAIf,MAAM,CAACe,KAAK,GAAK,WAAW,CAAC,eACrEtB,IAAA,WACIkD,SAAS,CAAC,sBAAsB,CAChCe,OAAO,CAAEA,CAAA,GAAMxD,gBAAgB,CAACF,MAAM,CAACoD,GAAG,CAAEpD,MAAM,CAACsF,GAAG,CAAEtF,MAAM,CAACuF,GAAG,CAAEvF,MAAM,CAACiB,EAAE,CAAE,CAAA2B,QAAA,CAClF,SAED,CAAQ,CACX,EAEH,CAAC,CAEf,CAAC,CAED,cAAe,CAAA9C,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}