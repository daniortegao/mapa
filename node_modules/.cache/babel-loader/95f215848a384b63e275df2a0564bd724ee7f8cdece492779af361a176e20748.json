{"ast":null,"code":"import _objectSpread from\"C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{getMercadoAlerta,getHistoricoAlerta,getDataBaseguerra,getDataBaseajuste}from'../services/apiService';import'../styles/AlertPanel.css';// Agrupar alertas por estaciÃ³n\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function groupAlertsByStation(alerts){const grouped={};alerts.forEach(alert=>{const key=alert.Nom_Eds||'Sin nombre';if(!grouped[key])grouped[key]=[];grouped[key].push(alert);});return grouped;}// CONTADOR CORRECTO DE ESTACIONES ÃšNICAS\nfunction getStationCount(alerts){const estaciones={};alerts.forEach(a=>estaciones[a.Nom_Eds||'Sin nombre']=true);return Object.keys(estaciones).length;}// FunciÃ³n para parsear fechas en formato \"DD-MM-YYYY HH:mm\"\nfunction parseFecha(fechaStr){if(!fechaStr||typeof fechaStr!=='string'){return new Date();}const parts=fechaStr.trim().split(' ');const datePart=parts[0];const timePart=parts[1];if(!datePart)return new Date();const dateParts=datePart.split('-');if(dateParts.length!==3)return new Date();const[day,month,year]=dateParts.map(Number);const[hours,minutes]=timePart?timePart.split(':').map(Number):[0,0];if(isNaN(day)||isNaN(month)||isNaN(year))return new Date();return new Date(year,month-1,day,hours||0,minutes||0);}const ITEMS_PER_PAGE=50;const AlertPanel=_ref=>{let{isVisible,onClose,alertasExternas}=_ref;const[activeTab,setActiveTab]=useState('alertas');const[alertas,setAlertas]=useState([]);const[historico,setHistorico]=useState([]);const[guerraData,setGuerraData]=useState([]);const[ajustesData,setAjustesData]=useState([]);const[loading,setLoading]=useState(true);const[page,setPage]=useState(1);const[modalExpanded,setModalExpanded]=useState(false);// â† NUEVO\n// Estados para filtros histÃ³rico\nconst[filterNombreEstacion,setFilterNombreEstacion]=useState('');const[filterSoloGuerra,setFilterSoloGuerra]=useState(false);const[filterSoloSeguimiento,setFilterSoloSeguimiento]=useState(false);// â† NUEVO\n// Estados para filtros ajustes\nconst[filterNombreAjuste,setFilterNombreAjuste]=useState('');const[filterCombustible,setFilterCombustible]=useState('');useEffect(()=>{if(alertasExternas){setAlertas(alertasExternas);setLoading(false);}else if(isVisible){loadData();}},[isVisible,alertasExternas]);const loadData=async()=>{try{setLoading(true);const[alertasData,historicoData,guerraDataResult,ajustesDataResult]=await Promise.all([getMercadoAlerta(),getHistoricoAlerta(),getDataBaseguerra(),getDataBaseajuste()]);setAlertas(Array.isArray(alertasData)?alertasData:[]);setHistorico(Array.isArray(historicoData)?historicoData:[]);const guerraArr=Array.isArray(guerraDataResult)?guerraDataResult:Array.isArray(guerraDataResult===null||guerraDataResult===void 0?void 0:guerraDataResult.data)?guerraDataResult.data:[];setGuerraData(guerraArr);const ajustesArr=Array.isArray(ajustesDataResult)?ajustesDataResult:Array.isArray(ajustesDataResult===null||ajustesDataResult===void 0?void 0:ajustesDataResult.data)?ajustesDataResult.data:[];setAjustesData(ajustesArr);}catch(_unused){setAlertas([]);setHistorico([]);setGuerraData([]);setAjustesData([]);}finally{setLoading(false);}};const agrupadas=useMemo(()=>groupAlertsByStation(alertas),[alertas]);const cantidadEstaciones=useMemo(()=>getStationCount(alertas),[alertas]);const estacionesGuerra=useMemo(()=>{if(!Array.isArray(guerraData))return[];return guerraData.filter(item=>item.Activa==='Si').sort((a,b)=>{if(a.Guerra_Precio==='Si'&&b.Guerra_Precio!=='Si')return-1;if(a.Guerra_Precio!=='Si'&&b.Guerra_Precio==='Si')return 1;return(a.Nom_Eds||'').localeCompare(b.Nom_Eds||'');});},[guerraData]);// Filtrado del histÃ³rico\n// Conjunto de estaciones en seguimiento (Guerra_Precio === 'No')\nconst estacionesSeguimientoSet=useMemo(()=>{return new Set(guerraData.filter(g=>g.Guerra_Precio==='No').map(g=>g.Nom_Eds));},[guerraData]);const historicoFiltrado=useMemo(()=>{let filtered=[...historico];if(filterNombreEstacion.trim()!==''){const searchTerm=filterNombreEstacion.toLowerCase();filtered=filtered.filter(item=>(item.Nom_Eds||'').toLowerCase().includes(searchTerm));}if(filterSoloGuerra){const estacionesEnGuerra=new Set(guerraData.filter(g=>g.Guerra_Precio==='Si').map(g=>g.Nom_Eds));filtered=filtered.filter(item=>estacionesEnGuerra.has(item.Nom_Eds));}// Nuevo filtro: Solo En Seguimiento (usando el Set calculado desde guerraData)\nif(filterSoloSeguimiento){filtered=filtered.filter(item=>estacionesSeguimientoSet.has(item.Nom_Eds));}return filtered;},[historico,filterNombreEstacion,filterSoloGuerra,filterSoloSeguimiento,guerraData,estacionesSeguimientoSet]);const historicoSorted=useMemo(()=>{return[...historicoFiltrado].sort((a,b)=>parseFecha(b.Fecha)-parseFecha(a.Fecha));},[historicoFiltrado]);// Filtrado de ajustes\nconst ajustesFiltrado=useMemo(()=>{let filtered=[...ajustesData];if(filterNombreAjuste.trim()!==''){const searchTerm=filterNombreAjuste.toLowerCase();filtered=filtered.filter(item=>(item.Nom_Eds||'').toLowerCase().includes(searchTerm));}if(filterCombustible.trim()!==''){filtered=filtered.filter(item=>item.combustible===filterCombustible);}return filtered;},[ajustesData,filterNombreAjuste,filterCombustible]);const ajustesSorted=useMemo(()=>{return[...ajustesFiltrado];},[ajustesFiltrado]);const totalPages=Math.max(1,Math.ceil(historicoSorted.length/ITEMS_PER_PAGE));const totalPagesAjustes=Math.max(1,Math.ceil(ajustesSorted.length/ITEMS_PER_PAGE));const historicoPageSlice=historicoSorted.slice((page-1)*ITEMS_PER_PAGE,page*ITEMS_PER_PAGE);const ajustesPageSlice=ajustesSorted.slice((page-1)*ITEMS_PER_PAGE,page*ITEMS_PER_PAGE);const handlePrevPage=()=>setPage(p=>Math.max(p-1,1));const handleNextPage=()=>setPage(p=>Math.min(p+1,activeTab==='ajustes'?totalPagesAjustes:totalPages));// Reset pÃ¡gina al cambiar filtros o tab\nuseEffect(()=>{setPage(1);},[filterNombreEstacion,filterSoloGuerra,filterSoloSeguimiento,filterNombreAjuste,filterCombustible,activeTab]);const combustiblesUnicos=useMemo(()=>{return[...new Set(ajustesData.map(a=>a.combustible))].filter(Boolean);},[ajustesData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"alert-panel\".concat(!isVisible?' hidden':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-panel-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"alert-panel-title\",children:\"\\uD83D\\uDCCA Alertas de Mercado\"}),/*#__PURE__*/_jsx(\"button\",{className:\"alert-panel-close\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='alertas'?'active':''),onClick:()=>setActiveTab('alertas'),children:[\"Alertas Activas (\",cantidadEstaciones,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='historico'?'active':''),onClick:()=>setActiveTab('historico'),children:[\"Hist\\xF3rico Movimiento (\",historicoSorted.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='ajustes'?'active':''),onClick:()=>setActiveTab('ajustes'),children:[\"Ajustes PES (\",ajustesSorted.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"alert-tab \".concat(activeTab==='guerra'?'active':''),onClick:()=>setActiveTab('guerra'),children:[\"En Seguimiento (\",estacionesGuerra.length,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-panel-content\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"alert-loading\",children:\"Cargando...\"}):activeTab==='alertas'?/*#__PURE__*/_jsx(AlertasActivas,{agrupadas:agrupadas}):activeTab==='guerra'?/*#__PURE__*/_jsx(GuerraPreciosPanel,{data:estacionesGuerra}):activeTab==='historico'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HistoricoAlertas,{data:historicoPageSlice,filterNombreEstacion:filterNombreEstacion,setFilterNombreEstacion:setFilterNombreEstacion,filterSoloGuerra:filterSoloGuerra,setFilterSoloGuerra:setFilterSoloGuerra,filterSoloSeguimiento:filterSoloSeguimiento,setFilterSoloSeguimiento:setFilterSoloSeguimiento,estacionesSeguimientoSet:estacionesSeguimientoSet,totalItems:historicoSorted.length,onExpand:()=>setModalExpanded(true)}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,disabled:page===1,children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{style:{margin:'0 10px'},children:[\"P\\xE1gina \",page,\" de \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:page===totalPages,children:\"Siguiente\"})]})]}):activeTab==='ajustes'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AjustesTabla,{data:ajustesPageSlice,filterNombreAjuste:filterNombreAjuste,setFilterNombreAjuste:setFilterNombreAjuste,filterCombustible:filterCombustible,setFilterCombustible:setFilterCombustible,combustiblesUnicos:combustiblesUnicos,totalItems:ajustesSorted.length}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,disabled:page===1,children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{style:{margin:'0 10px'},children:[\"P\\xE1gina \",page,\" de \",totalPagesAjustes]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:page===totalPagesAjustes,children:\"Siguiente\"})]})]}):null})]}),modalExpanded&&/*#__PURE__*/_jsxs(HistoricoExpandedModal,{onClose:()=>setModalExpanded(false),children:[/*#__PURE__*/_jsx(HistoricoAlertas,{data:historicoPageSlice,filterNombreEstacion:filterNombreEstacion,setFilterNombreEstacion:setFilterNombreEstacion,filterSoloGuerra:filterSoloGuerra,setFilterSoloGuerra:setFilterSoloGuerra,filterSoloSeguimiento:filterSoloSeguimiento,setFilterSoloSeguimiento:setFilterSoloSeguimiento,estacionesSeguimientoSet:estacionesSeguimientoSet,totalItems:historicoSorted.length,style:{maxHeight:'none',height:'100%',border:'none',boxShadow:'none'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",style:{borderTop:'1px solid #dee2e6'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,disabled:page===1,children:\"Prev\"}),/*#__PURE__*/_jsxs(\"span\",{style:{margin:'0 10px'},children:[\"P\\xE1gina \",page,\" de \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:page===totalPages,children:\"Siguiente\"})]})]})]});};const AlertasActivas=_ref2=>{let{agrupadas}=_ref2;const estaciones=Object.entries(agrupadas);if(estaciones.length===0)return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"No hay alertas activas\"});return/*#__PURE__*/_jsx(\"div\",{className:\"alerts-list\",children:estaciones.map(_ref3=>{let[station,alerts]=_ref3;const anyWar=alerts.some(a=>a.Guerra_Precio==='Si');const stationAlert=alerts[0];return/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card\".concat(anyWar?' guerra':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-icon\",children:anyWar?'âš¡':'ðŸ”´'}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:station}),/*#__PURE__*/_jsxs(\"span\",{className:\"alert-marca\",children:[stationAlert.marca,\" - \",stationAlert.cod_cne]})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"alert-combs-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Comb.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actual\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Anterior\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dif.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Hora\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:alerts.map((a,i)=>{const dif=(a.Precio||0)-(a.PrecioAnterior||0);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:a.Combustible}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",a.Precio]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",a.PrecioAnterior]}),/*#__PURE__*/_jsxs(\"td\",{className:dif<0?'negative':'positive',children:[dif>0&&\"+\",dif]}),/*#__PURE__*/_jsx(\"td\",{children:a.Horario}),/*#__PURE__*/_jsx(\"td\",{children:a.tipo_atencion})]},i);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',color:'#999',fontSize:'12px'},children:(()=>{// Deduplicate footer lines\nconst uniqueFooters=new Set();const footerContent=[];alerts.forEach(a=>{const text=\"Actual: \".concat(a.Fecha,\", Anterior: \").concat(a.FechaAnterior);const isGuerra=a.Guerra_Precio===\"Si\";const key=\"\".concat(text,\"_\").concat(isGuerra);if(!uniqueFooters.has(key)){uniqueFooters.add(key);footerContent.push({text,isGuerra});}});return footerContent.map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:item.text}),item.isGuerra&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:8,color:\"#e67e22\"},children:\"\\u26A1 GUERRA DE PRECIO\"})]},idx));})()})]},station);})});};const HistoricoExpandedModal=_ref4=>{let{onClose,children}=_ref4;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-expandido-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-expandido-contenido\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-expandido-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Hist\\xF3rico de Movimientos - Vista Ampliada\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-expandido-body\",children:children})]})});};const GuerraPreciosPanel=_ref5=>{let{data}=_ref5;if(!Array.isArray(data)||data.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"No hay estaciones disponibles\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"guerra-list-simple\",children:data.map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"guerra-simple-card\".concat(item.Guerra_Precio==='Si'?' gcard-guerra':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gsc-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-icon\".concat(item.Guerra_Precio==='Si'?' guerra':''),children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-eds\",children:item.Nom_Eds}),/*#__PURE__*/_jsxs(\"span\",{className:\"gsc-pbl\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-pbl-label\",children:\"PBL\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-pbl-value\",children:item.PBL})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gsc-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label\",children:\"CNE:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-value\",children:item.ID_Cne}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label\",children:\"Tipo:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-value\",children:item.Tipo_EDS}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label estado \".concat(item.Activa==='Si'?'activo':'inactivo'),children:item.Activa==='Si'?'Activa':'Inactiva'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gsc-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gsc-label\",children:\"Regi\\xF3n:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"gsc-value\",children:item.region})]})]},idx))});};const HistoricoAlertas=_ref6=>{let{data,filterNombreEstacion,setFilterNombreEstacion,filterSoloGuerra,setFilterSoloGuerra,filterSoloSeguimiento,setFilterSoloSeguimiento,estacionesSeguimientoSet,// â† NUEVO\ntotalItems,onExpand,style}=_ref6;if(!Array.isArray(data))return/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"\\u26A0\\uFE0F Error: Los datos no son un array\"});const hayFiltrosActivos=filterNombreEstacion.trim()!==''||filterSoloGuerra||filterSoloSeguimiento;const limpiarFiltros=()=>{setFilterNombreEstacion('');setFilterSoloGuerra(false);setFilterSoloSeguimiento(false);};const formatFechaCompacta=fechaStr=>{if(!fechaStr)return{dia:'-',hora:''};const[fecha,hora]=fechaStr.split(' ');return{dia:fecha||'-',hora:(hora===null||hora===void 0?void 0:hora.substring(0,5))||''};};return/*#__PURE__*/_jsxs(\"div\",{className:\"historico-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"historico-filtros\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"filter-nombre\",type:\"text\",className:\"input-filtro-hist\",placeholder:\"Buscar estaci\\xF3n...\",value:filterNombreEstacion,onChange:e=>setFilterNombreEstacion(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-filtro-hist\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filterSoloGuerra,onChange:e=>setFilterSoloGuerra(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"EDS en guerra\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-filtro-hist\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filterSoloSeguimiento,onChange:e=>setFilterSoloSeguimiento(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"EDS en seguimiento\"})]}),hayFiltrosActivos&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-limpiar-filtros\",onClick:limpiarFiltros,title:\"Limpiar todos los filtros\",children:\"\\u2715 Limpiar\"}),onExpand&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-expandir-vista\",onClick:onExpand,title:\"Expandir vista\",children:\"\\u26F6 Expandir\"}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#666',fontSize:'13px',fontWeight:600},children:[\"Mostrando \",data.length,\" de \",totalItems]})]}),data.length===0&&hayFiltrosActivos?/*#__PURE__*/_jsx(\"div\",{className:\"sin-resultados-filtro\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sin-resultados-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sin-resultados-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sin-resultados-texto\",children:[\"No se encontraron resultados para la b\\xFAsqueda\",filterNombreEstacion&&/*#__PURE__*/_jsxs(\"strong\",{children:[\" \\\"\",filterNombreEstacion,\"\\\"\"]}),filterSoloGuerra&&/*#__PURE__*/_jsx(\"span\",{children:\" (solo guerra)\"}),filterSoloSeguimiento&&/*#__PURE__*/_jsx(\"span\",{children:\" (solo seguimiento)\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-limpiar-filtros-destacado\",onClick:limpiarFiltros,children:\"Limpiar filtros y ver todos\"})]})}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"\\uD83D\\uDCCB No hay hist\\xF3rico disponible\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"historico-table-compact\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{title:\"Estaci\\xF3n\",children:\"Estaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Marca\",children:\"Marca\"}),/*#__PURE__*/_jsx(\"th\",{title:\"C\\xF3digo CNE\",children:\"CNE\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Combustible\",children:\"Comb\"}),/*#__PURE__*/_jsx(\"th\",{title:\"PBL\",children:\"PBL\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Precio Actual\",children:\"P Actual\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Precio Anterior\",children:\"P Anterior\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Diferencia\",children:\"Ajuste\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Tipo de Atenci\\xF3n\",children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Horario\",children:\"Horario\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Fecha Cambio Actual\",children:\"Fecha Actual\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Fecha Cambio Anterior\",children:\"Fecha Anterior\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Fecha de Carga\",children:\"Fecha Carga\"}),/*#__PURE__*/_jsx(\"th\",{title:\"Marcador Principal\",children:\"Marcador\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((item,idx)=>{var _item$Nom_Eds,_item$cod_cne,_item$Combustible;const precioActual=Number(item.Precio)||0;const precioAnterior=Number(item.PrecioAnterior)||0;const diferencia=precioActual-precioAnterior;const guerra=item.Guerra_Precio==='Si';// const seguimiento = item.Guerra_Precio === 'No'; // ANTERIOR\nconst seguimiento=estacionesSeguimientoSet&&estacionesSeguimientoSet.has(item.Nom_Eds);// NUEVO\nconst marcadorPrincipal=item.Marcador_Principal==='Si';const cambioClass=diferencia>0?'precio-sube':diferencia<0?'precio-baja':'precio-igual';const cambioIcon=diferencia>0?'â†‘':diferencia<0?'â†“':'=';const cambioSigno=diferencia>0?'+':'';const tipoIcon=item.tipo_atencion==='Asistido'?'ðŸ‘¤':item.tipo_atencion==='Autoservicio'?'â›½':'â“';const fechaActual=formatFechaCompacta(item.Fecha);const fechaAnterior=formatFechaCompacta(item.FechaAnterior);const fechaCarga=formatFechaCompacta(item.FechaCarga);return/*#__PURE__*/_jsxs(\"tr\",{className:\"historico-row \".concat(guerra?'guerra-row':'',\" \").concat(seguimiento?'seguimiento-row':'',\" \").concat(marcadorPrincipal?'principal-row':''),children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-estacion\",title:item.Nom_Eds,children:((_item$Nom_Eds=item.Nom_Eds)===null||_item$Nom_Eds===void 0?void 0:_item$Nom_Eds.slice(0,18))||'S/N'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-marca\",children:item.marca||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-cne\",title:item.cod_cne,children:((_item$cod_cne=item.cod_cne)===null||_item$cod_cne===void 0?void 0:_item$cod_cne.slice(-6))||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-combustible\",children:/*#__PURE__*/_jsx(\"span\",{className:\"combustible-badge combustible-\".concat((_item$Combustible=item.Combustible)===null||_item$Combustible===void 0?void 0:_item$Combustible.toLowerCase()),children:item.Combustible||'-'})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-pbl\",children:item.pbl||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-precio\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",precioActual]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"td-anterior\",children:[\"$\",precioAnterior]}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(cambioClass),children:/*#__PURE__*/_jsxs(\"strong\",{children:[cambioIcon,\" \",cambioSigno,diferencia]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-tipo\",title:item.tipo_atencion,children:tipoIcon}),/*#__PURE__*/_jsx(\"td\",{className:\"td-horario\",title:item.Horario,children:/*#__PURE__*/_jsx(\"span\",{className:\"horario-texto\",children:item.Horario||'-'})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaActual.dia}),/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaActual.hora})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaAnterior.dia}),/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaAnterior.hora})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaCarga.dia}),/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaCarga.hora})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-principal\",children:marcadorPrincipal&&/*#__PURE__*/_jsx(\"span\",{className:\"principal-icon\",title:\"Marcador Principal\",children:\"SI\"})})]},idx);})})]})]});};const AjustesTabla=_ref7=>{let{data,filterNombreAjuste,setFilterNombreAjuste,filterCombustible,setFilterCombustible,combustiblesUnicos,totalItems}=_ref7;const[vistaDetallada,setVistaDetallada]=useState(false);const hayFiltrosActivos=filterNombreAjuste.trim()!==''||filterCombustible.trim()!=='';const limpiarFiltros=()=>{setFilterNombreAjuste('');setFilterCombustible('');};const agrupadosPorEstacion=useMemo(()=>{const grupos={};data.forEach(item=>{const key=item.cod_cne||'sin_cne';if(!grupos[key]){grupos[key]={Nom_Eds:item.Nom_Eds,marca:item.marca,cod_cne:item.cod_cne,pbl:item.pbl,combustibles:[]};}grupos[key].combustibles.push(item);});return Object.values(grupos).map(grupo=>{const subgrupos={};grupo.combustibles.forEach(comb=>{const difComp=comb.Diferencia_Competencia||0;const difPropia=comb.Estrategia_Propia||0;const combinedKey=\"\".concat(difComp,\"_\").concat(difPropia);if(!subgrupos[combinedKey]){subgrupos[combinedKey]={diferencia_competencia:difComp,diferencia_propia:difPropia,combustibles:[]};}subgrupos[combinedKey].combustibles.push(comb);});return _objectSpread(_objectSpread({},grupo),{},{subgrupos:Object.values(subgrupos)});});},[data]);const formatFecha=fechaStr=>{if(!fechaStr||fechaStr==='Mantiene Fecha')return{dia:'Mantiene',hora:''};const[datePart,timePart]=fechaStr.split(' ');return{dia:datePart||'-',hora:(timePart===null||timePart===void 0?void 0:timePart.substring(0,5))||''};};return/*#__PURE__*/_jsxs(\"div\",{className:\"historico-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"historico-filtros\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-filtro-hist\",placeholder:\"Buscar estaci\\xF3n...\",value:filterNombreAjuste,onChange:e=>setFilterNombreAjuste(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"input-filtro-hist\",value:filterCombustible,onChange:e=>setFilterCombustible(e.target.value),style:{minWidth:'150px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos los combustibles\"}),combustiblesUnicos.map(comb=>/*#__PURE__*/_jsx(\"option\",{value:comb,children:comb},comb))]}),/*#__PURE__*/_jsxs(\"label\",{className:\"check-filtro-hist\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:vistaDetallada,onChange:e=>setVistaDetallada(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Vista detallada\"})]}),hayFiltrosActivos&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-limpiar-filtros\",onClick:limpiarFiltros,title:\"Limpiar todos los filtros\",children:\"\\u2715 Limpiar\"}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'auto',color:'#666',fontSize:'13px',fontWeight:600},children:[\"Mostrando \",vistaDetallada?data.length:agrupadosPorEstacion.length,\" registros\"]})]}),data.length===0&&hayFiltrosActivos?/*#__PURE__*/_jsx(\"div\",{className:\"sin-resultados-filtro\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sin-resultados-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sin-resultados-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sin-resultados-texto\",children:[\"No se encontraron ajustes para la b\\xFAsqueda\",filterNombreAjuste&&/*#__PURE__*/_jsxs(\"strong\",{children:[\" \\\"\",filterNombreAjuste,\"\\\"\"]}),filterCombustible&&/*#__PURE__*/_jsxs(\"span\",{children:[\" (\",filterCombustible,\")\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-limpiar-filtros-destacado\",onClick:limpiarFiltros,children:\"Limpiar filtros y ver todos\"})]})}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert-empty\",children:\"\\uD83D\\uDCCB No hay datos de ajustes disponibles\"}):vistaDetallada?/*#__PURE__*/_jsxs(\"table\",{className:\"historico-table-compact\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Estaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CNE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Combustible\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PBL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Precio Asistido\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Precio Autoservicio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dif. Competencia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estrategia Propia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cambio Precio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha Autoservicio\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((item,idx)=>{var _item$combustible;const difComp=item.Diferencia_Competencia||0;const difPropia=item.Estrategia_Propia||0;const fechaAuto=formatFecha(item.fecha_autoservicio);const precioAsistido=item.precio_asistido||0;const precioAutoservicio=item.precio_autoservicio||0;const cambioPrecio=item.cambio_precio||'Mantiene Diferencia';return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-estacion\",title:item.Nom_Eds,children:item.Nom_Eds||'S/N'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-marca\",children:item.marca||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-cne\",title:item.cod_cne,children:item.cod_cne||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-combustible\",children:/*#__PURE__*/_jsx(\"span\",{className:\"combustible-badge combustible-\".concat((_item$combustible=item.combustible)===null||_item$combustible===void 0?void 0:_item$combustible.toLowerCase()),children:item.combustible||'-'})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-pbl\",children:item.pbl||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-precio\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",precioAsistido]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-precio\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",precioAutoservicio]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(difComp>0?'precio-sube':difComp<0?'precio-baja':'precio-igual'),children:/*#__PURE__*/_jsxs(\"strong\",{children:[difComp>0?'â†‘ +':difComp<0?'â†“ ':'',difComp]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(difPropia>0?'precio-sube':difPropia<0?'precio-baja':'precio-igual'),children:/*#__PURE__*/_jsxs(\"strong\",{children:[difPropia>0?'â†‘ +':difPropia<0?'â†“ ':'',difPropia]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-cambio-precio\",style:{fontSize:'11px'},children:cambioPrecio}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaAuto.dia}),fechaAuto.hora&&/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaAuto.hora})]})})]},idx);})})]}):/*#__PURE__*/_jsxs(\"table\",{className:\"historico-table-compact ajustes-simplified\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Estaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CNE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PBL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Combustibles\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dif. Competencia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dif. Estrategia\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha Vigencia\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:agrupadosPorEstacion.map((grupo,idx)=>{return grupo.subgrupos.map((subgrupo,subIdx)=>{var _subgrupo$combustible,_grupo$Nom_Eds,_grupo$cod_cne;const fechaVig=formatFecha((_subgrupo$combustible=subgrupo.combustibles[0])===null||_subgrupo$combustible===void 0?void 0:_subgrupo$combustible.FechaVigenciaSugerida);const difComp=subgrupo.diferencia_competencia;const difPropia=subgrupo.diferencia_propia;return/*#__PURE__*/_jsxs(\"tr\",{children:[subIdx===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-estacion\",rowSpan:grupo.subgrupos.length,title:grupo.Nom_Eds,children:((_grupo$Nom_Eds=grupo.Nom_Eds)===null||_grupo$Nom_Eds===void 0?void 0:_grupo$Nom_Eds.slice(0,18))||'S/N'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-marca\",rowSpan:grupo.subgrupos.length,children:grupo.marca||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-cne\",rowSpan:grupo.subgrupos.length,title:grupo.cod_cne,children:((_grupo$cod_cne=grupo.cod_cne)===null||_grupo$cod_cne===void 0?void 0:_grupo$cod_cne.slice(-6))||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"td-pbl\",rowSpan:grupo.subgrupos.length,children:grupo.pbl||'-'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"td-combustibles\",children:subgrupo.combustibles.map((c,i)=>{var _c$combustible;return/*#__PURE__*/_jsx(\"span\",{className:\"combustible-badge combustible-\".concat((_c$combustible=c.combustible)===null||_c$combustible===void 0?void 0:_c$combustible.toLowerCase()),style:{marginRight:'4px'},children:c.combustible},i);})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(difComp>0?'precio-sube':difComp<0?'precio-baja':'precio-igual'),children:/*#__PURE__*/_jsxs(\"strong\",{children:[difComp>0?'â†‘':difComp<0?'â†“':'=',\" \",difComp>0?'+':'',difComp]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-diferencia \".concat(difPropia>0?'precio-sube':difPropia<0?'precio-baja':'precio-igual'),children:/*#__PURE__*/_jsxs(\"strong\",{children:[difPropia>0?'â†‘':difPropia<0?'â†“':'=',\" \",difPropia>0?'+':'',difPropia]})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-fecha\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fecha-compacta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fecha-dia\",children:fechaVig.dia}),fechaVig.hora&&/*#__PURE__*/_jsx(\"span\",{className:\"fecha-hora\",children:fechaVig.hora})]})})]},\"\".concat(idx,\"-\").concat(subIdx));});})})]})]});};export default AlertPanel;","map":{"version":3,"names":["React","useState","useEffect","useMemo","getMercadoAlerta","getHistoricoAlerta","getDataBaseguerra","getDataBaseajuste","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","groupAlertsByStation","alerts","grouped","forEach","alert","key","Nom_Eds","push","getStationCount","estaciones","a","Object","keys","length","parseFecha","fechaStr","Date","parts","trim","split","datePart","timePart","dateParts","day","month","year","map","Number","hours","minutes","isNaN","ITEMS_PER_PAGE","AlertPanel","_ref","isVisible","onClose","alertasExternas","activeTab","setActiveTab","alertas","setAlertas","historico","setHistorico","guerraData","setGuerraData","ajustesData","setAjustesData","loading","setLoading","page","setPage","modalExpanded","setModalExpanded","filterNombreEstacion","setFilterNombreEstacion","filterSoloGuerra","setFilterSoloGuerra","filterSoloSeguimiento","setFilterSoloSeguimiento","filterNombreAjuste","setFilterNombreAjuste","filterCombustible","setFilterCombustible","loadData","alertasData","historicoData","guerraDataResult","ajustesDataResult","Promise","all","Array","isArray","guerraArr","data","ajustesArr","_unused","agrupadas","cantidadEstaciones","estacionesGuerra","filter","item","Activa","sort","b","Guerra_Precio","localeCompare","estacionesSeguimientoSet","Set","g","historicoFiltrado","filtered","searchTerm","toLowerCase","includes","estacionesEnGuerra","has","historicoSorted","Fecha","ajustesFiltrado","combustible","ajustesSorted","totalPages","Math","max","ceil","totalPagesAjustes","historicoPageSlice","slice","ajustesPageSlice","handlePrevPage","p","handleNextPage","min","combustiblesUnicos","Boolean","children","className","concat","onClick","AlertasActivas","GuerraPreciosPanel","HistoricoAlertas","totalItems","onExpand","disabled","style","margin","AjustesTabla","HistoricoExpandedModal","maxHeight","height","border","boxShadow","borderTop","_ref2","entries","_ref3","station","anyWar","some","stationAlert","marca","cod_cne","i","dif","Precio","PrecioAnterior","Combustible","Horario","tipo_atencion","marginTop","color","fontSize","uniqueFooters","footerContent","text","FechaAnterior","isGuerra","add","idx","marginLeft","_ref4","e","stopPropagation","_ref5","PBL","ID_Cne","Tipo_EDS","region","_ref6","hayFiltrosActivos","limpiarFiltros","formatFechaCompacta","dia","hora","fecha","substring","id","type","placeholder","value","onChange","target","checked","title","fontWeight","_item$Nom_Eds","_item$cod_cne","_item$Combustible","precioActual","precioAnterior","diferencia","guerra","seguimiento","marcadorPrincipal","Marcador_Principal","cambioClass","cambioIcon","cambioSigno","tipoIcon","fechaActual","fechaAnterior","fechaCarga","FechaCarga","pbl","_ref7","vistaDetallada","setVistaDetallada","agrupadosPorEstacion","grupos","combustibles","values","grupo","subgrupos","comb","difComp","Diferencia_Competencia","difPropia","Estrategia_Propia","combinedKey","diferencia_competencia","diferencia_propia","_objectSpread","formatFecha","minWidth","_item$combustible","fechaAuto","fecha_autoservicio","precioAsistido","precio_asistido","precioAutoservicio","precio_autoservicio","cambioPrecio","cambio_precio","subgrupo","subIdx","_subgrupo$combustible","_grupo$Nom_Eds","_grupo$cod_cne","fechaVig","FechaVigenciaSugerida","rowSpan","c","_c$combustible","marginRight"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/AlertPanel.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { getMercadoAlerta, getHistoricoAlerta, getDataBaseguerra, getDataBaseajuste } from '../services/apiService';\r\nimport '../styles/AlertPanel.css';\r\n\r\n// Agrupar alertas por estaciÃ³n\r\nfunction groupAlertsByStation(alerts) {\r\n  const grouped = {};\r\n  alerts.forEach(alert => {\r\n    const key = alert.Nom_Eds || 'Sin nombre';\r\n    if (!grouped[key]) grouped[key] = [];\r\n    grouped[key].push(alert);\r\n  });\r\n  return grouped;\r\n}\r\n\r\n// CONTADOR CORRECTO DE ESTACIONES ÃšNICAS\r\nfunction getStationCount(alerts) {\r\n  const estaciones = {};\r\n  alerts.forEach(a => estaciones[a.Nom_Eds || 'Sin nombre'] = true);\r\n  return Object.keys(estaciones).length;\r\n}\r\n\r\n// FunciÃ³n para parsear fechas en formato \"DD-MM-YYYY HH:mm\"\r\nfunction parseFecha(fechaStr) {\r\n  if (!fechaStr || typeof fechaStr !== 'string') {\r\n    return new Date();\r\n  }\r\n  const parts = fechaStr.trim().split(' ');\r\n  const datePart = parts[0];\r\n  const timePart = parts[1];\r\n\r\n  if (!datePart) return new Date();\r\n\r\n  const dateParts = datePart.split('-');\r\n  if (dateParts.length !== 3) return new Date();\r\n\r\n  const [day, month, year] = dateParts.map(Number);\r\n  const [hours, minutes] = timePart ? timePart.split(':').map(Number) : [0, 0];\r\n\r\n  if (isNaN(day) || isNaN(month) || isNaN(year)) return new Date();\r\n\r\n  return new Date(year, month - 1, day, hours || 0, minutes || 0);\r\n}\r\n\r\nconst ITEMS_PER_PAGE = 50;\r\n\r\nconst AlertPanel = ({ isVisible, onClose, alertasExternas }) => {\r\n  const [activeTab, setActiveTab] = useState('alertas');\r\n  const [alertas, setAlertas] = useState([]);\r\n  const [historico, setHistorico] = useState([]);\r\n  const [guerraData, setGuerraData] = useState([]);\r\n  const [ajustesData, setAjustesData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [modalExpanded, setModalExpanded] = useState(false); // â† NUEVO\r\n\r\n  // Estados para filtros histÃ³rico\r\n  const [filterNombreEstacion, setFilterNombreEstacion] = useState('');\r\n  const [filterSoloGuerra, setFilterSoloGuerra] = useState(false);\r\n  const [filterSoloSeguimiento, setFilterSoloSeguimiento] = useState(false); // â† NUEVO\r\n\r\n  // Estados para filtros ajustes\r\n  const [filterNombreAjuste, setFilterNombreAjuste] = useState('');\r\n  const [filterCombustible, setFilterCombustible] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (alertasExternas) {\r\n      setAlertas(alertasExternas);\r\n      setLoading(false);\r\n    } else if (isVisible) {\r\n      loadData();\r\n    }\r\n  }, [isVisible, alertasExternas]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [alertasData, historicoData, guerraDataResult, ajustesDataResult] = await Promise.all([\r\n        getMercadoAlerta(),\r\n        getHistoricoAlerta(),\r\n        getDataBaseguerra(),\r\n        getDataBaseajuste()\r\n      ]);\r\n\r\n      setAlertas(Array.isArray(alertasData) ? alertasData : []);\r\n      setHistorico(Array.isArray(historicoData) ? historicoData : []);\r\n\r\n      const guerraArr =\r\n        Array.isArray(guerraDataResult) ? guerraDataResult :\r\n          Array.isArray(guerraDataResult?.data) ? guerraDataResult.data : [];\r\n      setGuerraData(guerraArr);\r\n\r\n      const ajustesArr =\r\n        Array.isArray(ajustesDataResult) ? ajustesDataResult :\r\n          Array.isArray(ajustesDataResult?.data) ? ajustesDataResult.data : [];\r\n      setAjustesData(ajustesArr);\r\n\r\n    } catch {\r\n      setAlertas([]);\r\n      setHistorico([]);\r\n      setGuerraData([]);\r\n      setAjustesData([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const agrupadas = useMemo(() => groupAlertsByStation(alertas), [alertas]);\r\n  const cantidadEstaciones = useMemo(() => getStationCount(alertas), [alertas]);\r\n\r\n  const estacionesGuerra = useMemo(() => {\r\n    if (!Array.isArray(guerraData)) return [];\r\n\r\n    return guerraData\r\n      .filter(item => item.Activa === 'Si')\r\n      .sort((a, b) => {\r\n        if (a.Guerra_Precio === 'Si' && b.Guerra_Precio !== 'Si') return -1;\r\n        if (a.Guerra_Precio !== 'Si' && b.Guerra_Precio === 'Si') return 1;\r\n        return (a.Nom_Eds || '').localeCompare(b.Nom_Eds || '');\r\n      });\r\n  }, [guerraData]);\r\n\r\n  // Filtrado del histÃ³rico\r\n  // Conjunto de estaciones en seguimiento (Guerra_Precio === 'No')\r\n  const estacionesSeguimientoSet = useMemo(() => {\r\n    return new Set(\r\n      guerraData\r\n        .filter(g => g.Guerra_Precio === 'No')\r\n        .map(g => g.Nom_Eds)\r\n    );\r\n  }, [guerraData]);\r\n\r\n  const historicoFiltrado = useMemo(() => {\r\n    let filtered = [...historico];\r\n\r\n    if (filterNombreEstacion.trim() !== '') {\r\n      const searchTerm = filterNombreEstacion.toLowerCase();\r\n      filtered = filtered.filter(item =>\r\n        (item.Nom_Eds || '').toLowerCase().includes(searchTerm)\r\n      );\r\n    }\r\n\r\n    if (filterSoloGuerra) {\r\n      const estacionesEnGuerra = new Set(\r\n        guerraData\r\n          .filter(g => g.Guerra_Precio === 'Si')\r\n          .map(g => g.Nom_Eds)\r\n      );\r\n      filtered = filtered.filter(item => estacionesEnGuerra.has(item.Nom_Eds));\r\n    }\r\n\r\n    // Nuevo filtro: Solo En Seguimiento (usando el Set calculado desde guerraData)\r\n    if (filterSoloSeguimiento) {\r\n      filtered = filtered.filter(item => estacionesSeguimientoSet.has(item.Nom_Eds));\r\n    }\r\n\r\n    return filtered;\r\n  }, [historico, filterNombreEstacion, filterSoloGuerra, filterSoloSeguimiento, guerraData, estacionesSeguimientoSet]);\r\n\r\n  const historicoSorted = useMemo(() => {\r\n    return [...historicoFiltrado].sort((a, b) => parseFecha(b.Fecha) - parseFecha(a.Fecha));\r\n  }, [historicoFiltrado]);\r\n\r\n  // Filtrado de ajustes\r\n  const ajustesFiltrado = useMemo(() => {\r\n    let filtered = [...ajustesData];\r\n\r\n    if (filterNombreAjuste.trim() !== '') {\r\n      const searchTerm = filterNombreAjuste.toLowerCase();\r\n      filtered = filtered.filter(item =>\r\n        (item.Nom_Eds || '').toLowerCase().includes(searchTerm)\r\n      );\r\n    }\r\n\r\n    if (filterCombustible.trim() !== '') {\r\n      filtered = filtered.filter(item =>\r\n        item.combustible === filterCombustible\r\n      );\r\n    }\r\n\r\n    return filtered;\r\n  }, [ajustesData, filterNombreAjuste, filterCombustible]);\r\n\r\n  const ajustesSorted = useMemo(() => {\r\n    return [...ajustesFiltrado];\r\n  }, [ajustesFiltrado]);\r\n\r\n  const totalPages = Math.max(1, Math.ceil(historicoSorted.length / ITEMS_PER_PAGE));\r\n  const totalPagesAjustes = Math.max(1, Math.ceil(ajustesSorted.length / ITEMS_PER_PAGE));\r\n\r\n  const historicoPageSlice = historicoSorted.slice((page - 1) * ITEMS_PER_PAGE, page * ITEMS_PER_PAGE);\r\n  const ajustesPageSlice = ajustesSorted.slice((page - 1) * ITEMS_PER_PAGE, page * ITEMS_PER_PAGE);\r\n\r\n  const handlePrevPage = () => setPage(p => Math.max(p - 1, 1));\r\n  const handleNextPage = () => setPage(p => Math.min(p + 1, activeTab === 'ajustes' ? totalPagesAjustes : totalPages));\r\n\r\n  // Reset pÃ¡gina al cambiar filtros o tab\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [filterNombreEstacion, filterSoloGuerra, filterSoloSeguimiento, filterNombreAjuste, filterCombustible, activeTab]);\r\n\r\n  const combustiblesUnicos = useMemo(() => {\r\n    return [...new Set(ajustesData.map(a => a.combustible))].filter(Boolean);\r\n  }, [ajustesData]);\r\n\r\n  return (\r\n    <>\r\n      <aside className={`alert-panel${!isVisible ? ' hidden' : ''}`}>\r\n        <div className=\"alert-panel-header\">\r\n          <h3 className=\"alert-panel-title\">ðŸ“Š Alertas de Mercado</h3>\r\n          <button className=\"alert-panel-close\" onClick={onClose}>âœ•</button>\r\n        </div>\r\n        <div className=\"alert-tabs\">\r\n          <button\r\n            className={`alert-tab ${activeTab === 'alertas' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('alertas')}\r\n          >\r\n            Alertas Activas ({cantidadEstaciones})\r\n          </button>\r\n\r\n          <button\r\n            className={`alert-tab ${activeTab === 'historico' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('historico')}\r\n          >\r\n            HistÃ³rico Movimiento ({historicoSorted.length})\r\n          </button>\r\n          <button\r\n            className={`alert-tab ${activeTab === 'ajustes' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('ajustes')}\r\n          >\r\n            Ajustes PES ({ajustesSorted.length})\r\n          </button>\r\n          <button\r\n            className={`alert-tab ${activeTab === 'guerra' ? 'active' : ''}`}\r\n            onClick={() => setActiveTab('guerra')}\r\n          >\r\n            En Seguimiento ({estacionesGuerra.length})\r\n          </button>\r\n        </div>\r\n        <div className=\"alert-panel-content\">\r\n          {loading ? (\r\n            <div className=\"alert-loading\">Cargando...</div>\r\n          ) : activeTab === 'alertas' ? (\r\n            <AlertasActivas agrupadas={agrupadas} />\r\n          ) : activeTab === 'guerra' ? (\r\n            <GuerraPreciosPanel data={estacionesGuerra} />\r\n          ) : activeTab === 'historico' ? (\r\n            <>\r\n              <HistoricoAlertas\r\n                data={historicoPageSlice}\r\n                filterNombreEstacion={filterNombreEstacion}\r\n                setFilterNombreEstacion={setFilterNombreEstacion}\r\n                filterSoloGuerra={filterSoloGuerra}\r\n                setFilterSoloGuerra={setFilterSoloGuerra}\r\n                filterSoloSeguimiento={filterSoloSeguimiento}\r\n                setFilterSoloSeguimiento={setFilterSoloSeguimiento}\r\n                estacionesSeguimientoSet={estacionesSeguimientoSet}\r\n                totalItems={historicoSorted.length}\r\n                onExpand={() => setModalExpanded(true)}\r\n              />\r\n              <div className=\"pagination-controls\">\r\n                <button onClick={handlePrevPage} disabled={page === 1}>Prev</button>\r\n                <span style={{ margin: '0 10px' }}>PÃ¡gina {page} de {totalPages}</span>\r\n                <button onClick={handleNextPage} disabled={page === totalPages}>Siguiente</button>\r\n              </div>\r\n            </>\r\n          ) : activeTab === 'ajustes' ? (\r\n            <>\r\n              <AjustesTabla\r\n                data={ajustesPageSlice}\r\n                filterNombreAjuste={filterNombreAjuste}\r\n                setFilterNombreAjuste={setFilterNombreAjuste}\r\n                filterCombustible={filterCombustible}\r\n                setFilterCombustible={setFilterCombustible}\r\n                combustiblesUnicos={combustiblesUnicos}\r\n                totalItems={ajustesSorted.length}\r\n              />\r\n              <div className=\"pagination-controls\">\r\n                <button onClick={handlePrevPage} disabled={page === 1}>Prev</button>\r\n                <span style={{ margin: '0 10px' }}>PÃ¡gina {page} de {totalPagesAjustes}</span>\r\n                <button onClick={handleNextPage} disabled={page === totalPagesAjustes}>Siguiente</button>\r\n              </div>\r\n            </>\r\n          ) : null}\r\n        </div>\r\n      </aside>\r\n\r\n      {modalExpanded && (\r\n        <HistoricoExpandedModal onClose={() => setModalExpanded(false)}>\r\n          <HistoricoAlertas\r\n            data={historicoPageSlice}\r\n            filterNombreEstacion={filterNombreEstacion}\r\n            setFilterNombreEstacion={setFilterNombreEstacion}\r\n            filterSoloGuerra={filterSoloGuerra}\r\n            setFilterSoloGuerra={setFilterSoloGuerra}\r\n            filterSoloSeguimiento={filterSoloSeguimiento}\r\n            setFilterSoloSeguimiento={setFilterSoloSeguimiento}\r\n            estacionesSeguimientoSet={estacionesSeguimientoSet}\r\n            totalItems={historicoSorted.length}\r\n            style={{ maxHeight: 'none', height: '100%', border: 'none', boxShadow: 'none' }}\r\n          />\r\n          <div className=\"pagination-controls\" style={{ borderTop: '1px solid #dee2e6' }}>\r\n            <button onClick={handlePrevPage} disabled={page === 1}>Prev</button>\r\n            <span style={{ margin: '0 10px' }}>PÃ¡gina {page} de {totalPages}</span>\r\n            <button onClick={handleNextPage} disabled={page === totalPages}>Siguiente</button>\r\n          </div>\r\n        </HistoricoExpandedModal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst AlertasActivas = ({ agrupadas }) => {\r\n  const estaciones = Object.entries(agrupadas);\r\n  if (estaciones.length === 0) return <div className=\"alert-empty\">No hay alertas activas</div>;\r\n\r\n  return (\r\n    <div className=\"alerts-list\">\r\n      {estaciones.map(([station, alerts]) => {\r\n        const anyWar = alerts.some(a => a.Guerra_Precio === 'Si');\r\n        const stationAlert = alerts[0];\r\n        return (\r\n          <div key={station} className={`alert-card${anyWar ? ' guerra' : ''}`}>\r\n            <div className=\"alert-card-header\">\r\n              <span className=\"alert-icon\">{anyWar ? 'âš¡' : 'ðŸ”´'}</span>\r\n              <div className=\"alert-card-info\">\r\n                <strong>{station}</strong>\r\n                <span className=\"alert-marca\">{stationAlert.marca} - {stationAlert.cod_cne}</span>\r\n              </div>\r\n            </div>\r\n            <table className=\"alert-combs-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Comb.</th>\r\n                  <th>Actual</th>\r\n                  <th>Anterior</th>\r\n                  <th>Dif.</th>\r\n                  <th>Hora</th>\r\n                  <th>Tipo</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {alerts.map((a, i) => {\r\n                  const dif = (a.Precio || 0) - (a.PrecioAnterior || 0);\r\n                  return (\r\n                    <tr key={i}>\r\n                      <td>{a.Combustible}</td>\r\n                      <td>${a.Precio}</td>\r\n                      <td>${a.PrecioAnterior}</td>\r\n                      <td className={dif < 0 ? 'negative' : 'positive'}>\r\n                        {dif > 0 && \"+\"}{dif}\r\n                      </td>\r\n                      <td>{a.Horario}</td>\r\n                      <td>{a.tipo_atencion}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n            <div style={{ marginTop: '8px', color: '#999', fontSize: '12px' }}>\r\n              {(() => {\r\n                // Deduplicate footer lines\r\n                const uniqueFooters = new Set();\r\n                const footerContent = [];\r\n\r\n                alerts.forEach(a => {\r\n                  const text = `Actual: ${a.Fecha}, Anterior: ${a.FechaAnterior}`;\r\n                  const isGuerra = a.Guerra_Precio === \"Si\";\r\n                  const key = `${text}_${isGuerra}`;\r\n\r\n                  if (!uniqueFooters.has(key)) {\r\n                    uniqueFooters.add(key);\r\n                    footerContent.push({ text, isGuerra });\r\n                  }\r\n                });\r\n\r\n                return footerContent.map((item, idx) => (\r\n                  <div key={idx}>\r\n                    <span>{item.text}</span>\r\n                    {item.isGuerra && <span style={{ marginLeft: 8, color: \"#e67e22\" }}>âš¡ GUERRA DE PRECIO</span>}\r\n                  </div>\r\n                ));\r\n              })()}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div >\r\n  );\r\n};\r\n\r\nconst HistoricoExpandedModal = ({ onClose, children }) => {\r\n  return (\r\n    <div className=\"modal-expandido-overlay\" onClick={onClose}>\r\n      <div className=\"modal-expandido-contenido\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"modal-expandido-header\">\r\n          <h2>HistÃ³rico de Movimientos - Vista Ampliada</h2>\r\n          <button className=\"modal-close-btn\" onClick={onClose}>âœ•</button>\r\n        </div>\r\n        <div className=\"modal-expandido-body\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GuerraPreciosPanel = ({ data }) => {\r\n  if (!Array.isArray(data) || data.length === 0) {\r\n    return <div className=\"alert-empty\">No hay estaciones disponibles</div>;\r\n  }\r\n  return (\r\n    <div className=\"guerra-list-simple\">\r\n      {data.map((item, idx) => (\r\n        <div className={`guerra-simple-card${item.Guerra_Precio === 'Si' ? ' gcard-guerra' : ''}`} key={idx}>\r\n          <div className=\"gsc-header\">\r\n            <span className={`gsc-icon${item.Guerra_Precio === 'Si' ? ' guerra' : ''}`}>âš¡</span>\r\n            <span className=\"gsc-eds\">{item.Nom_Eds}</span>\r\n            <span className=\"gsc-pbl\">\r\n              <span className=\"gsc-pbl-label\">PBL</span>\r\n              <span className=\"gsc-pbl-value\">{item.PBL}</span>\r\n            </span>\r\n          </div>\r\n          <div className=\"gsc-row\">\r\n            <span className=\"gsc-label\">CNE:</span>\r\n            <span className=\"gsc-value\">{item.ID_Cne}</span>\r\n            <span className=\"gsc-label\">Tipo:</span>\r\n            <span className=\"gsc-value\">{item.Tipo_EDS}</span>\r\n            <span className={`gsc-label estado ${item.Activa === 'Si' ? 'activo' : 'inactivo'}`}>\r\n              {item.Activa === 'Si' ? 'Activa' : 'Inactiva'}\r\n            </span>\r\n          </div>\r\n          <div className=\"gsc-row\">\r\n            <span className=\"gsc-label\">RegiÃ³n:</span>\r\n            <span className=\"gsc-value\">{item.region}</span>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HistoricoAlertas = ({\r\n  data,\r\n  filterNombreEstacion,\r\n  setFilterNombreEstacion,\r\n  filterSoloGuerra,\r\n  setFilterSoloGuerra,\r\n  filterSoloSeguimiento,\r\n  setFilterSoloSeguimiento,\r\n  estacionesSeguimientoSet, // â† NUEVO\r\n  totalItems,\r\n  onExpand,\r\n  style\r\n}) => {\r\n  if (!Array.isArray(data)) return <div className=\"alert-empty\">âš ï¸ Error: Los datos no son un array</div>;\r\n\r\n  const hayFiltrosActivos = filterNombreEstacion.trim() !== '' || filterSoloGuerra || filterSoloSeguimiento;\r\n\r\n  const limpiarFiltros = () => {\r\n    setFilterNombreEstacion('');\r\n    setFilterSoloGuerra(false);\r\n    setFilterSoloSeguimiento(false);\r\n  };\r\n\r\n  const formatFechaCompacta = (fechaStr) => {\r\n    if (!fechaStr) return { dia: '-', hora: '' };\r\n    const [fecha, hora] = fechaStr.split(' ');\r\n    return {\r\n      dia: fecha || '-',\r\n      hora: hora?.substring(0, 5) || ''\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"historico-wrapper\">\r\n      <div className=\"historico-filtros\">\r\n        <input\r\n          id=\"filter-nombre\"\r\n          type=\"text\"\r\n          className=\"input-filtro-hist\"\r\n          placeholder=\"Buscar estaciÃ³n...\"\r\n          value={filterNombreEstacion}\r\n          onChange={(e) => setFilterNombreEstacion(e.target.value)}\r\n        />\r\n        <label className=\"check-filtro-hist\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={filterSoloGuerra}\r\n            onChange={(e) => setFilterSoloGuerra(e.target.checked)}\r\n          />\r\n          <span>EDS en guerra</span>\r\n        </label>\r\n\r\n        <label className=\"check-filtro-hist\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={filterSoloSeguimiento}\r\n            onChange={(e) => setFilterSoloSeguimiento(e.target.checked)}\r\n          />\r\n          <span>EDS en seguimiento</span>\r\n        </label>\r\n\r\n        {hayFiltrosActivos && (\r\n          <button\r\n            className=\"btn-limpiar-filtros\"\r\n            onClick={limpiarFiltros}\r\n            title=\"Limpiar todos los filtros\"\r\n          >\r\n            âœ• Limpiar\r\n          </button>\r\n        )}\r\n\r\n        {/* BOTÃ“N EXPANDIR */}\r\n        {onExpand && (\r\n          <button\r\n            className=\"btn-expandir-vista\"\r\n            onClick={onExpand}\r\n            title=\"Expandir vista\"\r\n          >\r\n            â›¶ Expandir\r\n          </button>\r\n        )}\r\n\r\n        <span style={{ marginLeft: 'auto', color: '#666', fontSize: '13px', fontWeight: 600 }}>\r\n          Mostrando {data.length} de {totalItems}\r\n        </span>\r\n      </div>\r\n\r\n      {data.length === 0 && hayFiltrosActivos ? (\r\n        <div className=\"sin-resultados-filtro\">\r\n          <div className=\"sin-resultados-content\">\r\n            <span className=\"sin-resultados-icon\">ðŸ”</span>\r\n            <p className=\"sin-resultados-texto\">\r\n              No se encontraron resultados para la bÃºsqueda\r\n              {filterNombreEstacion && <strong> \"{filterNombreEstacion}\"</strong>}\r\n              {filterSoloGuerra && <span> (solo guerra)</span>}\r\n              {filterSoloSeguimiento && <span> (solo seguimiento)</span>}\r\n            </p>\r\n            <button\r\n              className=\"btn-limpiar-filtros-destacado\"\r\n              onClick={limpiarFiltros}\r\n            >\r\n              Limpiar filtros y ver todos\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : data.length === 0 ? (\r\n        <div className=\"alert-empty\">ðŸ“‹ No hay histÃ³rico disponible</div>\r\n      ) : (\r\n        <table className=\"historico-table-compact\">\r\n          <thead>\r\n            <tr>\r\n              <th title=\"EstaciÃ³n\">EstaciÃ³n</th>\r\n              <th title=\"Marca\">Marca</th>\r\n              <th title=\"CÃ³digo CNE\">CNE</th>\r\n              <th title=\"Combustible\">Comb</th>\r\n              <th title=\"PBL\">PBL</th>\r\n              <th title=\"Precio Actual\">P Actual</th>\r\n              <th title=\"Precio Anterior\">P Anterior</th>\r\n              <th title=\"Diferencia\">Ajuste</th>\r\n              <th title=\"Tipo de AtenciÃ³n\">Tipo</th>\r\n              <th title=\"Horario\">Horario</th>\r\n              <th title=\"Fecha Cambio Actual\">Fecha Actual</th>\r\n              <th title=\"Fecha Cambio Anterior\">Fecha Anterior</th>\r\n              <th title=\"Fecha de Carga\">Fecha Carga</th>\r\n              <th title=\"Marcador Principal\">Marcador</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((item, idx) => {\r\n              const precioActual = Number(item.Precio) || 0;\r\n              const precioAnterior = Number(item.PrecioAnterior) || 0;\r\n              const diferencia = precioActual - precioAnterior;\r\n              const guerra = item.Guerra_Precio === 'Si';\r\n              // const seguimiento = item.Guerra_Precio === 'No'; // ANTERIOR\r\n              const seguimiento = estacionesSeguimientoSet && estacionesSeguimientoSet.has(item.Nom_Eds); // NUEVO\r\n              const marcadorPrincipal = item.Marcador_Principal === 'Si';\r\n\r\n              const cambioClass = diferencia > 0 ? 'precio-sube' : diferencia < 0 ? 'precio-baja' : 'precio-igual';\r\n              const cambioIcon = diferencia > 0 ? 'â†‘' : diferencia < 0 ? 'â†“' : '=';\r\n              const cambioSigno = diferencia > 0 ? '+' : '';\r\n\r\n              const tipoIcon = item.tipo_atencion === 'Asistido' ? 'ðŸ‘¤' : item.tipo_atencion === 'Autoservicio' ? 'â›½' : 'â“';\r\n\r\n              const fechaActual = formatFechaCompacta(item.Fecha);\r\n              const fechaAnterior = formatFechaCompacta(item.FechaAnterior);\r\n              const fechaCarga = formatFechaCompacta(item.FechaCarga);\r\n\r\n              return (\r\n                <tr\r\n                  key={idx}\r\n                  className={`historico-row ${guerra ? 'guerra-row' : ''} ${seguimiento ? 'seguimiento-row' : ''} ${marcadorPrincipal ? 'principal-row' : ''}`}\r\n                >\r\n                  <td className=\"td-estacion\" title={item.Nom_Eds}>\r\n                    {item.Nom_Eds?.slice(0, 18) || 'S/N'}\r\n                  </td>\r\n                  <td className=\"td-marca\">{item.marca || '-'}</td>\r\n                  <td className=\"td-cne\" title={item.cod_cne}>{item.cod_cne?.slice(-6) || '-'}</td>\r\n                  <td className=\"td-combustible\">\r\n                    <span className={`combustible-badge combustible-${item.Combustible?.toLowerCase()}`}>\r\n                      {item.Combustible || '-'}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"td-pbl\">{item.pbl || '-'}</td>\r\n                  <td className=\"td-precio\"><strong>${precioActual}</strong></td>\r\n                  <td className=\"td-anterior\">${precioAnterior}</td>\r\n                  <td className={`td-diferencia ${cambioClass}`}>\r\n                    <strong>{cambioIcon} {cambioSigno}{diferencia}</strong>\r\n                  </td>\r\n                  <td className=\"td-tipo\" title={item.tipo_atencion}>{tipoIcon}</td>\r\n                  <td className=\"td-horario\" title={item.Horario}>\r\n                    <span className=\"horario-texto\">{item.Horario || '-'}</span>\r\n                  </td>\r\n                  <td className=\"td-fecha\">\r\n                    <div className=\"fecha-compacta\">\r\n                      <span className=\"fecha-dia\">{fechaActual.dia}</span>\r\n                      <span className=\"fecha-hora\">{fechaActual.hora}</span>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"td-fecha\">\r\n                    <div className=\"fecha-compacta\">\r\n                      <span className=\"fecha-dia\">{fechaAnterior.dia}</span>\r\n                      <span className=\"fecha-hora\">{fechaAnterior.hora}</span>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"td-fecha\">\r\n                    <div className=\"fecha-compacta\">\r\n                      <span className=\"fecha-dia\">{fechaCarga.dia}</span>\r\n                      <span className=\"fecha-hora\">{fechaCarga.hora}</span>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"td-principal\">\r\n                    {marcadorPrincipal && <span className=\"principal-icon\" title=\"Marcador Principal\">SI</span>}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AjustesTabla = ({\r\n  data,\r\n  filterNombreAjuste,\r\n  setFilterNombreAjuste,\r\n  filterCombustible,\r\n  setFilterCombustible,\r\n  combustiblesUnicos,\r\n  totalItems\r\n}) => {\r\n  const [vistaDetallada, setVistaDetallada] = useState(false);\r\n\r\n  const hayFiltrosActivos = filterNombreAjuste.trim() !== '' || filterCombustible.trim() !== '';\r\n\r\n  const limpiarFiltros = () => {\r\n    setFilterNombreAjuste('');\r\n    setFilterCombustible('');\r\n  };\r\n\r\n  const agrupadosPorEstacion = useMemo(() => {\r\n    const grupos = {};\r\n    data.forEach(item => {\r\n      const key = item.cod_cne || 'sin_cne';\r\n      if (!grupos[key]) {\r\n        grupos[key] = {\r\n          Nom_Eds: item.Nom_Eds,\r\n          marca: item.marca,\r\n          cod_cne: item.cod_cne,\r\n          pbl: item.pbl,\r\n          combustibles: []\r\n        };\r\n      }\r\n      grupos[key].combustibles.push(item);\r\n    });\r\n\r\n    return Object.values(grupos).map(grupo => {\r\n      const subgrupos = {};\r\n      grupo.combustibles.forEach(comb => {\r\n        const difComp = comb.Diferencia_Competencia || 0;\r\n        const difPropia = comb.Estrategia_Propia || 0;\r\n        const combinedKey = `${difComp}_${difPropia}`;\r\n\r\n        if (!subgrupos[combinedKey]) {\r\n          subgrupos[combinedKey] = {\r\n            diferencia_competencia: difComp,\r\n            diferencia_propia: difPropia,\r\n            combustibles: []\r\n          };\r\n        }\r\n        subgrupos[combinedKey].combustibles.push(comb);\r\n      });\r\n\r\n      return {\r\n        ...grupo,\r\n        subgrupos: Object.values(subgrupos)\r\n      };\r\n    });\r\n  }, [data]);\r\n\r\n  const formatFecha = (fechaStr) => {\r\n    if (!fechaStr || fechaStr === 'Mantiene Fecha') return { dia: 'Mantiene', hora: '' };\r\n    const [datePart, timePart] = fechaStr.split(' ');\r\n    return {\r\n      dia: datePart || '-',\r\n      hora: timePart?.substring(0, 5) || ''\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"historico-wrapper\">\r\n      <div className=\"historico-filtros\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-filtro-hist\"\r\n          placeholder=\"Buscar estaciÃ³n...\"\r\n          value={filterNombreAjuste}\r\n          onChange={(e) => setFilterNombreAjuste(e.target.value)}\r\n        />\r\n        <select\r\n          className=\"input-filtro-hist\"\r\n          value={filterCombustible}\r\n          onChange={(e) => setFilterCombustible(e.target.value)}\r\n          style={{ minWidth: '150px' }}\r\n        >\r\n          <option value=\"\">Todos los combustibles</option>\r\n          {combustiblesUnicos.map(comb => (\r\n            <option key={comb} value={comb}>{comb}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <label className=\"check-filtro-hist\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={vistaDetallada}\r\n            onChange={(e) => setVistaDetallada(e.target.checked)}\r\n          />\r\n          <span>Vista detallada</span>\r\n        </label>\r\n\r\n        {hayFiltrosActivos && (\r\n          <button\r\n            className=\"btn-limpiar-filtros\"\r\n            onClick={limpiarFiltros}\r\n            title=\"Limpiar todos los filtros\"\r\n          >\r\n            âœ• Limpiar\r\n          </button>\r\n        )}\r\n\r\n        <span style={{ marginLeft: 'auto', color: '#666', fontSize: '13px', fontWeight: 600 }}>\r\n          Mostrando {vistaDetallada ? data.length : agrupadosPorEstacion.length} registros\r\n        </span>\r\n      </div>\r\n\r\n      {data.length === 0 && hayFiltrosActivos ? (\r\n        <div className=\"sin-resultados-filtro\">\r\n          <div className=\"sin-resultados-content\">\r\n            <span className=\"sin-resultados-icon\">ðŸ”</span>\r\n            <p className=\"sin-resultados-texto\">\r\n              No se encontraron ajustes para la bÃºsqueda\r\n              {filterNombreAjuste && <strong> \"{filterNombreAjuste}\"</strong>}\r\n              {filterCombustible && <span> ({filterCombustible})</span>}\r\n            </p>\r\n            <button\r\n              className=\"btn-limpiar-filtros-destacado\"\r\n              onClick={limpiarFiltros}\r\n            >\r\n              Limpiar filtros y ver todos\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : data.length === 0 ? (\r\n        <div className=\"alert-empty\">ðŸ“‹ No hay datos de ajustes disponibles</div>\r\n      ) : vistaDetallada ? (\r\n        <table className=\"historico-table-compact\">\r\n          <thead>\r\n            <tr>\r\n              <th>EstaciÃ³n</th>\r\n              <th>Marca</th>\r\n              <th>CNE</th>\r\n              <th>Combustible</th>\r\n              <th>PBL</th>\r\n              <th>Precio Asistido</th>\r\n              <th>Precio Autoservicio</th>\r\n              <th>Dif. Competencia</th>\r\n              <th>Estrategia Propia</th>\r\n              <th>Cambio Precio</th>\r\n              <th>Fecha Autoservicio</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((item, idx) => {\r\n              const difComp = item.Diferencia_Competencia || 0;\r\n              const difPropia = item.Estrategia_Propia || 0;\r\n              const fechaAuto = formatFecha(item.fecha_autoservicio);\r\n              const precioAsistido = item.precio_asistido || 0;\r\n              const precioAutoservicio = item.precio_autoservicio || 0;\r\n              const cambioPrecio = item.cambio_precio || 'Mantiene Diferencia';\r\n\r\n              return (\r\n                <tr key={idx}>\r\n                  <td className=\"td-estacion\" title={item.Nom_Eds}>\r\n                    {item.Nom_Eds || 'S/N'}\r\n                  </td>\r\n                  <td className=\"td-marca\">{item.marca || '-'}</td>\r\n                  <td className=\"td-cne\" title={item.cod_cne}>\r\n                    {item.cod_cne || '-'}\r\n                  </td>\r\n                  <td className=\"td-combustible\">\r\n                    <span className={`combustible-badge combustible-${item.combustible?.toLowerCase()}`}>\r\n                      {item.combustible || '-'}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"td-pbl\">{item.pbl || '-'}</td>\r\n                  <td className=\"td-precio\"><strong>${precioAsistido}</strong></td>\r\n                  <td className=\"td-precio\"><strong>${precioAutoservicio}</strong></td>\r\n                  <td className={`td-diferencia ${difComp > 0 ? 'precio-sube' : difComp < 0 ? 'precio-baja' : 'precio-igual'}`}>\r\n                    <strong>\r\n                      {difComp > 0 ? 'â†‘ +' : difComp < 0 ? 'â†“ ' : ''}{difComp}\r\n                    </strong>\r\n                  </td>\r\n                  <td className={`td-diferencia ${difPropia > 0 ? 'precio-sube' : difPropia < 0 ? 'precio-baja' : 'precio-igual'}`}>\r\n                    <strong>\r\n                      {difPropia > 0 ? 'â†‘ +' : difPropia < 0 ? 'â†“ ' : ''}{difPropia}\r\n                    </strong>\r\n                  </td>\r\n                  <td className=\"td-cambio-precio\" style={{ fontSize: '11px' }}>\r\n                    {cambioPrecio}\r\n                  </td>\r\n                  <td className=\"td-fecha\">\r\n                    <div className=\"fecha-compacta\">\r\n                      <span className=\"fecha-dia\">{fechaAuto.dia}</span>\r\n                      {fechaAuto.hora && <span className=\"fecha-hora\">{fechaAuto.hora}</span>}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <table className=\"historico-table-compact ajustes-simplified\">\r\n          <thead>\r\n            <tr>\r\n              <th>EstaciÃ³n</th>\r\n              <th>Marca</th>\r\n              <th>CNE</th>\r\n              <th>PBL</th>\r\n              <th>Combustibles</th>\r\n              <th>Dif. Competencia</th>\r\n              <th>Dif. Estrategia</th>\r\n              <th>Fecha Vigencia</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {agrupadosPorEstacion.map((grupo, idx) => {\r\n              return grupo.subgrupos.map((subgrupo, subIdx) => {\r\n                const fechaVig = formatFecha(subgrupo.combustibles[0]?.FechaVigenciaSugerida);\r\n                const difComp = subgrupo.diferencia_competencia;\r\n                const difPropia = subgrupo.diferencia_propia;\r\n\r\n                return (\r\n                  <tr key={`${idx}-${subIdx}`}>\r\n                    {subIdx === 0 && (\r\n                      <>\r\n                        <td className=\"td-estacion\" rowSpan={grupo.subgrupos.length} title={grupo.Nom_Eds}>\r\n                          {grupo.Nom_Eds?.slice(0, 18) || 'S/N'}\r\n                        </td>\r\n                        <td className=\"td-marca\" rowSpan={grupo.subgrupos.length}>{grupo.marca || '-'}</td>\r\n                        <td className=\"td-cne\" rowSpan={grupo.subgrupos.length} title={grupo.cod_cne}>\r\n                          {grupo.cod_cne?.slice(-6) || '-'}\r\n                        </td>\r\n                        <td className=\"td-pbl\" rowSpan={grupo.subgrupos.length}>{grupo.pbl || '-'}</td>\r\n                      </>\r\n                    )}\r\n                    <td className=\"td-combustibles\">\r\n                      {subgrupo.combustibles.map((c, i) => (\r\n                        <span key={i} className={`combustible-badge combustible-${c.combustible?.toLowerCase()}`} style={{ marginRight: '4px' }}>\r\n                          {c.combustible}\r\n                        </span>\r\n                      ))}\r\n                    </td>\r\n                    <td className={`td-diferencia ${difComp > 0 ? 'precio-sube' : difComp < 0 ? 'precio-baja' : 'precio-igual'}`}>\r\n                      <strong>{difComp > 0 ? 'â†‘' : difComp < 0 ? 'â†“' : '='} {difComp > 0 ? '+' : ''}{difComp}</strong>\r\n                    </td>\r\n                    <td className={`td-diferencia ${difPropia > 0 ? 'precio-sube' : difPropia < 0 ? 'precio-baja' : 'precio-igual'}`}>\r\n                      <strong>{difPropia > 0 ? 'â†‘' : difPropia < 0 ? 'â†“' : '='} {difPropia > 0 ? '+' : ''}{difPropia}</strong>\r\n                    </td>\r\n                    <td className=\"td-fecha\">\r\n                      <div className=\"fecha-compacta\">\r\n                        <span className=\"fecha-dia\">{fechaVig.dia}</span>\r\n                        {fechaVig.hora && <span className=\"fecha-hora\">{fechaVig.hora}</span>}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              });\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlertPanel;\r\n"],"mappings":"oIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,OAASC,gBAAgB,CAAEC,kBAAkB,CAAEC,iBAAiB,CAAEC,iBAAiB,KAAQ,wBAAwB,CACnH,MAAO,0BAA0B,CAEjC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,QAAS,CAAAC,oBAAoBA,CAACC,MAAM,CAAE,CACpC,KAAM,CAAAC,OAAO,CAAG,CAAC,CAAC,CAClBD,MAAM,CAACE,OAAO,CAACC,KAAK,EAAI,CACtB,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACE,OAAO,EAAI,YAAY,CACzC,GAAI,CAACJ,OAAO,CAACG,GAAG,CAAC,CAAEH,OAAO,CAACG,GAAG,CAAC,CAAG,EAAE,CACpCH,OAAO,CAACG,GAAG,CAAC,CAACE,IAAI,CAACH,KAAK,CAAC,CAC1B,CAAC,CAAC,CACF,MAAO,CAAAF,OAAO,CAChB,CAEA;AACA,QAAS,CAAAM,eAAeA,CAACP,MAAM,CAAE,CAC/B,KAAM,CAAAQ,UAAU,CAAG,CAAC,CAAC,CACrBR,MAAM,CAACE,OAAO,CAACO,CAAC,EAAID,UAAU,CAACC,CAAC,CAACJ,OAAO,EAAI,YAAY,CAAC,CAAG,IAAI,CAAC,CACjE,MAAO,CAAAK,MAAM,CAACC,IAAI,CAACH,UAAU,CAAC,CAACI,MAAM,CACvC,CAEA;AACA,QAAS,CAAAC,UAAUA,CAACC,QAAQ,CAAE,CAC5B,GAAI,CAACA,QAAQ,EAAI,MAAO,CAAAA,QAAQ,GAAK,QAAQ,CAAE,CAC7C,MAAO,IAAI,CAAAC,IAAI,CAAC,CAAC,CACnB,CACA,KAAM,CAAAC,KAAK,CAAGF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CACxC,KAAM,CAAAC,QAAQ,CAAGH,KAAK,CAAC,CAAC,CAAC,CACzB,KAAM,CAAAI,QAAQ,CAAGJ,KAAK,CAAC,CAAC,CAAC,CAEzB,GAAI,CAACG,QAAQ,CAAE,MAAO,IAAI,CAAAJ,IAAI,CAAC,CAAC,CAEhC,KAAM,CAAAM,SAAS,CAAGF,QAAQ,CAACD,KAAK,CAAC,GAAG,CAAC,CACrC,GAAIG,SAAS,CAACT,MAAM,GAAK,CAAC,CAAE,MAAO,IAAI,CAAAG,IAAI,CAAC,CAAC,CAE7C,KAAM,CAACO,GAAG,CAAEC,KAAK,CAAEC,IAAI,CAAC,CAAGH,SAAS,CAACI,GAAG,CAACC,MAAM,CAAC,CAChD,KAAM,CAACC,KAAK,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAGA,QAAQ,CAACF,KAAK,CAAC,GAAG,CAAC,CAACO,GAAG,CAACC,MAAM,CAAC,CAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAE5E,GAAIG,KAAK,CAACP,GAAG,CAAC,EAAIO,KAAK,CAACN,KAAK,CAAC,EAAIM,KAAK,CAACL,IAAI,CAAC,CAAE,MAAO,IAAI,CAAAT,IAAI,CAAC,CAAC,CAEhE,MAAO,IAAI,CAAAA,IAAI,CAACS,IAAI,CAAED,KAAK,CAAG,CAAC,CAAED,GAAG,CAAEK,KAAK,EAAI,CAAC,CAAEC,OAAO,EAAI,CAAC,CAAC,CACjE,CAEA,KAAM,CAAAE,cAAc,CAAG,EAAE,CAEzB,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA6C,IAA5C,CAAEC,SAAS,CAAEC,OAAO,CAAEC,eAAgB,CAAC,CAAAH,IAAA,CACzD,KAAM,CAACI,SAAS,CAAEC,YAAY,CAAC,CAAGnD,QAAQ,CAAC,SAAS,CAAC,CACrD,KAAM,CAACoD,OAAO,CAAEC,UAAU,CAAC,CAAGrD,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACsD,SAAS,CAAEC,YAAY,CAAC,CAAGvD,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACwD,UAAU,CAAEC,aAAa,CAAC,CAAGzD,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC0D,WAAW,CAAEC,cAAc,CAAC,CAAG3D,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC4D,OAAO,CAAEC,UAAU,CAAC,CAAG7D,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC8D,IAAI,CAAEC,OAAO,CAAC,CAAG/D,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACgE,aAAa,CAAEC,gBAAgB,CAAC,CAAGjE,QAAQ,CAAC,KAAK,CAAC,CAAE;AAE3D;AACA,KAAM,CAACkE,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGnE,QAAQ,CAAC,EAAE,CAAC,CACpE,KAAM,CAACoE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGrE,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACsE,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGvE,QAAQ,CAAC,KAAK,CAAC,CAAE;AAE3E;AACA,KAAM,CAACwE,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGzE,QAAQ,CAAC,EAAE,CAAC,CAChE,KAAM,CAAC0E,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG3E,QAAQ,CAAC,EAAE,CAAC,CAE9DC,SAAS,CAAC,IAAM,CACd,GAAIgD,eAAe,CAAE,CACnBI,UAAU,CAACJ,eAAe,CAAC,CAC3BY,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,IAAM,IAAId,SAAS,CAAE,CACpB6B,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAAE,CAAC7B,SAAS,CAAEE,eAAe,CAAC,CAAC,CAEhC,KAAM,CAAA2B,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACFf,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAACgB,WAAW,CAAEC,aAAa,CAAEC,gBAAgB,CAAEC,iBAAiB,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC1F/E,gBAAgB,CAAC,CAAC,CAClBC,kBAAkB,CAAC,CAAC,CACpBC,iBAAiB,CAAC,CAAC,CACnBC,iBAAiB,CAAC,CAAC,CACpB,CAAC,CAEF+C,UAAU,CAAC8B,KAAK,CAACC,OAAO,CAACP,WAAW,CAAC,CAAGA,WAAW,CAAG,EAAE,CAAC,CACzDtB,YAAY,CAAC4B,KAAK,CAACC,OAAO,CAACN,aAAa,CAAC,CAAGA,aAAa,CAAG,EAAE,CAAC,CAE/D,KAAM,CAAAO,SAAS,CACbF,KAAK,CAACC,OAAO,CAACL,gBAAgB,CAAC,CAAGA,gBAAgB,CAChDI,KAAK,CAACC,OAAO,CAACL,gBAAgB,SAAhBA,gBAAgB,iBAAhBA,gBAAgB,CAAEO,IAAI,CAAC,CAAGP,gBAAgB,CAACO,IAAI,CAAG,EAAE,CACtE7B,aAAa,CAAC4B,SAAS,CAAC,CAExB,KAAM,CAAAE,UAAU,CACdJ,KAAK,CAACC,OAAO,CAACJ,iBAAiB,CAAC,CAAGA,iBAAiB,CAClDG,KAAK,CAACC,OAAO,CAACJ,iBAAiB,SAAjBA,iBAAiB,iBAAjBA,iBAAiB,CAAEM,IAAI,CAAC,CAAGN,iBAAiB,CAACM,IAAI,CAAG,EAAE,CACxE3B,cAAc,CAAC4B,UAAU,CAAC,CAE5B,CAAE,MAAAC,OAAA,CAAM,CACNnC,UAAU,CAAC,EAAE,CAAC,CACdE,YAAY,CAAC,EAAE,CAAC,CAChBE,aAAa,CAAC,EAAE,CAAC,CACjBE,cAAc,CAAC,EAAE,CAAC,CACpB,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA4B,SAAS,CAAGvF,OAAO,CAAC,IAAMW,oBAAoB,CAACuC,OAAO,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CACzE,KAAM,CAAAsC,kBAAkB,CAAGxF,OAAO,CAAC,IAAMmB,eAAe,CAAC+B,OAAO,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CAE7E,KAAM,CAAAuC,gBAAgB,CAAGzF,OAAO,CAAC,IAAM,CACrC,GAAI,CAACiF,KAAK,CAACC,OAAO,CAAC5B,UAAU,CAAC,CAAE,MAAO,EAAE,CAEzC,MAAO,CAAAA,UAAU,CACdoC,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACC,MAAM,GAAK,IAAI,CAAC,CACpCC,IAAI,CAAC,CAACxE,CAAC,CAAEyE,CAAC,GAAK,CACd,GAAIzE,CAAC,CAAC0E,aAAa,GAAK,IAAI,EAAID,CAAC,CAACC,aAAa,GAAK,IAAI,CAAE,MAAO,CAAC,CAAC,CACnE,GAAI1E,CAAC,CAAC0E,aAAa,GAAK,IAAI,EAAID,CAAC,CAACC,aAAa,GAAK,IAAI,CAAE,MAAO,EAAC,CAClE,MAAO,CAAC1E,CAAC,CAACJ,OAAO,EAAI,EAAE,EAAE+E,aAAa,CAACF,CAAC,CAAC7E,OAAO,EAAI,EAAE,CAAC,CACzD,CAAC,CAAC,CACN,CAAC,CAAE,CAACqC,UAAU,CAAC,CAAC,CAEhB;AACA;AACA,KAAM,CAAA2C,wBAAwB,CAAGjG,OAAO,CAAC,IAAM,CAC7C,MAAO,IAAI,CAAAkG,GAAG,CACZ5C,UAAU,CACPoC,MAAM,CAACS,CAAC,EAAIA,CAAC,CAACJ,aAAa,GAAK,IAAI,CAAC,CACrC1D,GAAG,CAAC8D,CAAC,EAAIA,CAAC,CAAClF,OAAO,CACvB,CAAC,CACH,CAAC,CAAE,CAACqC,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAA8C,iBAAiB,CAAGpG,OAAO,CAAC,IAAM,CACtC,GAAI,CAAAqG,QAAQ,CAAG,CAAC,GAAGjD,SAAS,CAAC,CAE7B,GAAIY,oBAAoB,CAACnC,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACtC,KAAM,CAAAyE,UAAU,CAAGtC,oBAAoB,CAACuC,WAAW,CAAC,CAAC,CACrDF,QAAQ,CAAGA,QAAQ,CAACX,MAAM,CAACC,IAAI,EAC7B,CAACA,IAAI,CAAC1E,OAAO,EAAI,EAAE,EAAEsF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACF,UAAU,CACxD,CAAC,CACH,CAEA,GAAIpC,gBAAgB,CAAE,CACpB,KAAM,CAAAuC,kBAAkB,CAAG,GAAI,CAAAP,GAAG,CAChC5C,UAAU,CACPoC,MAAM,CAACS,CAAC,EAAIA,CAAC,CAACJ,aAAa,GAAK,IAAI,CAAC,CACrC1D,GAAG,CAAC8D,CAAC,EAAIA,CAAC,CAAClF,OAAO,CACvB,CAAC,CACDoF,QAAQ,CAAGA,QAAQ,CAACX,MAAM,CAACC,IAAI,EAAIc,kBAAkB,CAACC,GAAG,CAACf,IAAI,CAAC1E,OAAO,CAAC,CAAC,CAC1E,CAEA;AACA,GAAImD,qBAAqB,CAAE,CACzBiC,QAAQ,CAAGA,QAAQ,CAACX,MAAM,CAACC,IAAI,EAAIM,wBAAwB,CAACS,GAAG,CAACf,IAAI,CAAC1E,OAAO,CAAC,CAAC,CAChF,CAEA,MAAO,CAAAoF,QAAQ,CACjB,CAAC,CAAE,CAACjD,SAAS,CAAEY,oBAAoB,CAAEE,gBAAgB,CAAEE,qBAAqB,CAAEd,UAAU,CAAE2C,wBAAwB,CAAC,CAAC,CAEpH,KAAM,CAAAU,eAAe,CAAG3G,OAAO,CAAC,IAAM,CACpC,MAAO,CAAC,GAAGoG,iBAAiB,CAAC,CAACP,IAAI,CAAC,CAACxE,CAAC,CAAEyE,CAAC,GAAKrE,UAAU,CAACqE,CAAC,CAACc,KAAK,CAAC,CAAGnF,UAAU,CAACJ,CAAC,CAACuF,KAAK,CAAC,CAAC,CACzF,CAAC,CAAE,CAACR,iBAAiB,CAAC,CAAC,CAEvB;AACA,KAAM,CAAAS,eAAe,CAAG7G,OAAO,CAAC,IAAM,CACpC,GAAI,CAAAqG,QAAQ,CAAG,CAAC,GAAG7C,WAAW,CAAC,CAE/B,GAAIc,kBAAkB,CAACzC,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACpC,KAAM,CAAAyE,UAAU,CAAGhC,kBAAkB,CAACiC,WAAW,CAAC,CAAC,CACnDF,QAAQ,CAAGA,QAAQ,CAACX,MAAM,CAACC,IAAI,EAC7B,CAACA,IAAI,CAAC1E,OAAO,EAAI,EAAE,EAAEsF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACF,UAAU,CACxD,CAAC,CACH,CAEA,GAAI9B,iBAAiB,CAAC3C,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACnCwE,QAAQ,CAAGA,QAAQ,CAACX,MAAM,CAACC,IAAI,EAC7BA,IAAI,CAACmB,WAAW,GAAKtC,iBACvB,CAAC,CACH,CAEA,MAAO,CAAA6B,QAAQ,CACjB,CAAC,CAAE,CAAC7C,WAAW,CAAEc,kBAAkB,CAAEE,iBAAiB,CAAC,CAAC,CAExD,KAAM,CAAAuC,aAAa,CAAG/G,OAAO,CAAC,IAAM,CAClC,MAAO,CAAC,GAAG6G,eAAe,CAAC,CAC7B,CAAC,CAAE,CAACA,eAAe,CAAC,CAAC,CAErB,KAAM,CAAAG,UAAU,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAED,IAAI,CAACE,IAAI,CAACR,eAAe,CAACnF,MAAM,CAAGkB,cAAc,CAAC,CAAC,CAClF,KAAM,CAAA0E,iBAAiB,CAAGH,IAAI,CAACC,GAAG,CAAC,CAAC,CAAED,IAAI,CAACE,IAAI,CAACJ,aAAa,CAACvF,MAAM,CAAGkB,cAAc,CAAC,CAAC,CAEvF,KAAM,CAAA2E,kBAAkB,CAAGV,eAAe,CAACW,KAAK,CAAC,CAAC1D,IAAI,CAAG,CAAC,EAAIlB,cAAc,CAAEkB,IAAI,CAAGlB,cAAc,CAAC,CACpG,KAAM,CAAA6E,gBAAgB,CAAGR,aAAa,CAACO,KAAK,CAAC,CAAC1D,IAAI,CAAG,CAAC,EAAIlB,cAAc,CAAEkB,IAAI,CAAGlB,cAAc,CAAC,CAEhG,KAAM,CAAA8E,cAAc,CAAGA,CAAA,GAAM3D,OAAO,CAAC4D,CAAC,EAAIR,IAAI,CAACC,GAAG,CAACO,CAAC,CAAG,CAAC,CAAE,CAAC,CAAC,CAAC,CAC7D,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM7D,OAAO,CAAC4D,CAAC,EAAIR,IAAI,CAACU,GAAG,CAACF,CAAC,CAAG,CAAC,CAAEzE,SAAS,GAAK,SAAS,CAAGoE,iBAAiB,CAAGJ,UAAU,CAAC,CAAC,CAEpH;AACAjH,SAAS,CAAC,IAAM,CACd8D,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAAE,CAACG,oBAAoB,CAAEE,gBAAgB,CAAEE,qBAAqB,CAAEE,kBAAkB,CAAEE,iBAAiB,CAAExB,SAAS,CAAC,CAAC,CAErH,KAAM,CAAA4E,kBAAkB,CAAG5H,OAAO,CAAC,IAAM,CACvC,MAAO,CAAC,GAAG,GAAI,CAAAkG,GAAG,CAAC1C,WAAW,CAACnB,GAAG,CAAChB,CAAC,EAAIA,CAAC,CAACyF,WAAW,CAAC,CAAC,CAAC,CAACpB,MAAM,CAACmC,OAAO,CAAC,CAC1E,CAAC,CAAE,CAACrE,WAAW,CAAC,CAAC,CAEjB,mBACEhD,KAAA,CAAAE,SAAA,EAAAoH,QAAA,eACEtH,KAAA,UAAOuH,SAAS,eAAAC,MAAA,CAAgB,CAACnF,SAAS,CAAG,SAAS,CAAG,EAAE,CAAG,CAAAiF,QAAA,eAC5DtH,KAAA,QAAKuH,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCxH,IAAA,OAAIyH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,iCAAqB,CAAI,CAAC,cAC5DxH,IAAA,WAAQyH,SAAS,CAAC,mBAAmB,CAACE,OAAO,CAAEnF,OAAQ,CAAAgF,QAAA,CAAC,QAAC,CAAQ,CAAC,EAC/D,CAAC,cACNtH,KAAA,QAAKuH,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBtH,KAAA,WACEuH,SAAS,cAAAC,MAAA,CAAehF,SAAS,GAAK,SAAS,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClEiF,OAAO,CAAEA,CAAA,GAAMhF,YAAY,CAAC,SAAS,CAAE,CAAA6E,QAAA,EACxC,mBACkB,CAACtC,kBAAkB,CAAC,GACvC,EAAQ,CAAC,cAEThF,KAAA,WACEuH,SAAS,cAAAC,MAAA,CAAehF,SAAS,GAAK,WAAW,CAAG,QAAQ,CAAG,EAAE,CAAG,CACpEiF,OAAO,CAAEA,CAAA,GAAMhF,YAAY,CAAC,WAAW,CAAE,CAAA6E,QAAA,EAC1C,2BACuB,CAACnB,eAAe,CAACnF,MAAM,CAAC,GAChD,EAAQ,CAAC,cACThB,KAAA,WACEuH,SAAS,cAAAC,MAAA,CAAehF,SAAS,GAAK,SAAS,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClEiF,OAAO,CAAEA,CAAA,GAAMhF,YAAY,CAAC,SAAS,CAAE,CAAA6E,QAAA,EACxC,eACc,CAACf,aAAa,CAACvF,MAAM,CAAC,GACrC,EAAQ,CAAC,cACThB,KAAA,WACEuH,SAAS,cAAAC,MAAA,CAAehF,SAAS,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CACjEiF,OAAO,CAAEA,CAAA,GAAMhF,YAAY,CAAC,QAAQ,CAAE,CAAA6E,QAAA,EACvC,kBACiB,CAACrC,gBAAgB,CAACjE,MAAM,CAAC,GAC3C,EAAQ,CAAC,EACN,CAAC,cACNlB,IAAA,QAAKyH,SAAS,CAAC,qBAAqB,CAAAD,QAAA,CACjCpE,OAAO,cACNpD,IAAA,QAAKyH,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,aAAW,CAAK,CAAC,CAC9C9E,SAAS,GAAK,SAAS,cACzB1C,IAAA,CAAC4H,cAAc,EAAC3C,SAAS,CAAEA,SAAU,CAAE,CAAC,CACtCvC,SAAS,GAAK,QAAQ,cACxB1C,IAAA,CAAC6H,kBAAkB,EAAC/C,IAAI,CAAEK,gBAAiB,CAAE,CAAC,CAC5CzC,SAAS,GAAK,WAAW,cAC3BxC,KAAA,CAAAE,SAAA,EAAAoH,QAAA,eACExH,IAAA,CAAC8H,gBAAgB,EACfhD,IAAI,CAAEiC,kBAAmB,CACzBrD,oBAAoB,CAAEA,oBAAqB,CAC3CC,uBAAuB,CAAEA,uBAAwB,CACjDC,gBAAgB,CAAEA,gBAAiB,CACnCC,mBAAmB,CAAEA,mBAAoB,CACzCC,qBAAqB,CAAEA,qBAAsB,CAC7CC,wBAAwB,CAAEA,wBAAyB,CACnD4B,wBAAwB,CAAEA,wBAAyB,CACnDoC,UAAU,CAAE1B,eAAe,CAACnF,MAAO,CACnC8G,QAAQ,CAAEA,CAAA,GAAMvE,gBAAgB,CAAC,IAAI,CAAE,CACxC,CAAC,cACFvD,KAAA,QAAKuH,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClCxH,IAAA,WAAQ2H,OAAO,CAAET,cAAe,CAACe,QAAQ,CAAE3E,IAAI,GAAK,CAAE,CAAAkE,QAAA,CAAC,MAAI,CAAQ,CAAC,cACpEtH,KAAA,SAAMgI,KAAK,CAAE,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAX,QAAA,EAAC,YAAO,CAAClE,IAAI,CAAC,MAAI,CAACoD,UAAU,EAAO,CAAC,cACvE1G,IAAA,WAAQ2H,OAAO,CAAEP,cAAe,CAACa,QAAQ,CAAE3E,IAAI,GAAKoD,UAAW,CAAAc,QAAA,CAAC,WAAS,CAAQ,CAAC,EAC/E,CAAC,EACN,CAAC,CACD9E,SAAS,GAAK,SAAS,cACzBxC,KAAA,CAAAE,SAAA,EAAAoH,QAAA,eACExH,IAAA,CAACoI,YAAY,EACXtD,IAAI,CAAEmC,gBAAiB,CACvBjD,kBAAkB,CAAEA,kBAAmB,CACvCC,qBAAqB,CAAEA,qBAAsB,CAC7CC,iBAAiB,CAAEA,iBAAkB,CACrCC,oBAAoB,CAAEA,oBAAqB,CAC3CmD,kBAAkB,CAAEA,kBAAmB,CACvCS,UAAU,CAAEtB,aAAa,CAACvF,MAAO,CAClC,CAAC,cACFhB,KAAA,QAAKuH,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClCxH,IAAA,WAAQ2H,OAAO,CAAET,cAAe,CAACe,QAAQ,CAAE3E,IAAI,GAAK,CAAE,CAAAkE,QAAA,CAAC,MAAI,CAAQ,CAAC,cACpEtH,KAAA,SAAMgI,KAAK,CAAE,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAX,QAAA,EAAC,YAAO,CAAClE,IAAI,CAAC,MAAI,CAACwD,iBAAiB,EAAO,CAAC,cAC9E9G,IAAA,WAAQ2H,OAAO,CAAEP,cAAe,CAACa,QAAQ,CAAE3E,IAAI,GAAKwD,iBAAkB,CAAAU,QAAA,CAAC,WAAS,CAAQ,CAAC,EACtF,CAAC,EACN,CAAC,CACD,IAAI,CACL,CAAC,EACD,CAAC,CAEPhE,aAAa,eACZtD,KAAA,CAACmI,sBAAsB,EAAC7F,OAAO,CAAEA,CAAA,GAAMiB,gBAAgB,CAAC,KAAK,CAAE,CAAA+D,QAAA,eAC7DxH,IAAA,CAAC8H,gBAAgB,EACfhD,IAAI,CAAEiC,kBAAmB,CACzBrD,oBAAoB,CAAEA,oBAAqB,CAC3CC,uBAAuB,CAAEA,uBAAwB,CACjDC,gBAAgB,CAAEA,gBAAiB,CACnCC,mBAAmB,CAAEA,mBAAoB,CACzCC,qBAAqB,CAAEA,qBAAsB,CAC7CC,wBAAwB,CAAEA,wBAAyB,CACnD4B,wBAAwB,CAAEA,wBAAyB,CACnDoC,UAAU,CAAE1B,eAAe,CAACnF,MAAO,CACnCgH,KAAK,CAAE,CAAEI,SAAS,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAO,CAAE,CACjF,CAAC,cACFvI,KAAA,QAAKuH,SAAS,CAAC,qBAAqB,CAACS,KAAK,CAAE,CAAEQ,SAAS,CAAE,mBAAoB,CAAE,CAAAlB,QAAA,eAC7ExH,IAAA,WAAQ2H,OAAO,CAAET,cAAe,CAACe,QAAQ,CAAE3E,IAAI,GAAK,CAAE,CAAAkE,QAAA,CAAC,MAAI,CAAQ,CAAC,cACpEtH,KAAA,SAAMgI,KAAK,CAAE,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAX,QAAA,EAAC,YAAO,CAAClE,IAAI,CAAC,MAAI,CAACoD,UAAU,EAAO,CAAC,cACvE1G,IAAA,WAAQ2H,OAAO,CAAEP,cAAe,CAACa,QAAQ,CAAE3E,IAAI,GAAKoD,UAAW,CAAAc,QAAA,CAAC,WAAS,CAAQ,CAAC,EAC/E,CAAC,EACgB,CACzB,EACD,CAAC,CAEP,CAAC,CAED,KAAM,CAAAI,cAAc,CAAGe,KAAA,EAAmB,IAAlB,CAAE1D,SAAU,CAAC,CAAA0D,KAAA,CACnC,KAAM,CAAA7H,UAAU,CAAGE,MAAM,CAAC4H,OAAO,CAAC3D,SAAS,CAAC,CAC5C,GAAInE,UAAU,CAACI,MAAM,GAAK,CAAC,CAAE,mBAAOlB,IAAA,QAAKyH,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,wBAAsB,CAAK,CAAC,CAE7F,mBACExH,IAAA,QAAKyH,SAAS,CAAC,aAAa,CAAAD,QAAA,CACzB1G,UAAU,CAACiB,GAAG,CAAC8G,KAAA,EAAuB,IAAtB,CAACC,OAAO,CAAExI,MAAM,CAAC,CAAAuI,KAAA,CAChC,KAAM,CAAAE,MAAM,CAAGzI,MAAM,CAAC0I,IAAI,CAACjI,CAAC,EAAIA,CAAC,CAAC0E,aAAa,GAAK,IAAI,CAAC,CACzD,KAAM,CAAAwD,YAAY,CAAG3I,MAAM,CAAC,CAAC,CAAC,CAC9B,mBACEJ,KAAA,QAAmBuH,SAAS,cAAAC,MAAA,CAAeqB,MAAM,CAAG,SAAS,CAAG,EAAE,CAAG,CAAAvB,QAAA,eACnEtH,KAAA,QAAKuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCxH,IAAA,SAAMyH,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEuB,MAAM,CAAG,GAAG,CAAG,IAAI,CAAO,CAAC,cACzD7I,KAAA,QAAKuH,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BxH,IAAA,WAAAwH,QAAA,CAASsB,OAAO,CAAS,CAAC,cAC1B5I,KAAA,SAAMuH,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAEyB,YAAY,CAACC,KAAK,CAAC,KAAG,CAACD,YAAY,CAACE,OAAO,EAAO,CAAC,EAC/E,CAAC,EACH,CAAC,cACNjJ,KAAA,UAAOuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAClCxH,IAAA,UAAAwH,QAAA,cACEtH,KAAA,OAAAsH,QAAA,eACExH,IAAA,OAAAwH,QAAA,CAAI,OAAK,CAAI,CAAC,cACdxH,IAAA,OAAAwH,QAAA,CAAI,QAAM,CAAI,CAAC,cACfxH,IAAA,OAAAwH,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBxH,IAAA,OAAAwH,QAAA,CAAI,MAAI,CAAI,CAAC,cACbxH,IAAA,OAAAwH,QAAA,CAAI,MAAI,CAAI,CAAC,cACbxH,IAAA,OAAAwH,QAAA,CAAI,MAAI,CAAI,CAAC,EACX,CAAC,CACA,CAAC,cACRxH,IAAA,UAAAwH,QAAA,CACGlH,MAAM,CAACyB,GAAG,CAAC,CAAChB,CAAC,CAAEqI,CAAC,GAAK,CACpB,KAAM,CAAAC,GAAG,CAAG,CAACtI,CAAC,CAACuI,MAAM,EAAI,CAAC,GAAKvI,CAAC,CAACwI,cAAc,EAAI,CAAC,CAAC,CACrD,mBACErJ,KAAA,OAAAsH,QAAA,eACExH,IAAA,OAAAwH,QAAA,CAAKzG,CAAC,CAACyI,WAAW,CAAK,CAAC,cACxBtJ,KAAA,OAAAsH,QAAA,EAAI,GAAC,CAACzG,CAAC,CAACuI,MAAM,EAAK,CAAC,cACpBpJ,KAAA,OAAAsH,QAAA,EAAI,GAAC,CAACzG,CAAC,CAACwI,cAAc,EAAK,CAAC,cAC5BrJ,KAAA,OAAIuH,SAAS,CAAE4B,GAAG,CAAG,CAAC,CAAG,UAAU,CAAG,UAAW,CAAA7B,QAAA,EAC9C6B,GAAG,CAAG,CAAC,EAAI,GAAG,CAAEA,GAAG,EAClB,CAAC,cACLrJ,IAAA,OAAAwH,QAAA,CAAKzG,CAAC,CAAC0I,OAAO,CAAK,CAAC,cACpBzJ,IAAA,OAAAwH,QAAA,CAAKzG,CAAC,CAAC2I,aAAa,CAAK,CAAC,GARnBN,CASL,CAAC,CAET,CAAC,CAAC,CACG,CAAC,EACH,CAAC,cACRpJ,IAAA,QAAKkI,KAAK,CAAE,CAAEyB,SAAS,CAAE,KAAK,CAAEC,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAArC,QAAA,CAC/D,CAAC,IAAM,CACN;AACA,KAAM,CAAAsC,aAAa,CAAG,GAAI,CAAAlE,GAAG,CAAC,CAAC,CAC/B,KAAM,CAAAmE,aAAa,CAAG,EAAE,CAExBzJ,MAAM,CAACE,OAAO,CAACO,CAAC,EAAI,CAClB,KAAM,CAAAiJ,IAAI,YAAAtC,MAAA,CAAc3G,CAAC,CAACuF,KAAK,iBAAAoB,MAAA,CAAe3G,CAAC,CAACkJ,aAAa,CAAE,CAC/D,KAAM,CAAAC,QAAQ,CAAGnJ,CAAC,CAAC0E,aAAa,GAAK,IAAI,CACzC,KAAM,CAAA/E,GAAG,IAAAgH,MAAA,CAAMsC,IAAI,MAAAtC,MAAA,CAAIwC,QAAQ,CAAE,CAEjC,GAAI,CAACJ,aAAa,CAAC1D,GAAG,CAAC1F,GAAG,CAAC,CAAE,CAC3BoJ,aAAa,CAACK,GAAG,CAACzJ,GAAG,CAAC,CACtBqJ,aAAa,CAACnJ,IAAI,CAAC,CAAEoJ,IAAI,CAAEE,QAAS,CAAC,CAAC,CACxC,CACF,CAAC,CAAC,CAEF,MAAO,CAAAH,aAAa,CAAChI,GAAG,CAAC,CAACsD,IAAI,CAAE+E,GAAG,gBACjClK,KAAA,QAAAsH,QAAA,eACExH,IAAA,SAAAwH,QAAA,CAAOnC,IAAI,CAAC2E,IAAI,CAAO,CAAC,CACvB3E,IAAI,CAAC6E,QAAQ,eAAIlK,IAAA,SAAMkI,KAAK,CAAE,CAAEmC,UAAU,CAAE,CAAC,CAAET,KAAK,CAAE,SAAU,CAAE,CAAApC,QAAA,CAAC,yBAAkB,CAAM,CAAC,GAFrF4C,GAGL,CACN,CAAC,CACJ,CAAC,EAAE,CAAC,CACD,CAAC,GA7DEtB,OA8DL,CAAC,CAEV,CAAC,CAAC,CACE,CAAC,CAEX,CAAC,CAED,KAAM,CAAAT,sBAAsB,CAAGiC,KAAA,EAA2B,IAA1B,CAAE9H,OAAO,CAAEgF,QAAS,CAAC,CAAA8C,KAAA,CACnD,mBACEtK,IAAA,QAAKyH,SAAS,CAAC,yBAAyB,CAACE,OAAO,CAAEnF,OAAQ,CAAAgF,QAAA,cACxDtH,KAAA,QAAKuH,SAAS,CAAC,2BAA2B,CAACE,OAAO,CAAE4C,CAAC,EAAIA,CAAC,CAACC,eAAe,CAAC,CAAE,CAAAhD,QAAA,eAC3EtH,KAAA,QAAKuH,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACrCxH,IAAA,OAAAwH,QAAA,CAAI,8CAAyC,CAAI,CAAC,cAClDxH,IAAA,WAAQyH,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEnF,OAAQ,CAAAgF,QAAA,CAAC,QAAC,CAAQ,CAAC,EAC7D,CAAC,cACNxH,IAAA,QAAKyH,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAClCA,QAAQ,CACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,KAAM,CAAAK,kBAAkB,CAAG4C,KAAA,EAAc,IAAb,CAAE3F,IAAK,CAAC,CAAA2F,KAAA,CAClC,GAAI,CAAC9F,KAAK,CAACC,OAAO,CAACE,IAAI,CAAC,EAAIA,IAAI,CAAC5D,MAAM,GAAK,CAAC,CAAE,CAC7C,mBAAOlB,IAAA,QAAKyH,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,+BAA6B,CAAK,CAAC,CACzE,CACA,mBACExH,IAAA,QAAKyH,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAChC1C,IAAI,CAAC/C,GAAG,CAAC,CAACsD,IAAI,CAAE+E,GAAG,gBAClBlK,KAAA,QAAKuH,SAAS,sBAAAC,MAAA,CAAuBrC,IAAI,CAACI,aAAa,GAAK,IAAI,CAAG,eAAe,CAAG,EAAE,CAAG,CAAA+B,QAAA,eACxFtH,KAAA,QAAKuH,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBxH,IAAA,SAAMyH,SAAS,YAAAC,MAAA,CAAarC,IAAI,CAACI,aAAa,GAAK,IAAI,CAAG,SAAS,CAAG,EAAE,CAAG,CAAA+B,QAAA,CAAC,QAAC,CAAM,CAAC,cACpFxH,IAAA,SAAMyH,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAEnC,IAAI,CAAC1E,OAAO,CAAO,CAAC,cAC/CT,KAAA,SAAMuH,SAAS,CAAC,SAAS,CAAAD,QAAA,eACvBxH,IAAA,SAAMyH,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,KAAG,CAAM,CAAC,cAC1CxH,IAAA,SAAMyH,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAEnC,IAAI,CAACqF,GAAG,CAAO,CAAC,EAC7C,CAAC,EACJ,CAAC,cACNxK,KAAA,QAAKuH,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtBxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cACvCxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEnC,IAAI,CAACsF,MAAM,CAAO,CAAC,cAChD3K,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cACxCxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEnC,IAAI,CAACuF,QAAQ,CAAO,CAAC,cAClD5K,IAAA,SAAMyH,SAAS,qBAAAC,MAAA,CAAsBrC,IAAI,CAACC,MAAM,GAAK,IAAI,CAAG,QAAQ,CAAG,UAAU,CAAG,CAAAkC,QAAA,CACjFnC,IAAI,CAACC,MAAM,GAAK,IAAI,CAAG,QAAQ,CAAG,UAAU,CACzC,CAAC,EACJ,CAAC,cACNpF,KAAA,QAAKuH,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtBxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,YAAO,CAAM,CAAC,cAC1CxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEnC,IAAI,CAACwF,MAAM,CAAO,CAAC,EAC7C,CAAC,GArBwFT,GAsB3F,CACN,CAAC,CACC,CAAC,CAEV,CAAC,CAED,KAAM,CAAAtC,gBAAgB,CAAGgD,KAAA,EAYnB,IAZoB,CACxBhG,IAAI,CACJpB,oBAAoB,CACpBC,uBAAuB,CACvBC,gBAAgB,CAChBC,mBAAmB,CACnBC,qBAAqB,CACrBC,wBAAwB,CACxB4B,wBAAwB,CAAE;AAC1BoC,UAAU,CACVC,QAAQ,CACRE,KACF,CAAC,CAAA4C,KAAA,CACC,GAAI,CAACnG,KAAK,CAACC,OAAO,CAACE,IAAI,CAAC,CAAE,mBAAO9E,IAAA,QAAKyH,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,+CAAmC,CAAK,CAAC,CAEvG,KAAM,CAAAuD,iBAAiB,CAAGrH,oBAAoB,CAACnC,IAAI,CAAC,CAAC,GAAK,EAAE,EAAIqC,gBAAgB,EAAIE,qBAAqB,CAEzG,KAAM,CAAAkH,cAAc,CAAGA,CAAA,GAAM,CAC3BrH,uBAAuB,CAAC,EAAE,CAAC,CAC3BE,mBAAmB,CAAC,KAAK,CAAC,CAC1BE,wBAAwB,CAAC,KAAK,CAAC,CACjC,CAAC,CAED,KAAM,CAAAkH,mBAAmB,CAAI7J,QAAQ,EAAK,CACxC,GAAI,CAACA,QAAQ,CAAE,MAAO,CAAE8J,GAAG,CAAE,GAAG,CAAEC,IAAI,CAAE,EAAG,CAAC,CAC5C,KAAM,CAACC,KAAK,CAAED,IAAI,CAAC,CAAG/J,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC,CACzC,MAAO,CACL0J,GAAG,CAAEE,KAAK,EAAI,GAAG,CACjBD,IAAI,CAAE,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEE,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,GAAI,EACjC,CAAC,CACH,CAAC,CAED,mBACEnL,KAAA,QAAKuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCtH,KAAA,QAAKuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCxH,IAAA,UACEsL,EAAE,CAAC,eAAe,CAClBC,IAAI,CAAC,MAAM,CACX9D,SAAS,CAAC,mBAAmB,CAC7B+D,WAAW,CAAC,uBAAoB,CAChCC,KAAK,CAAE/H,oBAAqB,CAC5BgI,QAAQ,CAAGnB,CAAC,EAAK5G,uBAAuB,CAAC4G,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CAC1D,CAAC,cACFvL,KAAA,UAAOuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAClCxH,IAAA,UACEuL,IAAI,CAAC,UAAU,CACfK,OAAO,CAAEhI,gBAAiB,CAC1B8H,QAAQ,CAAGnB,CAAC,EAAK1G,mBAAmB,CAAC0G,CAAC,CAACoB,MAAM,CAACC,OAAO,CAAE,CACxD,CAAC,cACF5L,IAAA,SAAAwH,QAAA,CAAM,eAAa,CAAM,CAAC,EACrB,CAAC,cAERtH,KAAA,UAAOuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAClCxH,IAAA,UACEuL,IAAI,CAAC,UAAU,CACfK,OAAO,CAAE9H,qBAAsB,CAC/B4H,QAAQ,CAAGnB,CAAC,EAAKxG,wBAAwB,CAACwG,CAAC,CAACoB,MAAM,CAACC,OAAO,CAAE,CAC7D,CAAC,cACF5L,IAAA,SAAAwH,QAAA,CAAM,oBAAkB,CAAM,CAAC,EAC1B,CAAC,CAEPuD,iBAAiB,eAChB/K,IAAA,WACEyH,SAAS,CAAC,qBAAqB,CAC/BE,OAAO,CAAEqD,cAAe,CACxBa,KAAK,CAAC,2BAA2B,CAAArE,QAAA,CAClC,gBAED,CAAQ,CACT,CAGAQ,QAAQ,eACPhI,IAAA,WACEyH,SAAS,CAAC,oBAAoB,CAC9BE,OAAO,CAAEK,QAAS,CAClB6D,KAAK,CAAC,gBAAgB,CAAArE,QAAA,CACvB,iBAED,CAAQ,CACT,cAEDtH,KAAA,SAAMgI,KAAK,CAAE,CAAEmC,UAAU,CAAE,MAAM,CAAET,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CAAEiC,UAAU,CAAE,GAAI,CAAE,CAAAtE,QAAA,EAAC,YAC3E,CAAC1C,IAAI,CAAC5D,MAAM,CAAC,MAAI,CAAC6G,UAAU,EAClC,CAAC,EACJ,CAAC,CAELjD,IAAI,CAAC5D,MAAM,GAAK,CAAC,EAAI6J,iBAAiB,cACrC/K,IAAA,QAAKyH,SAAS,CAAC,uBAAuB,CAAAD,QAAA,cACpCtH,KAAA,QAAKuH,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACrCxH,IAAA,SAAMyH,SAAS,CAAC,qBAAqB,CAAAD,QAAA,CAAC,cAAE,CAAM,CAAC,cAC/CtH,KAAA,MAAGuH,SAAS,CAAC,sBAAsB,CAAAD,QAAA,EAAC,kDAElC,CAAC9D,oBAAoB,eAAIxD,KAAA,WAAAsH,QAAA,EAAQ,KAAE,CAAC9D,oBAAoB,CAAC,IAAC,EAAQ,CAAC,CAClEE,gBAAgB,eAAI5D,IAAA,SAAAwH,QAAA,CAAM,gBAAc,CAAM,CAAC,CAC/C1D,qBAAqB,eAAI9D,IAAA,SAAAwH,QAAA,CAAM,qBAAmB,CAAM,CAAC,EACzD,CAAC,cACJxH,IAAA,WACEyH,SAAS,CAAC,+BAA+B,CACzCE,OAAO,CAAEqD,cAAe,CAAAxD,QAAA,CACzB,6BAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CACJ1C,IAAI,CAAC5D,MAAM,GAAK,CAAC,cACnBlB,IAAA,QAAKyH,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,6CAA8B,CAAK,CAAC,cAEjEtH,KAAA,UAAOuH,SAAS,CAAC,yBAAyB,CAAAD,QAAA,eACxCxH,IAAA,UAAAwH,QAAA,cACEtH,KAAA,OAAAsH,QAAA,eACExH,IAAA,OAAI6L,KAAK,CAAC,aAAU,CAAArE,QAAA,CAAC,aAAQ,CAAI,CAAC,cAClCxH,IAAA,OAAI6L,KAAK,CAAC,OAAO,CAAArE,QAAA,CAAC,OAAK,CAAI,CAAC,cAC5BxH,IAAA,OAAI6L,KAAK,CAAC,eAAY,CAAArE,QAAA,CAAC,KAAG,CAAI,CAAC,cAC/BxH,IAAA,OAAI6L,KAAK,CAAC,aAAa,CAAArE,QAAA,CAAC,MAAI,CAAI,CAAC,cACjCxH,IAAA,OAAI6L,KAAK,CAAC,KAAK,CAAArE,QAAA,CAAC,KAAG,CAAI,CAAC,cACxBxH,IAAA,OAAI6L,KAAK,CAAC,eAAe,CAAArE,QAAA,CAAC,UAAQ,CAAI,CAAC,cACvCxH,IAAA,OAAI6L,KAAK,CAAC,iBAAiB,CAAArE,QAAA,CAAC,YAAU,CAAI,CAAC,cAC3CxH,IAAA,OAAI6L,KAAK,CAAC,YAAY,CAAArE,QAAA,CAAC,QAAM,CAAI,CAAC,cAClCxH,IAAA,OAAI6L,KAAK,CAAC,qBAAkB,CAAArE,QAAA,CAAC,MAAI,CAAI,CAAC,cACtCxH,IAAA,OAAI6L,KAAK,CAAC,SAAS,CAAArE,QAAA,CAAC,SAAO,CAAI,CAAC,cAChCxH,IAAA,OAAI6L,KAAK,CAAC,qBAAqB,CAAArE,QAAA,CAAC,cAAY,CAAI,CAAC,cACjDxH,IAAA,OAAI6L,KAAK,CAAC,uBAAuB,CAAArE,QAAA,CAAC,gBAAc,CAAI,CAAC,cACrDxH,IAAA,OAAI6L,KAAK,CAAC,gBAAgB,CAAArE,QAAA,CAAC,aAAW,CAAI,CAAC,cAC3CxH,IAAA,OAAI6L,KAAK,CAAC,oBAAoB,CAAArE,QAAA,CAAC,UAAQ,CAAI,CAAC,EAC1C,CAAC,CACA,CAAC,cACRxH,IAAA,UAAAwH,QAAA,CACG1C,IAAI,CAAC/C,GAAG,CAAC,CAACsD,IAAI,CAAE+E,GAAG,GAAK,KAAA2B,aAAA,CAAAC,aAAA,CAAAC,iBAAA,CACvB,KAAM,CAAAC,YAAY,CAAGlK,MAAM,CAACqD,IAAI,CAACiE,MAAM,CAAC,EAAI,CAAC,CAC7C,KAAM,CAAA6C,cAAc,CAAGnK,MAAM,CAACqD,IAAI,CAACkE,cAAc,CAAC,EAAI,CAAC,CACvD,KAAM,CAAA6C,UAAU,CAAGF,YAAY,CAAGC,cAAc,CAChD,KAAM,CAAAE,MAAM,CAAGhH,IAAI,CAACI,aAAa,GAAK,IAAI,CAC1C;AACA,KAAM,CAAA6G,WAAW,CAAG3G,wBAAwB,EAAIA,wBAAwB,CAACS,GAAG,CAACf,IAAI,CAAC1E,OAAO,CAAC,CAAE;AAC5F,KAAM,CAAA4L,iBAAiB,CAAGlH,IAAI,CAACmH,kBAAkB,GAAK,IAAI,CAE1D,KAAM,CAAAC,WAAW,CAAGL,UAAU,CAAG,CAAC,CAAG,aAAa,CAAGA,UAAU,CAAG,CAAC,CAAG,aAAa,CAAG,cAAc,CACpG,KAAM,CAAAM,UAAU,CAAGN,UAAU,CAAG,CAAC,CAAG,GAAG,CAAGA,UAAU,CAAG,CAAC,CAAG,GAAG,CAAG,GAAG,CACpE,KAAM,CAAAO,WAAW,CAAGP,UAAU,CAAG,CAAC,CAAG,GAAG,CAAG,EAAE,CAE7C,KAAM,CAAAQ,QAAQ,CAAGvH,IAAI,CAACqE,aAAa,GAAK,UAAU,CAAG,IAAI,CAAGrE,IAAI,CAACqE,aAAa,GAAK,cAAc,CAAG,GAAG,CAAG,GAAG,CAE7G,KAAM,CAAAmD,WAAW,CAAG5B,mBAAmB,CAAC5F,IAAI,CAACiB,KAAK,CAAC,CACnD,KAAM,CAAAwG,aAAa,CAAG7B,mBAAmB,CAAC5F,IAAI,CAAC4E,aAAa,CAAC,CAC7D,KAAM,CAAA8C,UAAU,CAAG9B,mBAAmB,CAAC5F,IAAI,CAAC2H,UAAU,CAAC,CAEvD,mBACE9M,KAAA,OAEEuH,SAAS,kBAAAC,MAAA,CAAmB2E,MAAM,CAAG,YAAY,CAAG,EAAE,MAAA3E,MAAA,CAAI4E,WAAW,CAAG,iBAAiB,CAAG,EAAE,MAAA5E,MAAA,CAAI6E,iBAAiB,CAAG,eAAe,CAAG,EAAE,CAAG,CAAA/E,QAAA,eAE7IxH,IAAA,OAAIyH,SAAS,CAAC,aAAa,CAACoE,KAAK,CAAExG,IAAI,CAAC1E,OAAQ,CAAA6G,QAAA,CAC7C,EAAAuE,aAAA,CAAA1G,IAAI,CAAC1E,OAAO,UAAAoL,aAAA,iBAAZA,aAAA,CAAc/E,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,GAAI,KAAK,CAClC,CAAC,cACLhH,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAEnC,IAAI,CAAC6D,KAAK,EAAI,GAAG,CAAK,CAAC,cACjDlJ,IAAA,OAAIyH,SAAS,CAAC,QAAQ,CAACoE,KAAK,CAAExG,IAAI,CAAC8D,OAAQ,CAAA3B,QAAA,CAAE,EAAAwE,aAAA,CAAA3G,IAAI,CAAC8D,OAAO,UAAA6C,aAAA,iBAAZA,aAAA,CAAchF,KAAK,CAAC,CAAC,CAAC,CAAC,GAAI,GAAG,CAAK,CAAC,cACjFhH,IAAA,OAAIyH,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC5BxH,IAAA,SAAMyH,SAAS,kCAAAC,MAAA,EAAAuE,iBAAA,CAAmC5G,IAAI,CAACmE,WAAW,UAAAyC,iBAAA,iBAAhBA,iBAAA,CAAkBhG,WAAW,CAAC,CAAC,CAAG,CAAAuB,QAAA,CACjFnC,IAAI,CAACmE,WAAW,EAAI,GAAG,CACpB,CAAC,CACL,CAAC,cACLxJ,IAAA,OAAIyH,SAAS,CAAC,QAAQ,CAAAD,QAAA,CAAEnC,IAAI,CAAC4H,GAAG,EAAI,GAAG,CAAK,CAAC,cAC7CjN,IAAA,OAAIyH,SAAS,CAAC,WAAW,CAAAD,QAAA,cAACtH,KAAA,WAAAsH,QAAA,EAAQ,GAAC,CAAC0E,YAAY,EAAS,CAAC,CAAI,CAAC,cAC/DhM,KAAA,OAAIuH,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,GAAC,CAAC2E,cAAc,EAAK,CAAC,cAClDnM,IAAA,OAAIyH,SAAS,kBAAAC,MAAA,CAAmB+E,WAAW,CAAG,CAAAjF,QAAA,cAC5CtH,KAAA,WAAAsH,QAAA,EAASkF,UAAU,CAAC,GAAC,CAACC,WAAW,CAAEP,UAAU,EAAS,CAAC,CACrD,CAAC,cACLpM,IAAA,OAAIyH,SAAS,CAAC,SAAS,CAACoE,KAAK,CAAExG,IAAI,CAACqE,aAAc,CAAAlC,QAAA,CAAEoF,QAAQ,CAAK,CAAC,cAClE5M,IAAA,OAAIyH,SAAS,CAAC,YAAY,CAACoE,KAAK,CAAExG,IAAI,CAACoE,OAAQ,CAAAjC,QAAA,cAC7CxH,IAAA,SAAMyH,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAEnC,IAAI,CAACoE,OAAO,EAAI,GAAG,CAAO,CAAC,CAC1D,CAAC,cACLzJ,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBtH,KAAA,QAAKuH,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEqF,WAAW,CAAC3B,GAAG,CAAO,CAAC,cACpDlL,IAAA,SAAMyH,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEqF,WAAW,CAAC1B,IAAI,CAAO,CAAC,EACnD,CAAC,CACJ,CAAC,cACLnL,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBtH,KAAA,QAAKuH,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEsF,aAAa,CAAC5B,GAAG,CAAO,CAAC,cACtDlL,IAAA,SAAMyH,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEsF,aAAa,CAAC3B,IAAI,CAAO,CAAC,EACrD,CAAC,CACJ,CAAC,cACLnL,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBtH,KAAA,QAAKuH,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEuF,UAAU,CAAC7B,GAAG,CAAO,CAAC,cACnDlL,IAAA,SAAMyH,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEuF,UAAU,CAAC5B,IAAI,CAAO,CAAC,EAClD,CAAC,CACJ,CAAC,cACLnL,IAAA,OAAIyH,SAAS,CAAC,cAAc,CAAAD,QAAA,CACzB+E,iBAAiB,eAAIvM,IAAA,SAAMyH,SAAS,CAAC,gBAAgB,CAACoE,KAAK,CAAC,oBAAoB,CAAArE,QAAA,CAAC,IAAE,CAAM,CAAC,CACzF,CAAC,GA3CA4C,GA4CH,CAAC,CAET,CAAC,CAAC,CACG,CAAC,EACH,CACR,EACE,CAAC,CAEV,CAAC,CAED,KAAM,CAAAhC,YAAY,CAAG8E,KAAA,EAQf,IARgB,CACpBpI,IAAI,CACJd,kBAAkB,CAClBC,qBAAqB,CACrBC,iBAAiB,CACjBC,oBAAoB,CACpBmD,kBAAkB,CAClBS,UACF,CAAC,CAAAmF,KAAA,CACC,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAG5N,QAAQ,CAAC,KAAK,CAAC,CAE3D,KAAM,CAAAuL,iBAAiB,CAAG/G,kBAAkB,CAACzC,IAAI,CAAC,CAAC,GAAK,EAAE,EAAI2C,iBAAiB,CAAC3C,IAAI,CAAC,CAAC,GAAK,EAAE,CAE7F,KAAM,CAAAyJ,cAAc,CAAGA,CAAA,GAAM,CAC3B/G,qBAAqB,CAAC,EAAE,CAAC,CACzBE,oBAAoB,CAAC,EAAE,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAkJ,oBAAoB,CAAG3N,OAAO,CAAC,IAAM,CACzC,KAAM,CAAA4N,MAAM,CAAG,CAAC,CAAC,CACjBxI,IAAI,CAACtE,OAAO,CAAC6E,IAAI,EAAI,CACnB,KAAM,CAAA3E,GAAG,CAAG2E,IAAI,CAAC8D,OAAO,EAAI,SAAS,CACrC,GAAI,CAACmE,MAAM,CAAC5M,GAAG,CAAC,CAAE,CAChB4M,MAAM,CAAC5M,GAAG,CAAC,CAAG,CACZC,OAAO,CAAE0E,IAAI,CAAC1E,OAAO,CACrBuI,KAAK,CAAE7D,IAAI,CAAC6D,KAAK,CACjBC,OAAO,CAAE9D,IAAI,CAAC8D,OAAO,CACrB8D,GAAG,CAAE5H,IAAI,CAAC4H,GAAG,CACbM,YAAY,CAAE,EAChB,CAAC,CACH,CACAD,MAAM,CAAC5M,GAAG,CAAC,CAAC6M,YAAY,CAAC3M,IAAI,CAACyE,IAAI,CAAC,CACrC,CAAC,CAAC,CAEF,MAAO,CAAArE,MAAM,CAACwM,MAAM,CAACF,MAAM,CAAC,CAACvL,GAAG,CAAC0L,KAAK,EAAI,CACxC,KAAM,CAAAC,SAAS,CAAG,CAAC,CAAC,CACpBD,KAAK,CAACF,YAAY,CAAC/M,OAAO,CAACmN,IAAI,EAAI,CACjC,KAAM,CAAAC,OAAO,CAAGD,IAAI,CAACE,sBAAsB,EAAI,CAAC,CAChD,KAAM,CAAAC,SAAS,CAAGH,IAAI,CAACI,iBAAiB,EAAI,CAAC,CAC7C,KAAM,CAAAC,WAAW,IAAAtG,MAAA,CAAMkG,OAAO,MAAAlG,MAAA,CAAIoG,SAAS,CAAE,CAE7C,GAAI,CAACJ,SAAS,CAACM,WAAW,CAAC,CAAE,CAC3BN,SAAS,CAACM,WAAW,CAAC,CAAG,CACvBC,sBAAsB,CAAEL,OAAO,CAC/BM,iBAAiB,CAAEJ,SAAS,CAC5BP,YAAY,CAAE,EAChB,CAAC,CACH,CACAG,SAAS,CAACM,WAAW,CAAC,CAACT,YAAY,CAAC3M,IAAI,CAAC+M,IAAI,CAAC,CAChD,CAAC,CAAC,CAEF,OAAAQ,aAAA,CAAAA,aAAA,IACKV,KAAK,MACRC,SAAS,CAAE1M,MAAM,CAACwM,MAAM,CAACE,SAAS,CAAC,GAEvC,CAAC,CAAC,CACJ,CAAC,CAAE,CAAC5I,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAsJ,WAAW,CAAIhN,QAAQ,EAAK,CAChC,GAAI,CAACA,QAAQ,EAAIA,QAAQ,GAAK,gBAAgB,CAAE,MAAO,CAAE8J,GAAG,CAAE,UAAU,CAAEC,IAAI,CAAE,EAAG,CAAC,CACpF,KAAM,CAAC1J,QAAQ,CAAEC,QAAQ,CAAC,CAAGN,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC,CAChD,MAAO,CACL0J,GAAG,CAAEzJ,QAAQ,EAAI,GAAG,CACpB0J,IAAI,CAAE,CAAAzJ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE2J,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,GAAI,EACrC,CAAC,CACH,CAAC,CAED,mBACEnL,KAAA,QAAKuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCtH,KAAA,QAAKuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCxH,IAAA,UACEuL,IAAI,CAAC,MAAM,CACX9D,SAAS,CAAC,mBAAmB,CAC7B+D,WAAW,CAAC,uBAAoB,CAChCC,KAAK,CAAEzH,kBAAmB,CAC1B0H,QAAQ,CAAGnB,CAAC,EAAKtG,qBAAqB,CAACsG,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CACxD,CAAC,cACFvL,KAAA,WACEuH,SAAS,CAAC,mBAAmB,CAC7BgE,KAAK,CAAEvH,iBAAkB,CACzBwH,QAAQ,CAAGnB,CAAC,EAAKpG,oBAAoB,CAACoG,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CACtDvD,KAAK,CAAE,CAAEmG,QAAQ,CAAE,OAAQ,CAAE,CAAA7G,QAAA,eAE7BxH,IAAA,WAAQyL,KAAK,CAAC,EAAE,CAAAjE,QAAA,CAAC,wBAAsB,CAAQ,CAAC,CAC/CF,kBAAkB,CAACvF,GAAG,CAAC4L,IAAI,eAC1B3N,IAAA,WAAmByL,KAAK,CAAEkC,IAAK,CAAAnG,QAAA,CAAEmG,IAAI,EAAxBA,IAAiC,CAC/C,CAAC,EACI,CAAC,cAETzN,KAAA,UAAOuH,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAClCxH,IAAA,UACEuL,IAAI,CAAC,UAAU,CACfK,OAAO,CAAEuB,cAAe,CACxBzB,QAAQ,CAAGnB,CAAC,EAAK6C,iBAAiB,CAAC7C,CAAC,CAACoB,MAAM,CAACC,OAAO,CAAE,CACtD,CAAC,cACF5L,IAAA,SAAAwH,QAAA,CAAM,iBAAe,CAAM,CAAC,EACvB,CAAC,CAEPuD,iBAAiB,eAChB/K,IAAA,WACEyH,SAAS,CAAC,qBAAqB,CAC/BE,OAAO,CAAEqD,cAAe,CACxBa,KAAK,CAAC,2BAA2B,CAAArE,QAAA,CAClC,gBAED,CAAQ,CACT,cAEDtH,KAAA,SAAMgI,KAAK,CAAE,CAAEmC,UAAU,CAAE,MAAM,CAAET,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CAAEiC,UAAU,CAAE,GAAI,CAAE,CAAAtE,QAAA,EAAC,YAC3E,CAAC2F,cAAc,CAAGrI,IAAI,CAAC5D,MAAM,CAAGmM,oBAAoB,CAACnM,MAAM,CAAC,YACxE,EAAM,CAAC,EACJ,CAAC,CAEL4D,IAAI,CAAC5D,MAAM,GAAK,CAAC,EAAI6J,iBAAiB,cACrC/K,IAAA,QAAKyH,SAAS,CAAC,uBAAuB,CAAAD,QAAA,cACpCtH,KAAA,QAAKuH,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACrCxH,IAAA,SAAMyH,SAAS,CAAC,qBAAqB,CAAAD,QAAA,CAAC,cAAE,CAAM,CAAC,cAC/CtH,KAAA,MAAGuH,SAAS,CAAC,sBAAsB,CAAAD,QAAA,EAAC,+CAElC,CAACxD,kBAAkB,eAAI9D,KAAA,WAAAsH,QAAA,EAAQ,KAAE,CAACxD,kBAAkB,CAAC,IAAC,EAAQ,CAAC,CAC9DE,iBAAiB,eAAIhE,KAAA,SAAAsH,QAAA,EAAM,IAAE,CAACtD,iBAAiB,CAAC,GAAC,EAAM,CAAC,EACxD,CAAC,cACJlE,IAAA,WACEyH,SAAS,CAAC,+BAA+B,CACzCE,OAAO,CAAEqD,cAAe,CAAAxD,QAAA,CACzB,6BAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CACJ1C,IAAI,CAAC5D,MAAM,GAAK,CAAC,cACnBlB,IAAA,QAAKyH,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,kDAAsC,CAAK,CAAC,CACvE2F,cAAc,cAChBjN,KAAA,UAAOuH,SAAS,CAAC,yBAAyB,CAAAD,QAAA,eACxCxH,IAAA,UAAAwH,QAAA,cACEtH,KAAA,OAAAsH,QAAA,eACExH,IAAA,OAAAwH,QAAA,CAAI,aAAQ,CAAI,CAAC,cACjBxH,IAAA,OAAAwH,QAAA,CAAI,OAAK,CAAI,CAAC,cACdxH,IAAA,OAAAwH,QAAA,CAAI,KAAG,CAAI,CAAC,cACZxH,IAAA,OAAAwH,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBxH,IAAA,OAAAwH,QAAA,CAAI,KAAG,CAAI,CAAC,cACZxH,IAAA,OAAAwH,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBxH,IAAA,OAAAwH,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BxH,IAAA,OAAAwH,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBxH,IAAA,OAAAwH,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BxH,IAAA,OAAAwH,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBxH,IAAA,OAAAwH,QAAA,CAAI,oBAAkB,CAAI,CAAC,EACzB,CAAC,CACA,CAAC,cACRxH,IAAA,UAAAwH,QAAA,CACG1C,IAAI,CAAC/C,GAAG,CAAC,CAACsD,IAAI,CAAE+E,GAAG,GAAK,KAAAkE,iBAAA,CACvB,KAAM,CAAAV,OAAO,CAAGvI,IAAI,CAACwI,sBAAsB,EAAI,CAAC,CAChD,KAAM,CAAAC,SAAS,CAAGzI,IAAI,CAAC0I,iBAAiB,EAAI,CAAC,CAC7C,KAAM,CAAAQ,SAAS,CAAGH,WAAW,CAAC/I,IAAI,CAACmJ,kBAAkB,CAAC,CACtD,KAAM,CAAAC,cAAc,CAAGpJ,IAAI,CAACqJ,eAAe,EAAI,CAAC,CAChD,KAAM,CAAAC,kBAAkB,CAAGtJ,IAAI,CAACuJ,mBAAmB,EAAI,CAAC,CACxD,KAAM,CAAAC,YAAY,CAAGxJ,IAAI,CAACyJ,aAAa,EAAI,qBAAqB,CAEhE,mBACE5O,KAAA,OAAAsH,QAAA,eACExH,IAAA,OAAIyH,SAAS,CAAC,aAAa,CAACoE,KAAK,CAAExG,IAAI,CAAC1E,OAAQ,CAAA6G,QAAA,CAC7CnC,IAAI,CAAC1E,OAAO,EAAI,KAAK,CACpB,CAAC,cACLX,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAEnC,IAAI,CAAC6D,KAAK,EAAI,GAAG,CAAK,CAAC,cACjDlJ,IAAA,OAAIyH,SAAS,CAAC,QAAQ,CAACoE,KAAK,CAAExG,IAAI,CAAC8D,OAAQ,CAAA3B,QAAA,CACxCnC,IAAI,CAAC8D,OAAO,EAAI,GAAG,CAClB,CAAC,cACLnJ,IAAA,OAAIyH,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC5BxH,IAAA,SAAMyH,SAAS,kCAAAC,MAAA,EAAA4G,iBAAA,CAAmCjJ,IAAI,CAACmB,WAAW,UAAA8H,iBAAA,iBAAhBA,iBAAA,CAAkBrI,WAAW,CAAC,CAAC,CAAG,CAAAuB,QAAA,CACjFnC,IAAI,CAACmB,WAAW,EAAI,GAAG,CACpB,CAAC,CACL,CAAC,cACLxG,IAAA,OAAIyH,SAAS,CAAC,QAAQ,CAAAD,QAAA,CAAEnC,IAAI,CAAC4H,GAAG,EAAI,GAAG,CAAK,CAAC,cAC7CjN,IAAA,OAAIyH,SAAS,CAAC,WAAW,CAAAD,QAAA,cAACtH,KAAA,WAAAsH,QAAA,EAAQ,GAAC,CAACiH,cAAc,EAAS,CAAC,CAAI,CAAC,cACjEzO,IAAA,OAAIyH,SAAS,CAAC,WAAW,CAAAD,QAAA,cAACtH,KAAA,WAAAsH,QAAA,EAAQ,GAAC,CAACmH,kBAAkB,EAAS,CAAC,CAAI,CAAC,cACrE3O,IAAA,OAAIyH,SAAS,kBAAAC,MAAA,CAAmBkG,OAAO,CAAG,CAAC,CAAG,aAAa,CAAGA,OAAO,CAAG,CAAC,CAAG,aAAa,CAAG,cAAc,CAAG,CAAApG,QAAA,cAC3GtH,KAAA,WAAAsH,QAAA,EACGoG,OAAO,CAAG,CAAC,CAAG,KAAK,CAAGA,OAAO,CAAG,CAAC,CAAG,IAAI,CAAG,EAAE,CAAEA,OAAO,EACjD,CAAC,CACP,CAAC,cACL5N,IAAA,OAAIyH,SAAS,kBAAAC,MAAA,CAAmBoG,SAAS,CAAG,CAAC,CAAG,aAAa,CAAGA,SAAS,CAAG,CAAC,CAAG,aAAa,CAAG,cAAc,CAAG,CAAAtG,QAAA,cAC/GtH,KAAA,WAAAsH,QAAA,EACGsG,SAAS,CAAG,CAAC,CAAG,KAAK,CAAGA,SAAS,CAAG,CAAC,CAAG,IAAI,CAAG,EAAE,CAAEA,SAAS,EACvD,CAAC,CACP,CAAC,cACL9N,IAAA,OAAIyH,SAAS,CAAC,kBAAkB,CAACS,KAAK,CAAE,CAAE2B,QAAQ,CAAE,MAAO,CAAE,CAAArC,QAAA,CAC1DqH,YAAY,CACX,CAAC,cACL7O,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBtH,KAAA,QAAKuH,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAE+G,SAAS,CAACrD,GAAG,CAAO,CAAC,CACjDqD,SAAS,CAACpD,IAAI,eAAInL,IAAA,SAAMyH,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAE+G,SAAS,CAACpD,IAAI,CAAO,CAAC,EACpE,CAAC,CACJ,CAAC,GAlCEf,GAmCL,CAAC,CAET,CAAC,CAAC,CACG,CAAC,EACH,CAAC,cAERlK,KAAA,UAAOuH,SAAS,CAAC,4CAA4C,CAAAD,QAAA,eAC3DxH,IAAA,UAAAwH,QAAA,cACEtH,KAAA,OAAAsH,QAAA,eACExH,IAAA,OAAAwH,QAAA,CAAI,aAAQ,CAAI,CAAC,cACjBxH,IAAA,OAAAwH,QAAA,CAAI,OAAK,CAAI,CAAC,cACdxH,IAAA,OAAAwH,QAAA,CAAI,KAAG,CAAI,CAAC,cACZxH,IAAA,OAAAwH,QAAA,CAAI,KAAG,CAAI,CAAC,cACZxH,IAAA,OAAAwH,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBxH,IAAA,OAAAwH,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBxH,IAAA,OAAAwH,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBxH,IAAA,OAAAwH,QAAA,CAAI,gBAAc,CAAI,CAAC,EACrB,CAAC,CACA,CAAC,cACRxH,IAAA,UAAAwH,QAAA,CACG6F,oBAAoB,CAACtL,GAAG,CAAC,CAAC0L,KAAK,CAAErD,GAAG,GAAK,CACxC,MAAO,CAAAqD,KAAK,CAACC,SAAS,CAAC3L,GAAG,CAAC,CAACgN,QAAQ,CAAEC,MAAM,GAAK,KAAAC,qBAAA,CAAAC,cAAA,CAAAC,cAAA,CAC/C,KAAM,CAAAC,QAAQ,CAAGhB,WAAW,EAAAa,qBAAA,CAACF,QAAQ,CAACxB,YAAY,CAAC,CAAC,CAAC,UAAA0B,qBAAA,iBAAxBA,qBAAA,CAA0BI,qBAAqB,CAAC,CAC7E,KAAM,CAAAzB,OAAO,CAAGmB,QAAQ,CAACd,sBAAsB,CAC/C,KAAM,CAAAH,SAAS,CAAGiB,QAAQ,CAACb,iBAAiB,CAE5C,mBACEhO,KAAA,OAAAsH,QAAA,EACGwH,MAAM,GAAK,CAAC,eACX9O,KAAA,CAAAE,SAAA,EAAAoH,QAAA,eACExH,IAAA,OAAIyH,SAAS,CAAC,aAAa,CAAC6H,OAAO,CAAE7B,KAAK,CAACC,SAAS,CAACxM,MAAO,CAAC2K,KAAK,CAAE4B,KAAK,CAAC9M,OAAQ,CAAA6G,QAAA,CAC/E,EAAA0H,cAAA,CAAAzB,KAAK,CAAC9M,OAAO,UAAAuO,cAAA,iBAAbA,cAAA,CAAelI,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,GAAI,KAAK,CACnC,CAAC,cACLhH,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAC6H,OAAO,CAAE7B,KAAK,CAACC,SAAS,CAACxM,MAAO,CAAAsG,QAAA,CAAEiG,KAAK,CAACvE,KAAK,EAAI,GAAG,CAAK,CAAC,cACnFlJ,IAAA,OAAIyH,SAAS,CAAC,QAAQ,CAAC6H,OAAO,CAAE7B,KAAK,CAACC,SAAS,CAACxM,MAAO,CAAC2K,KAAK,CAAE4B,KAAK,CAACtE,OAAQ,CAAA3B,QAAA,CAC1E,EAAA2H,cAAA,CAAA1B,KAAK,CAACtE,OAAO,UAAAgG,cAAA,iBAAbA,cAAA,CAAenI,KAAK,CAAC,CAAC,CAAC,CAAC,GAAI,GAAG,CAC9B,CAAC,cACLhH,IAAA,OAAIyH,SAAS,CAAC,QAAQ,CAAC6H,OAAO,CAAE7B,KAAK,CAACC,SAAS,CAACxM,MAAO,CAAAsG,QAAA,CAAEiG,KAAK,CAACR,GAAG,EAAI,GAAG,CAAK,CAAC,EAC/E,CACH,cACDjN,IAAA,OAAIyH,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAC5BuH,QAAQ,CAACxB,YAAY,CAACxL,GAAG,CAAC,CAACwN,CAAC,CAAEnG,CAAC,QAAAoG,cAAA,oBAC9BxP,IAAA,SAAcyH,SAAS,kCAAAC,MAAA,EAAA8H,cAAA,CAAmCD,CAAC,CAAC/I,WAAW,UAAAgJ,cAAA,iBAAbA,cAAA,CAAevJ,WAAW,CAAC,CAAC,CAAG,CAACiC,KAAK,CAAE,CAAEuH,WAAW,CAAE,KAAM,CAAE,CAAAjI,QAAA,CACrH+H,CAAC,CAAC/I,WAAW,EADL4C,CAEL,CAAC,EACR,CAAC,CACA,CAAC,cACLpJ,IAAA,OAAIyH,SAAS,kBAAAC,MAAA,CAAmBkG,OAAO,CAAG,CAAC,CAAG,aAAa,CAAGA,OAAO,CAAG,CAAC,CAAG,aAAa,CAAG,cAAc,CAAG,CAAApG,QAAA,cAC3GtH,KAAA,WAAAsH,QAAA,EAASoG,OAAO,CAAG,CAAC,CAAG,GAAG,CAAGA,OAAO,CAAG,CAAC,CAAG,GAAG,CAAG,GAAG,CAAC,GAAC,CAACA,OAAO,CAAG,CAAC,CAAG,GAAG,CAAG,EAAE,CAAEA,OAAO,EAAS,CAAC,CAC9F,CAAC,cACL5N,IAAA,OAAIyH,SAAS,kBAAAC,MAAA,CAAmBoG,SAAS,CAAG,CAAC,CAAG,aAAa,CAAGA,SAAS,CAAG,CAAC,CAAG,aAAa,CAAG,cAAc,CAAG,CAAAtG,QAAA,cAC/GtH,KAAA,WAAAsH,QAAA,EAASsG,SAAS,CAAG,CAAC,CAAG,GAAG,CAAGA,SAAS,CAAG,CAAC,CAAG,GAAG,CAAG,GAAG,CAAC,GAAC,CAACA,SAAS,CAAG,CAAC,CAAG,GAAG,CAAG,EAAE,CAAEA,SAAS,EAAS,CAAC,CACtG,CAAC,cACL9N,IAAA,OAAIyH,SAAS,CAAC,UAAU,CAAAD,QAAA,cACtBtH,KAAA,QAAKuH,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BxH,IAAA,SAAMyH,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAE4H,QAAQ,CAAClE,GAAG,CAAO,CAAC,CAChDkE,QAAQ,CAACjE,IAAI,eAAInL,IAAA,SAAMyH,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAE4H,QAAQ,CAACjE,IAAI,CAAO,CAAC,EAClE,CAAC,CACJ,CAAC,MAAAzD,MAAA,CA/BK0C,GAAG,MAAA1C,MAAA,CAAIsH,MAAM,CAgCrB,CAAC,CAET,CAAC,CAAC,CACJ,CAAC,CAAC,CACG,CAAC,EACH,CACR,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3M,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}