{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport { createCustomIcon, createBrandLogo } from '../utils/iconHelpers';\nconst IconMarkersLayer = ({\n  markers,\n  selectedRegion\n}) => {\n  _s();\n  const map = useMap();\n  const markersRef = useRef({});\n  const competenciaMarkersRef = useRef({});\n  const updateInProgressRef = useRef(false);\n  const [showingCompetencia, setShowingCompetencia] = useState(false);\n  const [currentPbl, setCurrentPbl] = useState(null);\n  const makeDraggable = useCallback(popup => {\n    if (!map || !popup || !popup._container) return;\n    try {\n      const pos = map.latLngToLayerPoint(popup.getLatLng());\n      L.DomUtil.setPosition(popup._wrapper.parentNode, pos);\n      const draggable = new L.Draggable(popup._container, popup._wrapper);\n      draggable.enable();\n    } catch (error) {\n      console.error('Error draggable:', error);\n    }\n  }, [map]);\n  const clearCompetencia = useCallback(() => {\n    Object.values(competenciaMarkersRef.current).forEach(marker => {\n      try {\n        if (map && map.hasLayer(marker)) {\n          map.removeLayer(marker);\n        }\n      } catch (error) {\n        console.error('Error removiendo competencia:', error);\n      }\n    });\n    competenciaMarkersRef.current = {};\n  }, [map]);\n  const showCompetencia = useCallback(pbl => {\n    console.log(`üîç Mostrando competencia para PBL: ${pbl}`);\n    if (showingCompetencia && currentPbl === pbl) {\n      clearCompetencia();\n      setShowingCompetencia(false);\n      setCurrentPbl(null);\n      return;\n    }\n    clearCompetencia();\n    const baseComp = window.baseCompData || [];\n    if (!Array.isArray(baseComp)) return;\n    const competencia = baseComp.filter(item => String(item.pbl).trim() === String(pbl).trim());\n    console.log(`üìç Competencia encontrada: ${competencia.length}`);\n    if (competencia.length === 0) return;\n    competencia.forEach(comp => {\n      try {\n        const originalMarker = markers.find(m => m.id === comp.id);\n        if (!originalMarker) return;\n        const compId = `comp-${comp.id}`;\n        const leafletMarker = L.marker([originalMarker.lat, originalMarker.lng], {\n          icon: createCustomIcon(comp.Marca),\n          title: `${comp.Marca}`\n        });\n        const popupContent = `\n          <div class=\"popup-container\">\n            <div class=\"popup-header\">\n              <img \n                src=\"${createBrandLogo(comp.Marca)}\"\n                alt=\"${comp.Marca}\"\n                style=\"width: 30px; height: 30px; border-radius: 50%; object-fit: cover; margin-right: 8px;\"\n                onerror=\"this.style.display='none'\"\n              />\n              <h3 style=\"margin: 0;\">üè™ ${comp.Marca}</h3>\n            </div>\n            <div class=\"popup-content\">\n              <div class=\"popup-data\">\n                <strong>ID:</strong> ${comp.id}<br />\n                <strong>PBL:</strong> ${comp.pbl}<br />\n                <strong>Marca:</strong> ${comp.Marca}<br />\n              </div>\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n              <div class=\"popup-data\">\n                <strong>Precios:</strong><br />\n                G93: ${comp.precio_g93 ? `$${comp.precio_g93}` : 'N/A'}<br />\n                G95: ${comp.precio_g95 ? `$${comp.precio_g95}` : 'N/A'}<br />\n                Diesel: ${comp.precio_diesel ? `$${comp.precio_diesel}` : 'N/A'}<br />\n              </div>\n            </div>\n          </div>\n        `;\n        const popup = L.popup({\n          maxWidth: 300,\n          autoClose: false,\n          closeOnClick: false\n        }).setContent(popupContent);\n        leafletMarker.bindPopup(popup);\n        leafletMarker.on('popupopen', () => makeDraggable(leafletMarker.getPopup()));\n        leafletMarker.on('click', () => leafletMarker.openPopup());\n        leafletMarker.addTo(map);\n        competenciaMarkersRef.current[compId] = leafletMarker;\n      } catch (error) {\n        console.error('Error competencia:', error);\n      }\n    });\n    setShowingCompetencia(true);\n    setCurrentPbl(pbl);\n  }, [markers, map, makeDraggable, clearCompetencia, showingCompetencia, currentPbl]);\n\n  // Exponer funci√≥n globalmente\n  useEffect(() => {\n    window.showCompetencia = showCompetencia;\n  }, [showCompetencia]);\n  const updateMarkers = useCallback(markersToShow => {\n    if (!map || updateInProgressRef.current) return;\n    updateInProgressRef.current = true;\n    Object.values(markersRef.current).forEach(marker => {\n      try {\n        if (map.hasLayer(marker)) {\n          map.removeLayer(marker);\n        }\n      } catch (error) {\n        console.error('Error removiendo:', error);\n      }\n    });\n    markersRef.current = {};\n    clearCompetencia();\n    setShowingCompetencia(false);\n    setCurrentPbl(null);\n    console.log(`üìç Agregando ${markersToShow.length} marcadores`);\n    markersToShow.forEach(marker => {\n      try {\n        const markerId = `${marker.id}-${marker.Marca}`;\n        const uniqueId = `marker-${Date.now()}-${Math.random()}`;\n        if (markersRef.current[markerId]) return;\n        const leafletMarker = L.marker([marker.lat, marker.lng], {\n          icon: createCustomIcon(marker.Marca),\n          title: marker.nombre || marker.Marca\n        });\n        const popupContent = `\n          <div class=\"popup-container\">\n            <div class=\"popup-header\">\n              <img \n                src=\"${createBrandLogo(marker.Marca)}\"\n                alt=\"${marker.Marca}\"\n                style=\"width: 30px; height: 30px; border-radius: 50%; object-fit: cover; margin-right: 8px;\"\n                onerror=\"this.style.display='none'\"\n              />\n              <h3 style=\"margin: 0;\">${marker.nombre || marker.Marca}</h3>\n            </div>\n            <div class=\"popup-content\">\n              <div class=\"popup-data\">\n                <strong>Marca:</strong> ${marker.Marca}<br />\n                <strong>PBL:</strong> ${marker.pbl || '-'}<br />\n                <strong>Region:</strong> ${marker.Region}<br />\n                <strong>Comuna:</strong> ${marker.Comuna}<br />\n                ${marker.direccion ? `<strong>Direcci√≥n:</strong> ${marker.direccion}<br />` : ''}\n                ${marker.eds ? `<strong>EDS:</strong> ${marker.eds}<br />` : ''}\n              </div>\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n              <div class=\"popup-data\">\n                <strong>Precios:</strong><br />\n                G93: ${marker.precio_g93 ? `$${marker.precio_g93}` : 'N/A'}<br />\n                G95: ${marker.precio_g95 ? `$${marker.precio_g95}` : 'N/A'}<br />\n                Diesel: ${marker.precio_diesel ? `$${marker.precio_diesel}` : 'N/A'}<br />\n              </div>\n              ${marker.Guerra_Precio === 'Si' ? `\n                <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n                <div class=\"popup-data\" style=\"color: #d32f2f; font-weight: bold;\">\n                  ‚ö†Ô∏è Guerra de Precio Activa\n                </div>\n              ` : ''}\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\n              <div id=\"competencia-${uniqueId}\"></div>\n            </div>\n          </div>\n        `;\n        const popup = L.popup({\n          maxWidth: 400,\n          minWidth: 300,\n          autoClose: false,\n          closeOnClick: false\n        }).setContent(popupContent);\n        leafletMarker.bindPopup(popup);\n        leafletMarker.on('popupopen', () => {\n          makeDraggable(leafletMarker.getPopup());\n          setTimeout(() => {\n            const container = document.getElementById(`competencia-${uniqueId}`);\n            if (container && marker.pbl) {\n              container.innerHTML = `\n                <button class=\"btn-competencia\" onclick=\"window.showCompetencia && window.showCompetencia('${marker.pbl}')\">\n                  üîç Ver Competencia\n                </button>\n              `;\n            }\n          }, 150);\n        });\n        leafletMarker.on('click', () => leafletMarker.openPopup());\n        leafletMarker.addTo(map);\n        markersRef.current[markerId] = leafletMarker;\n      } catch (error) {\n        console.error('Error marcador:', error);\n      }\n    });\n    updateInProgressRef.current = false;\n  }, [map, makeDraggable, clearCompetencia]);\n  useEffect(() => {\n    if (!map || !markers || markers.length === 0) {\n      Object.values(markersRef.current).forEach(marker => {\n        try {\n          if (map && map.hasLayer(marker)) {\n            map.removeLayer(marker);\n          }\n        } catch (error) {\n          console.error('Error:', error);\n        }\n      });\n      markersRef.current = {};\n      clearCompetencia();\n      return;\n    }\n    console.log(`‚úÖ Actualizando ${markers.length} marcadores`);\n    updateMarkers(markers);\n  }, [markers, selectedRegion, map, updateMarkers, clearCompetencia]);\n  return null;\n};\n_s(IconMarkersLayer, \"M9EqHIAHlobg5weYpIS8YwqZL2U=\", false, function () {\n  return [useMap];\n});\n_c = IconMarkersLayer;\nexport default IconMarkersLayer;\nvar _c;\n$RefreshReg$(_c, \"IconMarkersLayer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","useMap","L","createCustomIcon","createBrandLogo","IconMarkersLayer","markers","selectedRegion","_s","map","markersRef","competenciaMarkersRef","updateInProgressRef","showingCompetencia","setShowingCompetencia","currentPbl","setCurrentPbl","makeDraggable","popup","_container","pos","latLngToLayerPoint","getLatLng","DomUtil","setPosition","_wrapper","parentNode","draggable","Draggable","enable","error","console","clearCompetencia","Object","values","current","forEach","marker","hasLayer","removeLayer","showCompetencia","pbl","log","baseComp","window","baseCompData","Array","isArray","competencia","filter","item","String","trim","length","comp","originalMarker","find","m","id","compId","leafletMarker","lat","lng","icon","Marca","title","popupContent","precio_g93","precio_g95","precio_diesel","maxWidth","autoClose","closeOnClick","setContent","bindPopup","on","getPopup","openPopup","addTo","updateMarkers","markersToShow","markerId","uniqueId","Date","now","Math","random","nombre","Region","Comuna","direccion","eds","Guerra_Precio","minWidth","setTimeout","container","document","getElementById","innerHTML","_c","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/IconMarkersLayer.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport { createCustomIcon, createBrandLogo } from '../utils/iconHelpers';\r\n\r\nconst IconMarkersLayer = ({ markers, selectedRegion }) => {\r\n  const map = useMap();\r\n  const markersRef = useRef({});\r\n  const competenciaMarkersRef = useRef({});\r\n  const updateInProgressRef = useRef(false);\r\n  const [showingCompetencia, setShowingCompetencia] = useState(false);\r\n  const [currentPbl, setCurrentPbl] = useState(null);\r\n\r\n  const makeDraggable = useCallback((popup) => {\r\n    if (!map || !popup || !popup._container) return;\r\n    try {\r\n      const pos = map.latLngToLayerPoint(popup.getLatLng());\r\n      L.DomUtil.setPosition(popup._wrapper.parentNode, pos);\r\n      const draggable = new L.Draggable(popup._container, popup._wrapper);\r\n      draggable.enable();\r\n    } catch (error) {\r\n      console.error('Error draggable:', error);\r\n    }\r\n  }, [map]);\r\n\r\n  const clearCompetencia = useCallback(() => {\r\n    Object.values(competenciaMarkersRef.current).forEach(marker => {\r\n      try {\r\n        if (map && map.hasLayer(marker)) {\r\n          map.removeLayer(marker);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error removiendo competencia:', error);\r\n      }\r\n    });\r\n    competenciaMarkersRef.current = {};\r\n  }, [map]);\r\n\r\n  const showCompetencia = useCallback((pbl) => {\r\n    console.log(`üîç Mostrando competencia para PBL: ${pbl}`);\r\n\r\n    if (showingCompetencia && currentPbl === pbl) {\r\n      clearCompetencia();\r\n      setShowingCompetencia(false);\r\n      setCurrentPbl(null);\r\n      return;\r\n    }\r\n\r\n    clearCompetencia();\r\n\r\n    const baseComp = window.baseCompData || [];\r\n    if (!Array.isArray(baseComp)) return;\r\n\r\n    const competencia = baseComp.filter(item => \r\n      String(item.pbl).trim() === String(pbl).trim()\r\n    );\r\n\r\n    console.log(`üìç Competencia encontrada: ${competencia.length}`);\r\n\r\n    if (competencia.length === 0) return;\r\n\r\n    competencia.forEach((comp) => {\r\n      try {\r\n        const originalMarker = markers.find(m => m.id === comp.id);\r\n        if (!originalMarker) return;\r\n\r\n        const compId = `comp-${comp.id}`;\r\n\r\n        const leafletMarker = L.marker([originalMarker.lat, originalMarker.lng], {\r\n          icon: createCustomIcon(comp.Marca),\r\n          title: `${comp.Marca}`\r\n        });\r\n\r\n        const popupContent = `\r\n          <div class=\"popup-container\">\r\n            <div class=\"popup-header\">\r\n              <img \r\n                src=\"${createBrandLogo(comp.Marca)}\"\r\n                alt=\"${comp.Marca}\"\r\n                style=\"width: 30px; height: 30px; border-radius: 50%; object-fit: cover; margin-right: 8px;\"\r\n                onerror=\"this.style.display='none'\"\r\n              />\r\n              <h3 style=\"margin: 0;\">üè™ ${comp.Marca}</h3>\r\n            </div>\r\n            <div class=\"popup-content\">\r\n              <div class=\"popup-data\">\r\n                <strong>ID:</strong> ${comp.id}<br />\r\n                <strong>PBL:</strong> ${comp.pbl}<br />\r\n                <strong>Marca:</strong> ${comp.Marca}<br />\r\n              </div>\r\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n              <div class=\"popup-data\">\r\n                <strong>Precios:</strong><br />\r\n                G93: ${comp.precio_g93 ? `$${comp.precio_g93}` : 'N/A'}<br />\r\n                G95: ${comp.precio_g95 ? `$${comp.precio_g95}` : 'N/A'}<br />\r\n                Diesel: ${comp.precio_diesel ? `$${comp.precio_diesel}` : 'N/A'}<br />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        `;\r\n\r\n        const popup = L.popup({\r\n          maxWidth: 300,\r\n          autoClose: false,\r\n          closeOnClick: false\r\n        }).setContent(popupContent);\r\n\r\n        leafletMarker.bindPopup(popup);\r\n        leafletMarker.on('popupopen', () => makeDraggable(leafletMarker.getPopup()));\r\n        leafletMarker.on('click', () => leafletMarker.openPopup());\r\n        leafletMarker.addTo(map);\r\n        competenciaMarkersRef.current[compId] = leafletMarker;\r\n\r\n      } catch (error) {\r\n        console.error('Error competencia:', error);\r\n      }\r\n    });\r\n\r\n    setShowingCompetencia(true);\r\n    setCurrentPbl(pbl);\r\n  }, [markers, map, makeDraggable, clearCompetencia, showingCompetencia, currentPbl]);\r\n\r\n  // Exponer funci√≥n globalmente\r\n  useEffect(() => {\r\n    window.showCompetencia = showCompetencia;\r\n  }, [showCompetencia]);\r\n\r\n  const updateMarkers = useCallback((markersToShow) => {\r\n    if (!map || updateInProgressRef.current) return;\r\n    updateInProgressRef.current = true;\r\n\r\n    Object.values(markersRef.current).forEach(marker => {\r\n      try {\r\n        if (map.hasLayer(marker)) {\r\n          map.removeLayer(marker);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error removiendo:', error);\r\n      }\r\n    });\r\n    markersRef.current = {};\r\n\r\n    clearCompetencia();\r\n    setShowingCompetencia(false);\r\n    setCurrentPbl(null);\r\n\r\n    console.log(`üìç Agregando ${markersToShow.length} marcadores`);\r\n\r\n    markersToShow.forEach((marker) => {\r\n      try {\r\n        const markerId = `${marker.id}-${marker.Marca}`;\r\n        const uniqueId = `marker-${Date.now()}-${Math.random()}`;\r\n\r\n        if (markersRef.current[markerId]) return;\r\n\r\n        const leafletMarker = L.marker([marker.lat, marker.lng], {\r\n          icon: createCustomIcon(marker.Marca),\r\n          title: marker.nombre || marker.Marca\r\n        });\r\n\r\n        const popupContent = `\r\n          <div class=\"popup-container\">\r\n            <div class=\"popup-header\">\r\n              <img \r\n                src=\"${createBrandLogo(marker.Marca)}\"\r\n                alt=\"${marker.Marca}\"\r\n                style=\"width: 30px; height: 30px; border-radius: 50%; object-fit: cover; margin-right: 8px;\"\r\n                onerror=\"this.style.display='none'\"\r\n              />\r\n              <h3 style=\"margin: 0;\">${marker.nombre || marker.Marca}</h3>\r\n            </div>\r\n            <div class=\"popup-content\">\r\n              <div class=\"popup-data\">\r\n                <strong>Marca:</strong> ${marker.Marca}<br />\r\n                <strong>PBL:</strong> ${marker.pbl || '-'}<br />\r\n                <strong>Region:</strong> ${marker.Region}<br />\r\n                <strong>Comuna:</strong> ${marker.Comuna}<br />\r\n                ${marker.direccion ? `<strong>Direcci√≥n:</strong> ${marker.direccion}<br />` : ''}\r\n                ${marker.eds ? `<strong>EDS:</strong> ${marker.eds}<br />` : ''}\r\n              </div>\r\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n              <div class=\"popup-data\">\r\n                <strong>Precios:</strong><br />\r\n                G93: ${marker.precio_g93 ? `$${marker.precio_g93}` : 'N/A'}<br />\r\n                G95: ${marker.precio_g95 ? `$${marker.precio_g95}` : 'N/A'}<br />\r\n                Diesel: ${marker.precio_diesel ? `$${marker.precio_diesel}` : 'N/A'}<br />\r\n              </div>\r\n              ${marker.Guerra_Precio === 'Si' ? `\r\n                <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n                <div class=\"popup-data\" style=\"color: #d32f2f; font-weight: bold;\">\r\n                  ‚ö†Ô∏è Guerra de Precio Activa\r\n                </div>\r\n              ` : ''}\r\n              <hr style=\"margin: 10px 0; border: none; border-top: 1px solid #e0e0e0\" />\r\n              <div id=\"competencia-${uniqueId}\"></div>\r\n            </div>\r\n          </div>\r\n        `;\r\n\r\n        const popup = L.popup({\r\n          maxWidth: 400,\r\n          minWidth: 300,\r\n          autoClose: false,\r\n          closeOnClick: false\r\n        }).setContent(popupContent);\r\n\r\n        leafletMarker.bindPopup(popup);\r\n\r\n        leafletMarker.on('popupopen', () => {\r\n          makeDraggable(leafletMarker.getPopup());\r\n          \r\n          setTimeout(() => {\r\n            const container = document.getElementById(`competencia-${uniqueId}`);\r\n            if (container && marker.pbl) {\r\n              container.innerHTML = `\r\n                <button class=\"btn-competencia\" onclick=\"window.showCompetencia && window.showCompetencia('${marker.pbl}')\">\r\n                  üîç Ver Competencia\r\n                </button>\r\n              `;\r\n            }\r\n          }, 150);\r\n        });\r\n\r\n        leafletMarker.on('click', () => leafletMarker.openPopup());\r\n        leafletMarker.addTo(map);\r\n        markersRef.current[markerId] = leafletMarker;\r\n\r\n      } catch (error) {\r\n        console.error('Error marcador:', error);\r\n      }\r\n    });\r\n\r\n    updateInProgressRef.current = false;\r\n  }, [map, makeDraggable, clearCompetencia]);\r\n\r\n  useEffect(() => {\r\n    if (!map || !markers || markers.length === 0) {\r\n      Object.values(markersRef.current).forEach(marker => {\r\n        try {\r\n          if (map && map.hasLayer(marker)) {\r\n            map.removeLayer(marker);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error:', error);\r\n        }\r\n      });\r\n      markersRef.current = {};\r\n      clearCompetencia();\r\n      return;\r\n    }\r\n\r\n    console.log(`‚úÖ Actualizando ${markers.length} marcadores`);\r\n    updateMarkers(markers);\r\n\r\n  }, [markers, selectedRegion, map, updateMarkers, clearCompetencia]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default IconMarkersLayer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}