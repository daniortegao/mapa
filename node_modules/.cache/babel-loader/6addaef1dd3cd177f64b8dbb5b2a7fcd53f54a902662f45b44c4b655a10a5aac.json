{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e08f\\\\Desktop\\\\Proyectos\\\\Resumen\\\\mapa-v2\\\\src\\\\components\\\\FilterPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilterPanel = ({\n  markers,\n  allMarkers,\n  selectedRegion,\n  onFiltersChange,\n  onStationSelect\n}) => {\n  _s();\n  const [selectedComuna, setSelectedComuna] = useState('');\n  const [selectedMarca, setSelectedMarca] = useState('');\n  const [selectedJefeZona, setSelectedJefeZona] = useState('');\n  const [selectedEds, setSelectedEds] = useState('');\n  const [edsSearchTerm, setEdsSearchTerm] = useState('');\n  const [globalEdsSearch, setGlobalEdsSearch] = useState('');\n  const [globalEdsSearchTerm, setGlobalEdsSearchTerm] = useState('');\n  const [soloGuerraPrecios, setSoloGuerraPrecios] = useState(false);\n  const [soloEstacionesPES, setSoloEstacionesPES] = useState(false);\n  console.log('ðŸŽ¨ FilterPanel RENDER:', {\n    selectedRegion,\n    selectedComuna,\n    selectedMarca\n  });\n  const tuasMarcas = ['Aramco', 'Petrobras'];\n\n  // Normalize string for comparison (trim and lowercase)\n  const normalizeString = str => {\n    return str ? str.trim().toLowerCase() : '';\n  };\n  const comunas = useMemo(() => {\n    let filtered = markers.filter(m => m.Region === selectedRegion);\n\n    // If a Jefe de Zona is selected, only show comunas for that jefe\n    if (selectedJefeZona) {\n      filtered = filtered.filter(m => normalizeString(m.nombre) === normalizeString(selectedJefeZona));\n    }\n    const comunaSet = new Set(filtered.map(m => m.Comuna).filter(c => c));\n    return Array.from(comunaSet).sort();\n  }, [markers, selectedRegion, selectedJefeZona]);\n\n  // Clear comuna filter when region changes\n  React.useEffect(() => {\n    console.log('ðŸŒ REGION CHANGED:', selectedRegion, '- Clearing filters');\n    setSelectedComuna('');\n    setSelectedMarca('');\n    setSelectedJefeZona('');\n    setSelectedEds('');\n  }, [selectedRegion]);\n  const marcas = useMemo(() => {\n    const filtered = markers.filter(m => m.Region === selectedRegion);\n    return [...new Set(filtered.map(m => m.Marca))].sort();\n  }, [markers, selectedRegion]);\n  const jefesZona = useMemo(() => {\n    const filtered = markers.filter(m => m.Region === selectedRegion && m.nombre && tuasMarcas.includes(m.Marca));\n    const nombres = [...new Set(filtered.map(m => m.nombre))];\n    console.log('ðŸ” DEBUG Jefes de Zona - Nombres Ãºnicos encontrados:', nombres);\n\n    // Filter out names that look like station names\n    const jefesLimpios = nombres.filter(nombre => {\n      // Exclude if it contains numbers (likely a station code)\n      if (/\\d/.test(nombre)) {\n        console.log('âŒ Excluido por nÃºmeros:', nombre);\n        return false;\n      }\n      // Exclude if it's too long (likely a station address)\n      if (nombre.length > 50) {\n        console.log('âŒ Excluido por longitud:', nombre);\n        return false;\n      }\n      // Exclude if it contains common station keywords\n      const stationKeywords = ['estacion', 'estaciÃ³n', 'eds', 'servicio', 'copec', 'shell', 'esso', 'petrobras', 'aramco'];\n      const nombreLower = nombre.toLowerCase();\n      if (stationKeywords.some(keyword => nombreLower.includes(keyword))) {\n        console.log('âŒ Excluido por keyword de estaciÃ³n:', nombre);\n        return false;\n      }\n      console.log('âœ… Incluido como jefe:', nombre);\n      return true;\n    }).sort();\n    console.log('âœ… Jefes de Zona finales:', jefesLimpios);\n    return jefesLimpios;\n  }, [markers, selectedRegion, tuasMarcas]);\n  const comunasDelJefe = useMemo(() => {\n    if (!selectedJefeZona) return [];\n    const jefeMarkers = markers.filter(m => m.nombre === selectedJefeZona);\n    return [...new Set(jefeMarkers.map(m => m.Comuna))];\n  }, [markers, selectedJefeZona]);\n  const allEds = useMemo(() => {\n    let filtered = markers.filter(m => m.Region === selectedRegion);\n    if (selectedJefeZona) {\n      filtered = filtered.filter(m => comunasDelJefe.includes(m.Comuna));\n    }\n    if (selectedComuna) {\n      filtered = filtered.filter(m => m.Comuna === selectedComuna);\n    }\n    if (selectedMarca) {\n      filtered = filtered.filter(m => m.Marca === selectedMarca);\n    }\n    return [...new Set(filtered.map(m => m.eds))].filter(eds => eds).sort();\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, comunasDelJefe]);\n  const filteredEds = useMemo(() => {\n    return allEds.filter(eds => eds.toLowerCase().includes(edsSearchTerm.toLowerCase()));\n  }, [allEds, edsSearchTerm]);\n\n  // All stations from all regions for global search\n  const allStations = useMemo(() => {\n    const stationMap = new Map();\n    const markersToUse = allMarkers || markers; // Use allMarkers if available, fallback to markers\n    markersToUse.forEach(m => {\n      if (m.eds && m.pbl) {\n        const key = m.pbl;\n        if (!stationMap.has(key)) {\n          stationMap.set(key, {\n            pbl: m.pbl,\n            eds: m.eds,\n            region: m.Region,\n            comuna: m.Comuna,\n            marca: m.Marca,\n            lat: m.lat,\n            lng: m.lng\n          });\n        }\n      }\n    });\n    return Array.from(stationMap.values()).sort((a, b) => a.eds.localeCompare(b.eds));\n  }, [allMarkers, markers]);\n\n  // Array CON filtro EDS para mostrar en mapa\n  const filteredMarkers = useMemo(() => {\n    console.log('ðŸ” FILTERING MARKERS:', {\n      selectedRegion,\n      selectedComuna,\n      selectedMarca,\n      selectedJefeZona,\n      selectedEds,\n      globalEdsSearch,\n      totalMarkers: markers.length\n    });\n    const result = markers.filter(m => {\n      // Global EDS search (searches across all regions by station name/eds)\n      if (globalEdsSearch.trim()) {\n        // Match by PBL (which is what we store when selecting from dropdown)\n        const searchMatch = m.pbl && m.pbl.toLowerCase() === globalEdsSearch.toLowerCase();\n        if (!searchMatch) return false;\n      }\n      const regionMatch = m.Region === selectedRegion;\n      const edsMatch = !selectedEds || m.eds === selectedEds;\n      const guerraMatch = !soloGuerraPrecios || m.Guerra_Precio === 'Si';\n      const pesMatch = !soloEstacionesPES || m.Surtidores_Autoservicio && m.Surtidores_Autoservicio !== null && m.Surtidores_Autoservicio !== '';\n      if (selectedJefeZona) {\n        const esDelJefe = m.nombre === selectedJefeZona;\n        const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\n        const jefeMatch = esDelJefe || esCompetenciaEnComunasDelJefe;\n\n        // Apply other filters if they are selected\n        const comunaMatch = !selectedComuna || normalizeString(m.Comuna) === normalizeString(selectedComuna);\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\n        return regionMatch && jefeMatch && edsMatch && guerraMatch && pesMatch && comunaMatch && marcaMatch;\n      }\n      if (selectedComuna) {\n        const comunaMatch = normalizeString(m.Comuna) === normalizeString(selectedComuna);\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\n        if (comunaMatch) {\n          console.log('âœ… MATCH:', {\n            comuna: m.Comuna,\n            selectedComuna,\n            normalized: normalizeString(m.Comuna),\n            selectedNormalized: normalizeString(selectedComuna),\n            marca: m.Marca,\n            eds: m.eds\n          });\n        }\n        return regionMatch && comunaMatch && marcaMatch && edsMatch && guerraMatch && pesMatch;\n      }\n      const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\n      return regionMatch && marcaMatch && edsMatch && guerraMatch && pesMatch;\n    });\n    console.log('ðŸ“Š FILTERED RESULT:', {\n      count: result.length,\n      comunas: [...new Set(result.map(m => m.Comuna))],\n      regions: [...new Set(result.map(m => m.Region))],\n      samples: result.slice(0, 5).map(m => ({\n        comuna: m.Comuna,\n        region: m.Region,\n        eds: m.eds,\n        lat: m.lat,\n        lng: m.lng\n      }))\n    });\n    return result;\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, selectedEds, comunasDelJefe, soloGuerraPrecios, soloEstacionesPES, globalEdsSearch]);\n\n  // Array SIN filtro EDS para botÃ³n Mercado\n  const filteredMarkersForMercado = useMemo(() => {\n    return markers.filter(m => {\n      const regionMatch = m.Region === selectedRegion;\n      const guerraMatch = !soloGuerraPrecios || m.Guerra_Precio === 'Si';\n      const pesMatch = !soloEstacionesPES || m.Surtidores_Autoservicio && m.Surtidores_Autoservicio !== null && m.Surtidores_Autoservicio !== '';\n      if (selectedJefeZona) {\n        const esDelJefe = m.nombre === selectedJefeZona;\n        const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\n        const jefeMatch = esDelJefe || esCompetenciaEnComunasDelJefe;\n\n        // Apply other filters if they are selected\n        const comunaMatch = !selectedComuna || normalizeString(m.Comuna) === normalizeString(selectedComuna);\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\n        return regionMatch && jefeMatch && guerraMatch && pesMatch && comunaMatch && marcaMatch;\n      }\n      if (selectedComuna) {\n        const todasLasEstacionesEnComuna = normalizeString(m.Comuna) === normalizeString(selectedComuna);\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\n        return regionMatch && todasLasEstacionesEnComuna && marcaMatch && guerraMatch && pesMatch;\n      }\n      const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\n      return regionMatch && marcaMatch && guerraMatch && pesMatch;\n    });\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, comunasDelJefe, soloGuerraPrecios, soloEstacionesPES]);\n\n  // âœ… DEDUPLICAR filteredMarkers para el mapa\n  const uniqueFilteredMarkers = useMemo(() => {\n    const uniqueMap = new Map();\n    filteredMarkers.forEach(marker => {\n      const key = marker.pbl || marker.id || `${marker.lat}_${marker.lng}`;\n      const existing = uniqueMap.get(key);\n      if (!existing) {\n        uniqueMap.set(key, marker);\n      } else {\n        const existingDate = existing.fecha_aplicacion ? new Date(existing.fecha_aplicacion) : new Date(0);\n        const currentDate = marker.fecha_aplicacion ? new Date(marker.fecha_aplicacion) : new Date(0);\n        if (currentDate > existingDate) {\n          uniqueMap.set(key, marker);\n        }\n      }\n    });\n    return Array.from(uniqueMap.values());\n  }, [filteredMarkers]);\n\n  // âœ… Enviar Ãºnicos al mapa, histÃ³rico completo para Mercado\n  React.useEffect(() => {\n    onFiltersChange(uniqueFilteredMarkers, filteredMarkersForMercado);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [uniqueFilteredMarkers, filteredMarkersForMercado]);\n\n  // Contador de marcas (solo estaciones Ãºnicas)\n  const markersByBrand = useMemo(() => {\n    const result = {};\n    uniqueFilteredMarkers.forEach(m => {\n      result[m.Marca] = (result[m.Marca] || 0) + 1;\n    });\n    return result;\n  }, [uniqueFilteredMarkers]);\n\n  // Contador total por marca en la regiÃ³n\n  const brandCounts = useMemo(() => {\n    const filtered = markers.filter(m => m.Region === selectedRegion);\n    const brandMap = new Map();\n    filtered.forEach(m => {\n      const brand = m.Marca || 'Sin marca';\n      const id = m.pbl || m.id || `${m.lat}_${m.lng}`;\n      if (!brandMap.has(brand)) {\n        brandMap.set(brand, new Set());\n      }\n      brandMap.get(brand).add(id);\n    });\n    return Object.fromEntries(Array.from(brandMap.entries()).map(([name, set]) => [name, set.size]));\n  }, [markers, selectedRegion]);\n\n  // Center map when comuna is selected\n  React.useEffect(() => {\n    console.log('ðŸ—ºï¸ Comuna changed:', selectedComuna, 'Jefe:', selectedJefeZona);\n    if (selectedComuna && window.leafletMap && window.L) {\n      // Find all markers for the selected comuna\n      // We need to respect the Jefe de Zona filter if it's active\n      let markersInComuna = markers.filter(m => normalizeString(m.Comuna) === normalizeString(selectedComuna));\n      if (selectedJefeZona) {\n        markersInComuna = markersInComuna.filter(m => {\n          const esDelJefe = m.nombre === selectedJefeZona;\n          const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\n          return esDelJefe || esCompetenciaEnComunasDelJefe;\n        });\n      }\n      console.log(`ðŸ” Found ${markersInComuna.length} markers in comuna ${selectedComuna}`);\n      if (markersInComuna.length > 0) {\n        // Calculate bounds\n        const lats = markersInComuna.map(m => parseFloat(m.lat)).filter(l => !isNaN(l));\n        const lngs = markersInComuna.map(m => parseFloat(m.lng)).filter(l => !isNaN(l));\n        if (lats.length > 0 && lngs.length > 0) {\n          const minLat = Math.min(...lats);\n          const maxLat = Math.max(...lats);\n          const minLng = Math.min(...lngs);\n          const maxLng = Math.max(...lngs);\n          console.log('âœ… Fitting bounds:', [[minLat, minLng], [maxLat, maxLng]]);\n\n          // Add some padding to the bounds\n          window.leafletMap.fitBounds([[minLat, minLng], [maxLat, maxLng]], {\n            padding: [50, 50],\n            maxZoom: 15 // Don't zoom in too close if there's only one station or they are very close\n          });\n        } else {\n          console.log('âŒ No valid coordinates found for markers in comuna');\n        }\n      } else {\n        console.log('âŒ No markers found in comuna');\n      }\n    }\n  }, [selectedComuna, selectedJefeZona, markers, comunasDelJefe]);\n\n  // Center map when EDS is selected\n  React.useEffect(() => {\n    if (selectedEds && window.leafletMap) {\n      // Find the marker for the selected EDS\n      const edsMarker = markers.find(m => m.eds === selectedEds);\n      if (edsMarker && edsMarker.lat && edsMarker.lng) {\n        const lat = parseFloat(edsMarker.lat);\n        const lng = parseFloat(edsMarker.lng);\n        if (!isNaN(lat) && !isNaN(lng)) {\n          window.leafletMap.setView([lat, lng], 16); // Zoom level 16 for station view\n        }\n      }\n    }\n  }, [selectedEds, markers]);\n  const handleClearFilters = () => {\n    setSelectedComuna('');\n    setSelectedMarca('');\n    setSelectedJefeZona('');\n    setSelectedEds('');\n    setEdsSearchTerm('');\n    setGlobalEdsSearch('');\n    setSoloGuerraPrecios(false);\n    setSoloEstacionesPES(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filter-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"comuna-select\",\n        children: \"Comuna\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"comuna-select\",\n        value: selectedComuna,\n        onChange: e => setSelectedComuna(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Todas las comunas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), comunas.map(comuna => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: comuna,\n          children: comuna\n        }, comuna, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"marca-select\",\n        children: \"Marca\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"marca-select\",\n        value: selectedMarca,\n        onChange: e => setSelectedMarca(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Todas las marcas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), marcas.map(marca => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: marca,\n          children: [marca, \" \", brandCounts[marca] ? `(${brandCounts[marca]})` : '']\n        }, marca, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"jefe-select\",\n        children: \"Jefe de Zona\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"jefe-select\",\n        value: selectedJefeZona,\n        onChange: e => setSelectedJefeZona(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecciona un Jefe de Zona\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), jefesZona.map(jefe => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: jefe,\n          children: jefe\n        }, jefe, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"eds-select\",\n        children: \"EDS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"eds-select\",\n        value: selectedEds,\n        onChange: e => setSelectedEds(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Todas las EDS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), filteredEds.map(eds => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: eds,\n          children: eds\n        }, eds, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-group\",\n      style: {\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"global-eds-search\",\n        children: \"EDS todas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"global-eds-search\",\n        type: \"text\",\n        value: globalEdsSearchTerm,\n        onChange: e => {\n          setGlobalEdsSearchTerm(e.target.value);\n          if (!e.target.value) {\n            setGlobalEdsSearch('');\n          }\n        },\n        placeholder: \"Buscar estaci\\xF3n...\",\n        style: {\n          width: '100%',\n          padding: '8px',\n          border: '1px solid #ccc',\n          borderRadius: '4px',\n          fontSize: '14px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), globalEdsSearchTerm && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '100%',\n          left: 0,\n          right: 0,\n          maxHeight: '250px',\n          overflowY: 'auto',\n          backgroundColor: 'white',\n          border: '1px solid #ccc',\n          borderTop: 'none',\n          borderRadius: '0 0 4px 4px',\n          zIndex: 1000,\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n        },\n        children: allStations.filter(station => station.eds.toLowerCase().includes(globalEdsSearchTerm.toLowerCase()) || station.comuna.toLowerCase().includes(globalEdsSearchTerm.toLowerCase()) || station.pbl.toLowerCase().includes(globalEdsSearchTerm.toLowerCase())).slice(0, 50).map(station => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            setGlobalEdsSearchTerm(`${station.eds} - ${station.comuna}`);\n            setGlobalEdsSearch(station.pbl);\n            if (onStationSelect) {\n              onStationSelect(station);\n            }\n          },\n          style: {\n            padding: '8px 12px',\n            cursor: 'pointer',\n            borderBottom: '1px solid #f0f0f0',\n            fontSize: '13px',\n            backgroundColor: globalEdsSearch === station.pbl ? '#e3f2fd' : 'white'\n          },\n          onMouseEnter: e => e.target.style.backgroundColor = '#f5f5f5',\n          onMouseLeave: e => e.target.style.backgroundColor = globalEdsSearch === station.pbl ? '#e3f2fd' : 'white',\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: station.eds\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '11px',\n              color: '#666'\n            },\n            children: [station.comuna, \" (\", station.region, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 19\n          }, this)]\n        }, station.pbl, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-group filter-checkbox\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"guerra-precios-checkbox\",\n        className: \"checkbox-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"guerra-precios-checkbox\",\n          type: \"checkbox\",\n          checked: soloGuerraPrecios,\n          onChange: e => setSoloGuerraPrecios(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"checkbox-text\",\n          children: \"Guerra de Precios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-group filter-checkbox filter-checkbox-pes\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"estaciones-pes-checkbox\",\n        className: \"checkbox-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"estaciones-pes-checkbox\",\n          type: \"checkbox\",\n          checked: soloEstacionesPES,\n          onChange: e => setSoloEstacionesPES(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"checkbox-text\",\n          children: \"Estaciones PES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 372,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterPanel, \"oXLYZ6RlXSkOZeF8kxr4bzTpijk=\");\n_c = FilterPanel;\nexport default FilterPanel;\nvar _c;\n$RefreshReg$(_c, \"FilterPanel\");","map":{"version":3,"names":["React","useMemo","useState","jsxDEV","_jsxDEV","FilterPanel","markers","allMarkers","selectedRegion","onFiltersChange","onStationSelect","_s","selectedComuna","setSelectedComuna","selectedMarca","setSelectedMarca","selectedJefeZona","setSelectedJefeZona","selectedEds","setSelectedEds","edsSearchTerm","setEdsSearchTerm","globalEdsSearch","setGlobalEdsSearch","globalEdsSearchTerm","setGlobalEdsSearchTerm","soloGuerraPrecios","setSoloGuerraPrecios","soloEstacionesPES","setSoloEstacionesPES","console","log","tuasMarcas","normalizeString","str","trim","toLowerCase","comunas","filtered","filter","m","Region","nombre","comunaSet","Set","map","Comuna","c","Array","from","sort","useEffect","marcas","Marca","jefesZona","includes","nombres","jefesLimpios","test","length","stationKeywords","nombreLower","some","keyword","comunasDelJefe","jefeMarkers","allEds","eds","filteredEds","allStations","stationMap","Map","markersToUse","forEach","pbl","key","has","set","region","comuna","marca","lat","lng","values","a","b","localeCompare","filteredMarkers","totalMarkers","result","searchMatch","regionMatch","edsMatch","guerraMatch","Guerra_Precio","pesMatch","Surtidores_Autoservicio","esDelJefe","esCompetenciaEnComunasDelJefe","jefeMatch","comunaMatch","marcaMatch","normalized","selectedNormalized","count","regions","samples","slice","filteredMarkersForMercado","todasLasEstacionesEnComuna","uniqueFilteredMarkers","uniqueMap","marker","id","existing","get","existingDate","fecha_aplicacion","Date","currentDate","markersByBrand","brandCounts","brandMap","brand","add","Object","fromEntries","entries","name","size","window","leafletMap","L","markersInComuna","lats","parseFloat","l","isNaN","lngs","minLat","Math","min","maxLat","max","minLng","maxLng","fitBounds","padding","maxZoom","edsMarker","find","setView","handleClearFilters","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","jefe","style","position","type","placeholder","width","border","borderRadius","fontSize","top","left","right","maxHeight","overflowY","backgroundColor","borderTop","zIndex","boxShadow","station","onClick","cursor","borderBottom","onMouseEnter","onMouseLeave","fontWeight","color","checked","_c","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/FilterPanel.jsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\n\r\nconst FilterPanel = ({ markers, allMarkers, selectedRegion, onFiltersChange, onStationSelect }) => {\r\n  const [selectedComuna, setSelectedComuna] = useState('');\r\n  const [selectedMarca, setSelectedMarca] = useState('');\r\n  const [selectedJefeZona, setSelectedJefeZona] = useState('');\r\n  const [selectedEds, setSelectedEds] = useState('');\r\n  const [edsSearchTerm, setEdsSearchTerm] = useState('');\r\n  const [globalEdsSearch, setGlobalEdsSearch] = useState('');\r\n  const [globalEdsSearchTerm, setGlobalEdsSearchTerm] = useState('');\r\n  const [soloGuerraPrecios, setSoloGuerraPrecios] = useState(false);\r\n  const [soloEstacionesPES, setSoloEstacionesPES] = useState(false);\r\n\r\n  console.log('ðŸŽ¨ FilterPanel RENDER:', { selectedRegion, selectedComuna, selectedMarca });\r\n\r\n  const tuasMarcas = ['Aramco', 'Petrobras'];\r\n\r\n  // Normalize string for comparison (trim and lowercase)\r\n  const normalizeString = (str) => {\r\n    return str ? str.trim().toLowerCase() : '';\r\n  };\r\n\r\n  const comunas = useMemo(() => {\r\n    let filtered = markers.filter(m => m.Region === selectedRegion);\r\n\r\n    // If a Jefe de Zona is selected, only show comunas for that jefe\r\n    if (selectedJefeZona) {\r\n      filtered = filtered.filter(m =>\r\n        normalizeString(m.nombre) === normalizeString(selectedJefeZona)\r\n      );\r\n    }\r\n\r\n    const comunaSet = new Set(filtered.map(m => m.Comuna).filter(c => c));\r\n    return Array.from(comunaSet).sort();\r\n  }, [markers, selectedRegion, selectedJefeZona]);\r\n\r\n  // Clear comuna filter when region changes\r\n  React.useEffect(() => {\r\n    console.log('ðŸŒ REGION CHANGED:', selectedRegion, '- Clearing filters');\r\n    setSelectedComuna('');\r\n    setSelectedMarca('');\r\n    setSelectedJefeZona('');\r\n    setSelectedEds('');\r\n  }, [selectedRegion]);\r\n\r\n  const marcas = useMemo(() => {\r\n    const filtered = markers.filter(m => m.Region === selectedRegion);\r\n    return [...new Set(filtered.map(m => m.Marca))].sort();\r\n  }, [markers, selectedRegion]);\r\n\r\n  const jefesZona = useMemo(() => {\r\n    const filtered = markers.filter(\r\n      m => m.Region === selectedRegion && m.nombre && tuasMarcas.includes(m.Marca)\r\n    );\r\n    const nombres = [...new Set(filtered.map(m => m.nombre))];\r\n\r\n    console.log('ðŸ” DEBUG Jefes de Zona - Nombres Ãºnicos encontrados:', nombres);\r\n\r\n    // Filter out names that look like station names\r\n    const jefesLimpios = nombres.filter(nombre => {\r\n      // Exclude if it contains numbers (likely a station code)\r\n      if (/\\d/.test(nombre)) {\r\n        console.log('âŒ Excluido por nÃºmeros:', nombre);\r\n        return false;\r\n      }\r\n      // Exclude if it's too long (likely a station address)\r\n      if (nombre.length > 50) {\r\n        console.log('âŒ Excluido por longitud:', nombre);\r\n        return false;\r\n      }\r\n      // Exclude if it contains common station keywords\r\n      const stationKeywords = ['estacion', 'estaciÃ³n', 'eds', 'servicio', 'copec', 'shell', 'esso', 'petrobras', 'aramco'];\r\n      const nombreLower = nombre.toLowerCase();\r\n      if (stationKeywords.some(keyword => nombreLower.includes(keyword))) {\r\n        console.log('âŒ Excluido por keyword de estaciÃ³n:', nombre);\r\n        return false;\r\n      }\r\n      console.log('âœ… Incluido como jefe:', nombre);\r\n      return true;\r\n    }).sort();\r\n\r\n    console.log('âœ… Jefes de Zona finales:', jefesLimpios);\r\n    return jefesLimpios;\r\n  }, [markers, selectedRegion, tuasMarcas]);\r\n\r\n  const comunasDelJefe = useMemo(() => {\r\n    if (!selectedJefeZona) return [];\r\n    const jefeMarkers = markers.filter(m => m.nombre === selectedJefeZona);\r\n    return [...new Set(jefeMarkers.map(m => m.Comuna))];\r\n  }, [markers, selectedJefeZona]);\r\n\r\n  const allEds = useMemo(() => {\r\n    let filtered = markers.filter(m => m.Region === selectedRegion);\r\n    if (selectedJefeZona) {\r\n      filtered = filtered.filter(m => comunasDelJefe.includes(m.Comuna));\r\n    }\r\n    if (selectedComuna) {\r\n      filtered = filtered.filter(m => m.Comuna === selectedComuna);\r\n    }\r\n    if (selectedMarca) {\r\n      filtered = filtered.filter(m => m.Marca === selectedMarca);\r\n    }\r\n    return [...new Set(filtered.map(m => m.eds))].filter(eds => eds).sort();\r\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, comunasDelJefe]);\r\n\r\n  const filteredEds = useMemo(() => {\r\n    return allEds.filter(eds =>\r\n      eds.toLowerCase().includes(edsSearchTerm.toLowerCase())\r\n    );\r\n  }, [allEds, edsSearchTerm]);\r\n\r\n  // All stations from all regions for global search\r\n  const allStations = useMemo(() => {\r\n    const stationMap = new Map();\r\n    const markersToUse = allMarkers || markers; // Use allMarkers if available, fallback to markers\r\n    markersToUse.forEach(m => {\r\n      if (m.eds && m.pbl) {\r\n        const key = m.pbl;\r\n        if (!stationMap.has(key)) {\r\n          stationMap.set(key, {\r\n            pbl: m.pbl,\r\n            eds: m.eds,\r\n            region: m.Region,\r\n            comuna: m.Comuna,\r\n            marca: m.Marca,\r\n            lat: m.lat,\r\n            lng: m.lng\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return Array.from(stationMap.values()).sort((a, b) => a.eds.localeCompare(b.eds));\r\n  }, [allMarkers, markers]);\r\n\r\n  // Array CON filtro EDS para mostrar en mapa\r\n  const filteredMarkers = useMemo(() => {\r\n    console.log('ðŸ” FILTERING MARKERS:', {\r\n      selectedRegion,\r\n      selectedComuna,\r\n      selectedMarca,\r\n      selectedJefeZona,\r\n      selectedEds,\r\n      globalEdsSearch,\r\n      totalMarkers: markers.length\r\n    });\r\n\r\n    const result = markers.filter(m => {\r\n      // Global EDS search (searches across all regions by station name/eds)\r\n      if (globalEdsSearch.trim()) {\r\n        // Match by PBL (which is what we store when selecting from dropdown)\r\n        const searchMatch = m.pbl && m.pbl.toLowerCase() === globalEdsSearch.toLowerCase();\r\n        if (!searchMatch) return false;\r\n      }\r\n\r\n      const regionMatch = m.Region === selectedRegion;\r\n      const edsMatch = !selectedEds || m.eds === selectedEds;\r\n      const guerraMatch = !soloGuerraPrecios || m.Guerra_Precio === 'Si';\r\n      const pesMatch = !soloEstacionesPES || (m.Surtidores_Autoservicio && m.Surtidores_Autoservicio !== null && m.Surtidores_Autoservicio !== '');\r\n\r\n      if (selectedJefeZona) {\r\n        const esDelJefe = m.nombre === selectedJefeZona;\r\n        const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\r\n        const jefeMatch = esDelJefe || esCompetenciaEnComunasDelJefe;\r\n\r\n        // Apply other filters if they are selected\r\n        const comunaMatch = !selectedComuna || normalizeString(m.Comuna) === normalizeString(selectedComuna);\r\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n\r\n        return regionMatch && jefeMatch && edsMatch && guerraMatch && pesMatch && comunaMatch && marcaMatch;\r\n      }\r\n\r\n      if (selectedComuna) {\r\n        const comunaMatch = normalizeString(m.Comuna) === normalizeString(selectedComuna);\r\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n\r\n        if (comunaMatch) {\r\n          console.log('âœ… MATCH:', {\r\n            comuna: m.Comuna,\r\n            selectedComuna,\r\n            normalized: normalizeString(m.Comuna),\r\n            selectedNormalized: normalizeString(selectedComuna),\r\n            marca: m.Marca,\r\n            eds: m.eds\r\n          });\r\n        }\r\n\r\n        return regionMatch && comunaMatch && marcaMatch && edsMatch && guerraMatch && pesMatch;\r\n      }\r\n\r\n      const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n      return regionMatch && marcaMatch && edsMatch && guerraMatch && pesMatch;\r\n    });\r\n\r\n    console.log('ðŸ“Š FILTERED RESULT:', {\r\n      count: result.length,\r\n      comunas: [...new Set(result.map(m => m.Comuna))],\r\n      regions: [...new Set(result.map(m => m.Region))],\r\n      samples: result.slice(0, 5).map(m => ({\r\n        comuna: m.Comuna,\r\n        region: m.Region,\r\n        eds: m.eds,\r\n        lat: m.lat,\r\n        lng: m.lng\r\n      }))\r\n    });\r\n\r\n    return result;\r\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, selectedEds, comunasDelJefe, soloGuerraPrecios, soloEstacionesPES, globalEdsSearch]);\r\n\r\n  // Array SIN filtro EDS para botÃ³n Mercado\r\n  const filteredMarkersForMercado = useMemo(() => {\r\n    return markers.filter(m => {\r\n      const regionMatch = m.Region === selectedRegion;\r\n      const guerraMatch = !soloGuerraPrecios || m.Guerra_Precio === 'Si';\r\n      const pesMatch = !soloEstacionesPES || (m.Surtidores_Autoservicio && m.Surtidores_Autoservicio !== null && m.Surtidores_Autoservicio !== '');\r\n\r\n      if (selectedJefeZona) {\r\n        const esDelJefe = m.nombre === selectedJefeZona;\r\n        const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\r\n        const jefeMatch = esDelJefe || esCompetenciaEnComunasDelJefe;\r\n\r\n        // Apply other filters if they are selected\r\n        const comunaMatch = !selectedComuna || normalizeString(m.Comuna) === normalizeString(selectedComuna);\r\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n\r\n        return regionMatch && jefeMatch && guerraMatch && pesMatch && comunaMatch && marcaMatch;\r\n      }\r\n\r\n      if (selectedComuna) {\r\n        const todasLasEstacionesEnComuna = normalizeString(m.Comuna) === normalizeString(selectedComuna);\r\n        const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n        return regionMatch && todasLasEstacionesEnComuna && marcaMatch && guerraMatch && pesMatch;\r\n      }\r\n\r\n      const marcaMatch = !selectedMarca || m.Marca === selectedMarca;\r\n      return regionMatch && marcaMatch && guerraMatch && pesMatch;\r\n    });\r\n  }, [markers, selectedRegion, selectedComuna, selectedMarca, selectedJefeZona, comunasDelJefe, soloGuerraPrecios, soloEstacionesPES]);\r\n\r\n  // âœ… DEDUPLICAR filteredMarkers para el mapa\r\n  const uniqueFilteredMarkers = useMemo(() => {\r\n    const uniqueMap = new Map();\r\n\r\n    filteredMarkers.forEach(marker => {\r\n      const key = marker.pbl || marker.id || `${marker.lat}_${marker.lng}`;\r\n      const existing = uniqueMap.get(key);\r\n\r\n      if (!existing) {\r\n        uniqueMap.set(key, marker);\r\n      } else {\r\n        const existingDate = existing.fecha_aplicacion ? new Date(existing.fecha_aplicacion) : new Date(0);\r\n        const currentDate = marker.fecha_aplicacion ? new Date(marker.fecha_aplicacion) : new Date(0);\r\n\r\n        if (currentDate > existingDate) {\r\n          uniqueMap.set(key, marker);\r\n        }\r\n      }\r\n    });\r\n\r\n    return Array.from(uniqueMap.values());\r\n  }, [filteredMarkers]);\r\n\r\n  // âœ… Enviar Ãºnicos al mapa, histÃ³rico completo para Mercado\r\n  React.useEffect(() => {\r\n    onFiltersChange(uniqueFilteredMarkers, filteredMarkersForMercado);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [uniqueFilteredMarkers, filteredMarkersForMercado]);\r\n\r\n  // Contador de marcas (solo estaciones Ãºnicas)\r\n  const markersByBrand = useMemo(() => {\r\n    const result = {};\r\n    uniqueFilteredMarkers.forEach(m => {\r\n      result[m.Marca] = (result[m.Marca] || 0) + 1;\r\n    });\r\n    return result;\r\n  }, [uniqueFilteredMarkers]);\r\n\r\n  // Contador total por marca en la regiÃ³n\r\n  const brandCounts = useMemo(() => {\r\n    const filtered = markers.filter(m => m.Region === selectedRegion);\r\n    const brandMap = new Map();\r\n    filtered.forEach(m => {\r\n      const brand = m.Marca || 'Sin marca';\r\n      const id = m.pbl || m.id || `${m.lat}_${m.lng}`;\r\n      if (!brandMap.has(brand)) {\r\n        brandMap.set(brand, new Set());\r\n      }\r\n      brandMap.get(brand).add(id);\r\n    });\r\n    return Object.fromEntries(\r\n      Array.from(brandMap.entries()).map(([name, set]) => [name, set.size])\r\n    );\r\n  }, [markers, selectedRegion]);\r\n\r\n  // Center map when comuna is selected\r\n  React.useEffect(() => {\r\n    console.log('ðŸ—ºï¸ Comuna changed:', selectedComuna, 'Jefe:', selectedJefeZona);\r\n\r\n    if (selectedComuna && window.leafletMap && window.L) {\r\n      // Find all markers for the selected comuna\r\n      // We need to respect the Jefe de Zona filter if it's active\r\n      let markersInComuna = markers.filter(m =>\r\n        normalizeString(m.Comuna) === normalizeString(selectedComuna)\r\n      );\r\n\r\n      if (selectedJefeZona) {\r\n        markersInComuna = markersInComuna.filter(m => {\r\n          const esDelJefe = m.nombre === selectedJefeZona;\r\n          const esCompetenciaEnComunasDelJefe = comunasDelJefe.includes(m.Comuna);\r\n          return esDelJefe || esCompetenciaEnComunasDelJefe;\r\n        });\r\n      }\r\n\r\n      console.log(`ðŸ” Found ${markersInComuna.length} markers in comuna ${selectedComuna}`);\r\n\r\n      if (markersInComuna.length > 0) {\r\n        // Calculate bounds\r\n        const lats = markersInComuna.map(m => parseFloat(m.lat)).filter(l => !isNaN(l));\r\n        const lngs = markersInComuna.map(m => parseFloat(m.lng)).filter(l => !isNaN(l));\r\n\r\n        if (lats.length > 0 && lngs.length > 0) {\r\n          const minLat = Math.min(...lats);\r\n          const maxLat = Math.max(...lats);\r\n          const minLng = Math.min(...lngs);\r\n          const maxLng = Math.max(...lngs);\r\n\r\n          console.log('âœ… Fitting bounds:', [[minLat, minLng], [maxLat, maxLng]]);\r\n\r\n          // Add some padding to the bounds\r\n          window.leafletMap.fitBounds([[minLat, minLng], [maxLat, maxLng]], {\r\n            padding: [50, 50],\r\n            maxZoom: 15 // Don't zoom in too close if there's only one station or they are very close\r\n          });\r\n        } else {\r\n          console.log('âŒ No valid coordinates found for markers in comuna');\r\n        }\r\n      } else {\r\n        console.log('âŒ No markers found in comuna');\r\n      }\r\n    }\r\n  }, [selectedComuna, selectedJefeZona, markers, comunasDelJefe]);\r\n\r\n  // Center map when EDS is selected\r\n  React.useEffect(() => {\r\n    if (selectedEds && window.leafletMap) {\r\n      // Find the marker for the selected EDS\r\n      const edsMarker = markers.find(m => m.eds === selectedEds);\r\n\r\n      if (edsMarker && edsMarker.lat && edsMarker.lng) {\r\n        const lat = parseFloat(edsMarker.lat);\r\n        const lng = parseFloat(edsMarker.lng);\r\n\r\n        if (!isNaN(lat) && !isNaN(lng)) {\r\n          window.leafletMap.setView([lat, lng], 16); // Zoom level 16 for station view\r\n        }\r\n      }\r\n    }\r\n  }, [selectedEds, markers]);\r\n\r\n  const handleClearFilters = () => {\r\n    setSelectedComuna('');\r\n    setSelectedMarca('');\r\n    setSelectedJefeZona('');\r\n    setSelectedEds('');\r\n    setEdsSearchTerm('');\r\n    setGlobalEdsSearch('');\r\n    setSoloGuerraPrecios(false);\r\n    setSoloEstacionesPES(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"filter-panel\">\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"comuna-select\">Comuna</label>\r\n        <select\r\n          id=\"comuna-select\"\r\n          value={selectedComuna}\r\n          onChange={(e) => setSelectedComuna(e.target.value)}\r\n        >\r\n          <option value=\"\">Todas las comunas</option>\r\n          {comunas.map(comuna => (\r\n            <option key={comuna} value={comuna}>{comuna}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n\r\n\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"marca-select\">Marca</label>\r\n        <select\r\n          id=\"marca-select\"\r\n          value={selectedMarca}\r\n          onChange={(e) => setSelectedMarca(e.target.value)}\r\n        >\r\n          <option value=\"\">Todas las marcas</option>\r\n          {marcas.map(marca => (\r\n            <option key={marca} value={marca}>\r\n              {marca} {brandCounts[marca] ? `(${brandCounts[marca]})` : ''}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"jefe-select\">Jefe de Zona</label>\r\n        <select\r\n          id=\"jefe-select\"\r\n          value={selectedJefeZona}\r\n          onChange={(e) => setSelectedJefeZona(e.target.value)}\r\n        >\r\n          <option value=\"\">Selecciona un Jefe de Zona</option>\r\n          {jefesZona.map(jefe => (\r\n            <option key={jefe} value={jefe}>{jefe}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-group\">\r\n        <label htmlFor=\"eds-select\">EDS</label>\r\n        <select\r\n          id=\"eds-select\"\r\n          value={selectedEds}\r\n          onChange={(e) => setSelectedEds(e.target.value)}\r\n        >\r\n          <option value=\"\">Todas las EDS</option>\r\n          {filteredEds.map(eds => (\r\n            <option key={eds} value={eds}>{eds}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-group\" style={{ position: 'relative' }}>\r\n        <label htmlFor=\"global-eds-search\">EDS todas</label>\r\n        <input\r\n          id=\"global-eds-search\"\r\n          type=\"text\"\r\n          value={globalEdsSearchTerm}\r\n          onChange={(e) => {\r\n            setGlobalEdsSearchTerm(e.target.value);\r\n            if (!e.target.value) {\r\n              setGlobalEdsSearch('');\r\n            }\r\n          }}\r\n          placeholder=\"Buscar estaciÃ³n...\"\r\n          style={{\r\n            width: '100%',\r\n            padding: '8px',\r\n            border: '1px solid #ccc',\r\n            borderRadius: '4px',\r\n            fontSize: '14px'\r\n          }}\r\n        />\r\n        {globalEdsSearchTerm && (\r\n          <div style={{\r\n            position: 'absolute',\r\n            top: '100%',\r\n            left: 0,\r\n            right: 0,\r\n            maxHeight: '250px',\r\n            overflowY: 'auto',\r\n            backgroundColor: 'white',\r\n            border: '1px solid #ccc',\r\n            borderTop: 'none',\r\n            borderRadius: '0 0 4px 4px',\r\n            zIndex: 1000,\r\n            boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\r\n          }}>\r\n            {allStations\r\n              .filter(station =>\r\n                station.eds.toLowerCase().includes(globalEdsSearchTerm.toLowerCase()) ||\r\n                station.comuna.toLowerCase().includes(globalEdsSearchTerm.toLowerCase()) ||\r\n                station.pbl.toLowerCase().includes(globalEdsSearchTerm.toLowerCase())\r\n              )\r\n              .slice(0, 50)\r\n              .map(station => (\r\n                <div\r\n                  key={station.pbl}\r\n                  onClick={() => {\r\n                    setGlobalEdsSearchTerm(`${station.eds} - ${station.comuna}`);\r\n                    setGlobalEdsSearch(station.pbl);\r\n                    if (onStationSelect) {\r\n                      onStationSelect(station);\r\n                    }\r\n                  }}\r\n                  style={{\r\n                    padding: '8px 12px',\r\n                    cursor: 'pointer',\r\n                    borderBottom: '1px solid #f0f0f0',\r\n                    fontSize: '13px',\r\n                    backgroundColor: globalEdsSearch === station.pbl ? '#e3f2fd' : 'white'\r\n                  }}\r\n                  onMouseEnter={(e) => e.target.style.backgroundColor = '#f5f5f5'}\r\n                  onMouseLeave={(e) => e.target.style.backgroundColor = globalEdsSearch === station.pbl ? '#e3f2fd' : 'white'}\r\n                >\r\n                  <div style={{ fontWeight: 'bold' }}>{station.eds}</div>\r\n                  <div style={{ fontSize: '11px', color: '#666' }}>\r\n                    {station.comuna} ({station.region})\r\n                  </div>\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n\r\n\r\n      <div className=\"filter-group filter-checkbox\">\r\n        <label htmlFor=\"guerra-precios-checkbox\" className=\"checkbox-label\">\r\n          <input\r\n            id=\"guerra-precios-checkbox\"\r\n            type=\"checkbox\"\r\n            checked={soloGuerraPrecios}\r\n            onChange={(e) => setSoloGuerraPrecios(e.target.checked)}\r\n          />\r\n          <span className=\"checkbox-text\">Guerra de Precios</span>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"filter-group filter-checkbox filter-checkbox-pes\">\r\n        <label htmlFor=\"estaciones-pes-checkbox\" className=\"checkbox-label\">\r\n          <input\r\n            id=\"estaciones-pes-checkbox\"\r\n            type=\"checkbox\"\r\n            checked={soloEstacionesPES}\r\n            onChange={(e) => setSoloEstacionesPES(e.target.checked)}\r\n          />\r\n          <span className=\"checkbox-text\">Estaciones PES</span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}