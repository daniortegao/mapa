{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e08f\\\\Desktop\\\\Proyectos\\\\Resumen\\\\mapa-v2\\\\src\\\\components\\\\TrendChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = {\n  G93: '#34c759',\n  G95: '#007bff',\n  G97: '#a259c1',\n  Diesel: '#fd7e14',\n  Kero: '#6c757d'\n};\nconst FUEL_OPTIONS = [{\n  key: 'G93',\n  field: 'g93',\n  label: 'G93'\n}, {\n  key: 'G95',\n  field: 'g95',\n  label: 'G95'\n}, {\n  key: 'G97',\n  field: 'g97',\n  label: 'G97'\n}, {\n  key: 'Diesel',\n  field: 'diesel',\n  label: 'Diesel'\n}, {\n  key: 'Kero',\n  field: 'kero',\n  label: 'Kero'\n}];\nconst toNum = v => v === '-' || v == null ? null : Number(v);\nfunction parseDateSafe(fecha) {\n  if (!fecha) return {\n    d: new Date(0),\n    label: ''\n  };\n  const token = String(fecha).split(' ')[0];\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(token)) {\n    const [, m, day] = token.split('-');\n    return {\n      d: new Date(token),\n      label: `${day.padStart(2, '0')}-${m.padStart(2, '0')}`\n    };\n  }\n  if (/^\\d{2}-\\d{2}-\\d{4}$/.test(token)) {\n    const [day, m, y] = token.split('-').map(s => s.padStart(2, '0'));\n    return {\n      d: new Date(`${y}-${m}-${day}`),\n      label: `${day}-${m}`\n    };\n  }\n  const d = new Date(token);\n  const dd = String(d.getDate()).padStart(2, '0');\n  const mm = String(d.getMonth() + 1).padStart(2, '0');\n  return {\n    d,\n    label: `${dd}-${mm}`\n  };\n}\nexport default function TrendChart({\n  dataRows = [],\n  maxPoints = 7,\n  height = 170\n}) {\n  _s();\n  const [fuelKey, setFuelKey] = useState('G93');\n  const svgRef = useRef(null);\n\n  // Últimas 7 fechas, más reciente primero (izquierda)\n  const points = useMemo(() => {\n    const norm = dataRows.map(r => {\n      const {\n        d,\n        label\n      } = parseDateSafe(r.fecha);\n      return {\n        date: d,\n        label,\n        G93: toNum(r.g93),\n        G95: toNum(r.g95),\n        G97: toNum(r.g97),\n        Diesel: toNum(r.diesel),\n        Kero: toNum(r.kero)\n      };\n    }).sort((a, b) => a.date - b.date) // ascendente\n    .slice(-maxPoints) // últimas 7\n    .reverse(); // más reciente a la izquierda\n    return norm;\n  }, [dataRows, maxPoints]);\n  const labels = points.map(p => p.label);\n  const values = points.map(p => p[fuelKey]);\n  const present = values.filter(v => v != null);\n  const aMin = present.length ? Math.min(...present) : 0;\n  const aMax = present.length ? Math.max(...present) : 1;\n\n  // Eje Y desde 0 con un pequeño margen superior\n  const yMin = 0;\n  const pad = Math.max(1, Math.round((aMax - aMin) * 0.05));\n  const yMax = aMax <= 0 ? 1 : aMax + pad;\n\n  // Layout y escalas\n  const width = 340;\n  const margin = {\n    top: 10,\n    right: 12,\n    bottom: 28,\n    left: 52\n  };\n  const innerW = width - margin.left - margin.right;\n  const innerH = height - margin.top - margin.bottom;\n  const xPos = i => {\n    if (labels.length <= 1) return margin.left + innerW / 2;\n    return margin.left + i * innerW / (labels.length - 1);\n  };\n  const yPos = v => {\n    if (v == null) return null;\n    const span = Math.max(1, yMax - yMin);\n    const y = (v - yMin) / span;\n    return margin.top + innerH - y * innerH;\n  };\n\n  // Barras con gap para que la primera no pegue al borde\n  const colGap = 6;\n  const effW = innerW - colGap * Math.max(0, labels.length - 1);\n  const colWidth = labels.length > 0 ? Math.max(14, Math.min(32, effW / Math.max(1, labels.length))) : 18;\n\n  // Ticks Y\n  const gridY = 3;\n  const yTicks = Array.from({\n    length: gridY + 1\n  }, (_, k) => yMin + k * (yMax - yMin) / Math.max(1, gridY));\n\n  // Tooltip anclado a barra\n  const tipId = 'trend-tip';\n  const hlId = 'trend-hl';\n  const showTipAt = (evt, label, value, xCenter) => {\n    const tip = document.getElementById(tipId);\n    const hl = document.getElementById(hlId);\n    if (!tip || !hl) return;\n    tip.style.display = 'block';\n    tip.textContent = `${label} • ${Number(value).toLocaleString('es-CL')}`;\n    tip.style.left = `${evt.clientX + 8}px`;\n    tip.style.top = `${evt.clientY - 22}px`;\n    hl.setAttribute('x1', xCenter);\n    hl.setAttribute('x2', xCenter);\n    hl.setAttribute('y1', margin.top);\n    hl.setAttribute('y2', margin.top + innerH);\n    hl.style.display = 'block';\n  };\n  const hideTip = () => {\n    const tip = document.getElementById(tipId);\n    const hl = document.getElementById(hlId);\n    if (tip) tip.style.display = 'none';\n    if (hl) hl.style.display = 'none';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minWidth: width,\n      height,\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: tipId,\n      style: {\n        position: 'fixed',\n        zIndex: 9999,\n        display: 'none',\n        background: 'rgba(0,0,0,0.8)',\n        color: '#fff',\n        padding: '2px 6px',\n        borderRadius: 4,\n        fontSize: 11,\n        pointerEvents: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 8,\n        marginBottom: 4,\n        paddingLeft: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 8,\n          height: 8,\n          background: COLORS[fuelKey],\n          borderRadius: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 11,\n          color: '#333'\n        },\n        children: \"Combustible:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: fuelKey,\n        onChange: e => {\n          hideTip();\n          setFuelKey(e.target.value);\n        },\n        style: {\n          fontSize: 11,\n          padding: '2px 6px',\n          borderRadius: 4,\n          border: '1px solid #d0d0d0',\n          background: '#fff',\n          outline: 'none'\n        },\n        children: FUEL_OPTIONS.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: f.key,\n          children: f.label\n        }, f.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      width: width,\n      height: height,\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        id: hlId,\n        x1: \"0\",\n        y1: \"0\",\n        x2: \"0\",\n        y2: \"0\",\n        stroke: \"rgba(0,0,0,0.08)\",\n        strokeWidth: \"1\",\n        style: {\n          display: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), yTicks.map((t, idx) => {\n        const y = yPos(t);\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: margin.left,\n            x2: margin.left + innerW,\n            y1: y,\n            y2: y,\n            stroke: \"rgba(0,0,0,0.08)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: margin.left - 6,\n            y: y,\n            textAnchor: \"end\",\n            dominantBaseline: \"middle\",\n            fontSize: \"10\",\n            children: Math.round(t).toLocaleString('es-CL')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this);\n      }), labels.map((lab, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n        x: xPos(i),\n        y: height - 6,\n        textAnchor: \"middle\",\n        fontSize: \"10\",\n        children: lab\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)), values.map((v, i) => {\n        const y = yPos(v);\n        const xCenter = xPos(i);\n        const x = xCenter - colWidth / 2 + i * (colGap / Math.max(1, labels.length)); // leve separación\n        const barH = v == null ? 0 : margin.top + innerH - y;\n        return /*#__PURE__*/_jsxDEV(\"rect\", {\n          x: x,\n          y: v == null ? margin.top + innerH : y,\n          width: colWidth,\n          height: barH,\n          fill: COLORS[fuelKey],\n          rx: \"2\",\n          onMouseEnter: e => v != null && showTipAt(e, labels[i], v, xCenter),\n          onMouseMove: e => v != null && showTipAt(e, labels[i], v, xCenter),\n          onMouseLeave: hideTip\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(TrendChart, \"wRoqnb7CTwPwvBH+n0kPVbGlrRY=\");\n_c = TrendChart;\nvar _c;\n$RefreshReg$(_c, \"TrendChart\");","map":{"version":3,"names":["React","useMemo","useState","useRef","jsxDEV","_jsxDEV","COLORS","G93","G95","G97","Diesel","Kero","FUEL_OPTIONS","key","field","label","toNum","v","Number","parseDateSafe","fecha","d","Date","token","String","split","test","m","day","padStart","y","map","s","dd","getDate","mm","getMonth","TrendChart","dataRows","maxPoints","height","_s","fuelKey","setFuelKey","svgRef","points","norm","r","date","g93","g95","g97","diesel","kero","sort","a","b","slice","reverse","labels","p","values","present","filter","aMin","length","Math","min","aMax","max","yMin","pad","round","yMax","width","margin","top","right","bottom","left","innerW","innerH","xPos","i","yPos","span","colGap","effW","colWidth","gridY","yTicks","Array","from","_","k","tipId","hlId","showTipAt","evt","value","xCenter","tip","document","getElementById","hl","style","display","textContent","toLocaleString","clientX","clientY","setAttribute","hideTip","minWidth","position","children","id","zIndex","background","color","padding","borderRadius","fontSize","pointerEvents","fileName","_jsxFileName","lineNumber","columnNumber","alignItems","gap","marginBottom","paddingLeft","onChange","e","target","border","outline","f","ref","x1","y1","x2","y2","stroke","strokeWidth","t","idx","x","textAnchor","dominantBaseline","lab","barH","fill","rx","onMouseEnter","onMouseMove","onMouseLeave","_c","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/TrendChart.jsx"],"sourcesContent":["import React, { useMemo, useState, useRef } from 'react';\r\n\r\nconst COLORS = {\r\n  G93: '#34c759',\r\n  G95: '#007bff',\r\n  G97: '#a259c1',\r\n  Diesel: '#fd7e14',\r\n  Kero: '#6c757d'\r\n};\r\n\r\nconst FUEL_OPTIONS = [\r\n  { key: 'G93', field: 'g93', label: 'G93' },\r\n  { key: 'G95', field: 'g95', label: 'G95' },\r\n  { key: 'G97', field: 'g97', label: 'G97' },\r\n  { key: 'Diesel', field: 'diesel', label: 'Diesel' },\r\n  { key: 'Kero', field: 'kero', label: 'Kero' }\r\n];\r\n\r\nconst toNum = (v) => (v === '-' || v == null ? null : Number(v));\r\n\r\nfunction parseDateSafe(fecha) {\r\n  if (!fecha) return { d: new Date(0), label: '' };\r\n  const token = String(fecha).split(' ')[0];\r\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(token)) {\r\n    const [, m, day] = token.split('-');\r\n    return { d: new Date(token), label: `${day.padStart(2, '0')}-${m.padStart(2, '0')}` };\r\n  }\r\n  if (/^\\d{2}-\\d{2}-\\d{4}$/.test(token)) {\r\n    const [day, m, y] = token.split('-').map(s => s.padStart(2, '0'));\r\n    return { d: new Date(`${y}-${m}-${day}`), label: `${day}-${m}` };\r\n  }\r\n  const d = new Date(token);\r\n  const dd = String(d.getDate()).padStart(2, '0');\r\n  const mm = String(d.getMonth() + 1).padStart(2, '0');\r\n  return { d, label: `${dd}-${mm}` };\r\n}\r\n\r\nexport default function TrendChart({ dataRows = [], maxPoints = 7, height = 170 }) {\r\n  const [fuelKey, setFuelKey] = useState('G93');\r\n  const svgRef = useRef(null);\r\n\r\n  // Últimas 7 fechas, más reciente primero (izquierda)\r\n  const points = useMemo(() => {\r\n    const norm = dataRows\r\n      .map(r => {\r\n        const { d, label } = parseDateSafe(r.fecha);\r\n        return {\r\n          date: d,\r\n          label,\r\n          G93: toNum(r.g93),\r\n          G95: toNum(r.g95),\r\n          G97: toNum(r.g97),\r\n          Diesel: toNum(r.diesel),\r\n          Kero: toNum(r.kero)\r\n        };\r\n      })\r\n      .sort((a, b) => a.date - b.date)   // ascendente\r\n      .slice(-maxPoints)                 // últimas 7\r\n      .reverse();                        // más reciente a la izquierda\r\n    return norm;\r\n  }, [dataRows, maxPoints]);\r\n\r\n  const labels = points.map(p => p.label);\r\n  const values = points.map(p => p[fuelKey]);\r\n  const present = values.filter(v => v != null);\r\n  const aMin = present.length ? Math.min(...present) : 0;\r\n  const aMax = present.length ? Math.max(...present) : 1;\r\n\r\n  // Eje Y desde 0 con un pequeño margen superior\r\n  const yMin = 0;\r\n  const pad = Math.max(1, Math.round((aMax - aMin) * 0.05));\r\n  const yMax = aMax <= 0 ? 1 : aMax + pad;\r\n\r\n  // Layout y escalas\r\n  const width = 340;\r\n  const margin = { top: 10, right: 12, bottom: 28, left: 52 };\r\n  const innerW = width - margin.left - margin.right;\r\n  const innerH = height - margin.top - margin.bottom;\r\n\r\n  const xPos = (i) => {\r\n    if (labels.length <= 1) return margin.left + innerW / 2;\r\n    return margin.left + (i * innerW) / (labels.length - 1);\r\n  };\r\n  const yPos = (v) => {\r\n    if (v == null) return null;\r\n    const span = Math.max(1, (yMax - yMin));\r\n    const y = (v - yMin) / span;\r\n    return margin.top + innerH - y * innerH;\r\n  };\r\n\r\n  // Barras con gap para que la primera no pegue al borde\r\n  const colGap = 6;\r\n  const effW = innerW - colGap * Math.max(0, labels.length - 1);\r\n  const colWidth = labels.length > 0 ? Math.max(14, Math.min(32, effW / Math.max(1, labels.length))) : 18;\r\n\r\n  // Ticks Y\r\n  const gridY = 3;\r\n  const yTicks = Array.from({ length: gridY + 1 }, (_, k) => yMin + (k * (yMax - yMin)) / Math.max(1, gridY));\r\n\r\n  // Tooltip anclado a barra\r\n  const tipId = 'trend-tip';\r\n  const hlId = 'trend-hl';\r\n\r\n  const showTipAt = (evt, label, value, xCenter) => {\r\n    const tip = document.getElementById(tipId);\r\n    const hl = document.getElementById(hlId);\r\n    if (!tip || !hl) return;\r\n    tip.style.display = 'block';\r\n    tip.textContent = `${label} • ${Number(value).toLocaleString('es-CL')}`;\r\n    tip.style.left = `${evt.clientX + 8}px`;\r\n    tip.style.top = `${evt.clientY - 22}px`;\r\n    hl.setAttribute('x1', xCenter);\r\n    hl.setAttribute('x2', xCenter);\r\n    hl.setAttribute('y1', margin.top);\r\n    hl.setAttribute('y2', margin.top + innerH);\r\n    hl.style.display = 'block';\r\n  };\r\n\r\n  const hideTip = () => {\r\n    const tip = document.getElementById(tipId);\r\n    const hl = document.getElementById(hlId);\r\n    if (tip) tip.style.display = 'none';\r\n    if (hl) hl.style.display = 'none';\r\n  };\r\n\r\n  return (\r\n    <div style={{ minWidth: width, height, position: 'relative' }}>\r\n      {/* Tooltip absoluto */}\r\n      <div\r\n        id={tipId}\r\n        style={{\r\n          position: 'fixed',\r\n          zIndex: 9999,\r\n          display: 'none',\r\n          background: 'rgba(0,0,0,0.8)',\r\n          color: '#fff',\r\n          padding: '2px 6px',\r\n          borderRadius: 4,\r\n          fontSize: 11,\r\n          pointerEvents: 'none'\r\n        }}\r\n      />\r\n\r\n      {/* Header con filtro */}\r\n      <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 4, paddingLeft: 6 }}>\r\n        <div style={{ width: 8, height: 8, background: COLORS[fuelKey], borderRadius: 2 }} />\r\n        <span style={{ fontSize: 11, color: '#333' }}>Combustible:</span>\r\n        <select\r\n          value={fuelKey}\r\n          onChange={(e) => { hideTip(); setFuelKey(e.target.value); }}\r\n          style={{ fontSize: 11, padding: '2px 6px', borderRadius: 4, border: '1px solid #d0d0d0', background: '#fff', outline: 'none' }}\r\n        >\r\n          {FUEL_OPTIONS.map(f => (\r\n            <option key={f.key} value={f.key}>{f.label}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <svg ref={svgRef} width={width} height={height}>\r\n        {/* Línea vertical de guía */}\r\n        <line id={hlId} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"0\" stroke=\"rgba(0,0,0,0.08)\" strokeWidth=\"1\" style={{ display: 'none' }} />\r\n\r\n        {/* Grid Y y labels */}\r\n        {yTicks.map((t, idx) => {\r\n          const y = yPos(t);\r\n          return (\r\n            <g key={idx}>\r\n              <line x1={margin.left} x2={margin.left + innerW} y1={y} y2={y} stroke=\"rgba(0,0,0,0.08)\" />\r\n              <text x={margin.left - 6} y={y} textAnchor=\"end\" dominantBaseline=\"middle\" fontSize=\"10\">\r\n                {Math.round(t).toLocaleString('es-CL')}\r\n              </text>\r\n            </g>\r\n          );\r\n        })}\r\n\r\n        {/* Etiquetas X (más reciente a la izquierda) */}\r\n        {labels.map((lab, i) => (\r\n          <text key={i} x={xPos(i)} y={height - 6} textAnchor=\"middle\" fontSize=\"10\">{lab}</text>\r\n        ))}\r\n\r\n        {/* Barras con gap */}\r\n        {values.map((v, i) => {\r\n          const y = yPos(v);\r\n          const xCenter = xPos(i);\r\n          const x = xCenter - colWidth / 2 + i * (colGap / Math.max(1, labels.length)); // leve separación\r\n          const barH = v == null ? 0 : (margin.top + innerH - y);\r\n          return (\r\n            <rect\r\n              key={i}\r\n              x={x}\r\n              y={v == null ? (margin.top + innerH) : y}\r\n              width={colWidth}\r\n              height={barH}\r\n              fill={COLORS[fuelKey]}\r\n              rx=\"2\"\r\n              onMouseEnter={(e) => v != null && showTipAt(e, labels[i], v, xCenter)}\r\n              onMouseMove={(e) => v != null && showTipAt(e, labels[i], v, xCenter)}\r\n              onMouseLeave={hideTip}\r\n            />\r\n          );\r\n        })}\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}