{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e08f\\\\Desktop\\\\Proyectos\\\\Resumen\\\\mapa-v2\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useEffect } from 'react';\nimport './styles/globals.css';\nimport './styles/layout.css';\nimport './styles/markers.css';\nimport MapComponent from './components/MapComponent';\nimport FilterPanel from './components/FilterPanel';\nimport AlertPanel from './components/AlertPanel';\nimport StatisticsPanel from './components/StatisticsPanel';\nimport { REGION_COORDINATES, REGIONES_ORDENADAS } from './utils/constants';\nimport { useMapData } from './hooks/useMapData';\nimport { getDataBaseComp, getMercadoAlerta } from './services/apiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [sidebarVisible, setSidebarVisible] = useState(false);\n  const [rightPanelVisible, setRightPanelVisible] = useState(false);\n  const [alertPanelVisible, setAlertPanelVisible] = useState(false);\n  const [alertCount, setAlertCount] = useState(0);\n  const [selectedRegion, setSelectedRegion] = useState('Metropolitana de Santiago');\n  const [filteredMarkers, setFilteredMarkers] = useState([]);\n  const [filteredMarkersForMercado, setFilteredMarkersForMercado] = useState([]);\n  const [baseCompData, setBaseCompData] = useState([]);\n  const {\n    markers,\n    lastUpdateTime\n  } = useMapData();\n\n  // Estado para estaciones marcadas como \"Nivel 2 en Nivel 1\"\n  const [nivel2EnNivel1Stations, setNivel2EnNivel1Stations] = useState(() => {\n    try {\n      const saved = localStorage.getItem('nivel2EnNivel1Stations');\n      return saved ? JSON.parse(saved) : [];\n    } catch (err) {\n      console.error('Error loading nivel2EnNivel1Stations from localStorage:', err);\n      return [];\n    }\n  });\n  const regions = useMemo(() => {\n    const regionesConDatos = new Set(markers.map(m => m.Region));\n    return REGIONES_ORDENADAS.filter(region => regionesConDatos.has(region));\n  }, [markers]);\n  const regionMarkers = useMemo(() => {\n    return markers.filter(m => m.Region === selectedRegion);\n  }, [markers, selectedRegion]);\n\n  // ‚úÖ AGREGA ESTO (marcadores √∫nicos SOLO para el mapa):\n  const uniqueRegionMarkers = useMemo(() => {\n    const filtered = markers.filter(m => m.Region === selectedRegion);\n\n    // Deduplicar: mantener solo el m√°s reciente por estaci√≥n\n    const uniqueMap = new Map();\n    filtered.forEach(marker => {\n      const key = marker.pbl || marker.id || `${marker.lat}_${marker.lng}`;\n      const existing = uniqueMap.get(key);\n      if (!existing) {\n        uniqueMap.set(key, marker);\n      } else {\n        const existingDate = existing.fecha_aplicacion ? new Date(existing.fecha_aplicacion) : new Date(0);\n        const currentDate = marker.fecha_aplicacion ? new Date(marker.fecha_aplicacion) : new Date(0);\n        if (currentDate > existingDate) {\n          uniqueMap.set(key, marker);\n        }\n      }\n    });\n    const unique = Array.from(uniqueMap.values());\n    console.log(`üìç ${selectedRegion}: ${unique.length} estaciones √∫nicas de ${filtered.length} registros`);\n    return unique;\n  }, [markers, selectedRegion]);\n  useEffect(() => {\n    const loadIt = async () => {\n      try {\n        const data = await getDataBaseComp();\n        const final = (data === null || data === void 0 ? void 0 : data.bascomp) || (data === null || data === void 0 ? void 0 : data.base_comp) || (data === null || data === void 0 ? void 0 : data.data) || [];\n        setBaseCompData(final);\n      } catch (err) {\n        console.error('Error:', err);\n      }\n    };\n    loadIt();\n  }, []);\n\n  // Persistir nivel2EnNivel1Stations en localStorage\n  useEffect(() => {\n    try {\n      localStorage.setItem('nivel2EnNivel1Stations', JSON.stringify(nivel2EnNivel1Stations));\n    } catch (err) {\n      console.error('Error saving nivel2EnNivel1Stations to localStorage:', err);\n    }\n  }, [nivel2EnNivel1Stations]);\n  useEffect(() => {\n    const loadAlertCount = async () => {\n      try {\n        const alertas = await getMercadoAlerta();\n        const getStationCount = alerts => {\n          const estaciones = {};\n          alerts.forEach(a => {\n            estaciones[a.Nom_Eds || 'Sin nombre'] = true;\n          });\n          return Object.keys(estaciones).length;\n        };\n        const count = getStationCount(alertas);\n        setAlertCount(count);\n      } catch (err) {\n        console.error('Error al cargar alertas:', err);\n        setAlertCount(0);\n      }\n    };\n    loadAlertCount();\n    const interval = setInterval(loadAlertCount, 60000);\n    return () => clearInterval(interval);\n  }, []);\n  const handleFiltersChange = React.useCallback((filtered, filteredForMercado) => {\n    setFilteredMarkers(filtered); // ‚Üê √önicos para visualizar\n    setFilteredMarkersForMercado(filteredForMercado); // ‚Üê Hist√≥rico completo filtrado\n  }, []);\n  const handleStationSelect = station => {\n    if (station && window.leafletMap) {\n      // Change region if needed\n      if (station.region !== selectedRegion) {\n        setSelectedRegion(station.region);\n      }\n      // Center map on station with zoom\n      setTimeout(() => {\n        window.leafletMap.setView([station.lat, station.lng], 15);\n      }, 100);\n    }\n  };\n  const toggleSidebar = () => {\n    setSidebarVisible(!sidebarVisible);\n    setTimeout(() => {\n      if (window.leafletMap) {\n        window.leafletMap.invalidateSize();\n      }\n    }, 300);\n  };\n  const toggleRightPanel = () => {\n    setRightPanelVisible(!rightPanelVisible);\n    setTimeout(() => {\n      if (window.leafletMap) {\n        window.leafletMap.invalidateSize();\n      }\n    }, 300);\n  };\n  const toggleAlertPanel = () => {\n    setAlertPanelVisible(!alertPanelVisible);\n  };\n  const toggleNivel2EnNivel1 = stationId => {\n    setNivel2EnNivel1Stations(prev => {\n      if (prev.includes(stationId)) {\n        return prev.filter(id => id !== stationId);\n      } else {\n        return [...prev, stationId];\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navbar-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"navbar-title\",\n            children: \"S.I.M.E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-subtitle\",\n            children: [\"Region \", selectedRegion]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"last-update-time\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"update-label\",\n              children: \"\\xDAltima actualizaci\\xF3n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"update-time\",\n              children: lastUpdateTime ? lastUpdateTime.toLocaleTimeString('es-CL', {\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: false\n              }) : 'Cargando...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navbar-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"navbar-alert-btn\",\n            onClick: toggleAlertPanel,\n            \"aria-label\": \"Ver alertas de mercado\",\n            title: \"Alertas de mercado\",\n            children: [\"\\uD83D\\uDD14\", alertCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"alert-badge\",\n              children: alertCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${process.env.PUBLIC_URL}/iconos/aramco.jpg`,\n            alt: \"Aramco Logo\",\n            className: \"navbar-logo\",\n            onError: e => e.target.style.display = 'none'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-tabs-horizontal\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `vertical-tab-btn ${sidebarVisible ? 'active' : ''}`,\n        onClick: toggleSidebar,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vertical-tab-label\",\n          children: sidebarVisible ? 'OCULTAR FILTROS' : 'MOSTRAR FILTROS'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `vertical-tab-btn ${rightPanelVisible ? 'active' : ''}`,\n        onClick: toggleRightPanel,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vertical-tab-label\",\n          children: rightPanelVisible ? 'OCULTAR DATOS' : 'MOSTRAR DATOS'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: `sidebar ${!sidebarVisible ? 'hidden' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"sidebar-title\",\n          children: \"Filtros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Regi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedRegion,\n            onChange: e => setSelectedRegion(e.target.value),\n            children: regions.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: region,\n              children: region\n            }, region, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FilterPanel, {\n          markers: regionMarkers,\n          allMarkers: markers,\n          selectedRegion: selectedRegion,\n          onFiltersChange: handleFiltersChange,\n          onStationSelect: handleStationSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), (() => {\n        const markersToMap = filteredMarkers.length > 0 ? filteredMarkers : uniqueRegionMarkers;\n        console.log('üó∫Ô∏è MARKERS TO MAP:', {\n          filteredMarkersCount: filteredMarkers.length,\n          uniqueRegionMarkersCount: uniqueRegionMarkers.length,\n          markersToMapCount: markersToMap.length,\n          comunasInMap: [...new Set(markersToMap.map(m => m.Comuna))],\n          regionsInMap: [...new Set(markersToMap.map(m => m.Region))]\n        });\n        return null;\n      })(), /*#__PURE__*/_jsxDEV(MapComponent, {\n        selectedRegion: selectedRegion,\n        regionCenter: REGION_COORDINATES[selectedRegion],\n        markers: filteredMarkers.length > 0 ? filteredMarkers : uniqueRegionMarkers,\n        markersForMercado: filteredMarkers.length > 0 ? filteredMarkersForMercado : regionMarkers,\n        baseCompData: baseCompData,\n        onToggleSidebar: toggleSidebar,\n        onToggleRightPanel: toggleRightPanel,\n        sidebarVisible: sidebarVisible,\n        rightPanelVisible: rightPanelVisible,\n        nivel2EnNivel1Stations: nivel2EnNivel1Stations,\n        onToggleNivel2EnNivel1: toggleNivel2EnNivel1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: `right-panel ${!rightPanelVisible ? 'hidden' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(StatisticsPanel, {\n          markers: filteredMarkers.length > 0 ? filteredMarkers : uniqueRegionMarkers,\n          historicalMarkers: filteredMarkersForMercado.length > 0 ? filteredMarkersForMercado : regionMarkers,\n          allMarkers: markers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AlertPanel, {\n        isVisible: alertPanelVisible,\n        onClose: toggleAlertPanel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-version\",\n      children: \"V3.0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"VslwXVQANdWY86ELfY3wsyXh2ls=\", false, function () {\n  return [useMapData];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useMemo","useEffect","MapComponent","FilterPanel","AlertPanel","StatisticsPanel","REGION_COORDINATES","REGIONES_ORDENADAS","useMapData","getDataBaseComp","getMercadoAlerta","jsxDEV","_jsxDEV","App","_s","sidebarVisible","setSidebarVisible","rightPanelVisible","setRightPanelVisible","alertPanelVisible","setAlertPanelVisible","alertCount","setAlertCount","selectedRegion","setSelectedRegion","filteredMarkers","setFilteredMarkers","filteredMarkersForMercado","setFilteredMarkersForMercado","baseCompData","setBaseCompData","markers","lastUpdateTime","nivel2EnNivel1Stations","setNivel2EnNivel1Stations","saved","localStorage","getItem","JSON","parse","err","console","error","regions","regionesConDatos","Set","map","m","Region","filter","region","has","regionMarkers","uniqueRegionMarkers","filtered","uniqueMap","Map","forEach","marker","key","pbl","id","lat","lng","existing","get","set","existingDate","fecha_aplicacion","Date","currentDate","unique","Array","from","values","log","length","loadIt","data","final","bascomp","base_comp","setItem","stringify","loadAlertCount","alertas","getStationCount","alerts","estaciones","a","Nom_Eds","Object","keys","count","interval","setInterval","clearInterval","handleFiltersChange","useCallback","filteredForMercado","handleStationSelect","station","window","leafletMap","setTimeout","setView","toggleSidebar","invalidateSize","toggleRightPanel","toggleAlertPanel","toggleNivel2EnNivel1","stationId","prev","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","hour","minute","hour12","onClick","title","src","process","env","PUBLIC_URL","alt","onError","e","target","style","display","value","onChange","allMarkers","onFiltersChange","onStationSelect","markersToMap","filteredMarkersCount","uniqueRegionMarkersCount","markersToMapCount","comunasInMap","Comuna","regionsInMap","regionCenter","markersForMercado","onToggleSidebar","onToggleRightPanel","onToggleNivel2EnNivel1","historicalMarkers","isVisible","onClose","_c","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/App.js"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\r\nimport './styles/globals.css';\r\nimport './styles/layout.css';\r\nimport './styles/markers.css';\r\nimport MapComponent from './components/MapComponent';\r\nimport FilterPanel from './components/FilterPanel';\r\nimport AlertPanel from './components/AlertPanel';\r\nimport StatisticsPanel from './components/StatisticsPanel';\r\nimport { REGION_COORDINATES, REGIONES_ORDENADAS } from './utils/constants';\r\nimport { useMapData } from './hooks/useMapData';\r\nimport { getDataBaseComp, getMercadoAlerta } from './services/apiService';\r\n\r\nfunction App() {\r\n  const [sidebarVisible, setSidebarVisible] = useState(false);\r\n  const [rightPanelVisible, setRightPanelVisible] = useState(false);\r\n  const [alertPanelVisible, setAlertPanelVisible] = useState(false);\r\n  const [alertCount, setAlertCount] = useState(0);\r\n  const [selectedRegion, setSelectedRegion] = useState('Metropolitana de Santiago');\r\n  const [filteredMarkers, setFilteredMarkers] = useState([]);\r\n  const [filteredMarkersForMercado, setFilteredMarkersForMercado] = useState([]);\r\n  const [baseCompData, setBaseCompData] = useState([]);\r\n  const { markers, lastUpdateTime } = useMapData();\r\n\r\n  // Estado para estaciones marcadas como \"Nivel 2 en Nivel 1\"\r\n  const [nivel2EnNivel1Stations, setNivel2EnNivel1Stations] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem('nivel2EnNivel1Stations');\r\n      return saved ? JSON.parse(saved) : [];\r\n    } catch (err) {\r\n      console.error('Error loading nivel2EnNivel1Stations from localStorage:', err);\r\n      return [];\r\n    }\r\n  });\r\n\r\n  const regions = useMemo(() => {\r\n    const regionesConDatos = new Set(markers.map(m => m.Region));\r\n    return REGIONES_ORDENADAS.filter(region => regionesConDatos.has(region));\r\n  }, [markers]);\r\n\r\n  const regionMarkers = useMemo(() => {\r\n    return markers.filter(m => m.Region === selectedRegion);\r\n  }, [markers, selectedRegion]);\r\n\r\n  // ‚úÖ AGREGA ESTO (marcadores √∫nicos SOLO para el mapa):\r\n  const uniqueRegionMarkers = useMemo(() => {\r\n    const filtered = markers.filter(m => m.Region === selectedRegion);\r\n\r\n    // Deduplicar: mantener solo el m√°s reciente por estaci√≥n\r\n    const uniqueMap = new Map();\r\n\r\n    filtered.forEach(marker => {\r\n      const key = marker.pbl || marker.id || `${marker.lat}_${marker.lng}`;\r\n      const existing = uniqueMap.get(key);\r\n\r\n      if (!existing) {\r\n        uniqueMap.set(key, marker);\r\n      } else {\r\n        const existingDate = existing.fecha_aplicacion ? new Date(existing.fecha_aplicacion) : new Date(0);\r\n        const currentDate = marker.fecha_aplicacion ? new Date(marker.fecha_aplicacion) : new Date(0);\r\n\r\n        if (currentDate > existingDate) {\r\n          uniqueMap.set(key, marker);\r\n        }\r\n      }\r\n    });\r\n\r\n    const unique = Array.from(uniqueMap.values());\r\n    console.log(`üìç ${selectedRegion}: ${unique.length} estaciones √∫nicas de ${filtered.length} registros`);\r\n\r\n    return unique;\r\n  }, [markers, selectedRegion]);\r\n\r\n\r\n  useEffect(() => {\r\n    const loadIt = async () => {\r\n      try {\r\n        const data = await getDataBaseComp();\r\n        const final = data?.bascomp || data?.base_comp || data?.data || [];\r\n        setBaseCompData(final);\r\n      } catch (err) {\r\n        console.error('Error:', err);\r\n      }\r\n    };\r\n    loadIt();\r\n  }, []);\r\n\r\n  // Persistir nivel2EnNivel1Stations en localStorage\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('nivel2EnNivel1Stations', JSON.stringify(nivel2EnNivel1Stations));\r\n    } catch (err) {\r\n      console.error('Error saving nivel2EnNivel1Stations to localStorage:', err);\r\n    }\r\n  }, [nivel2EnNivel1Stations]);\r\n\r\n  useEffect(() => {\r\n    const loadAlertCount = async () => {\r\n      try {\r\n        const alertas = await getMercadoAlerta();\r\n        const getStationCount = (alerts) => {\r\n          const estaciones = {};\r\n          alerts.forEach(a => {\r\n            estaciones[a.Nom_Eds || 'Sin nombre'] = true;\r\n          });\r\n          return Object.keys(estaciones).length;\r\n        };\r\n        const count = getStationCount(alertas);\r\n        setAlertCount(count);\r\n      } catch (err) {\r\n        console.error('Error al cargar alertas:', err);\r\n        setAlertCount(0);\r\n      }\r\n    };\r\n    loadAlertCount();\r\n    const interval = setInterval(loadAlertCount, 60000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const handleFiltersChange = React.useCallback((filtered, filteredForMercado) => {\r\n    setFilteredMarkers(filtered); // ‚Üê √önicos para visualizar\r\n    setFilteredMarkersForMercado(filteredForMercado); // ‚Üê Hist√≥rico completo filtrado\r\n  }, []);\r\n\r\n  const handleStationSelect = (station) => {\r\n    if (station && window.leafletMap) {\r\n      // Change region if needed\r\n      if (station.region !== selectedRegion) {\r\n        setSelectedRegion(station.region);\r\n      }\r\n      // Center map on station with zoom\r\n      setTimeout(() => {\r\n        window.leafletMap.setView([station.lat, station.lng], 15);\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarVisible(!sidebarVisible);\r\n    setTimeout(() => {\r\n      if (window.leafletMap) {\r\n        window.leafletMap.invalidateSize();\r\n      }\r\n    }, 300);\r\n  };\r\n\r\n  const toggleRightPanel = () => {\r\n    setRightPanelVisible(!rightPanelVisible);\r\n    setTimeout(() => {\r\n      if (window.leafletMap) {\r\n        window.leafletMap.invalidateSize();\r\n      }\r\n    }, 300);\r\n  };\r\n\r\n  const toggleAlertPanel = () => {\r\n    setAlertPanelVisible(!alertPanelVisible);\r\n  };\r\n\r\n  const toggleNivel2EnNivel1 = (stationId) => {\r\n    setNivel2EnNivel1Stations(prev => {\r\n      if (prev.includes(stationId)) {\r\n        return prev.filter(id => id !== stationId);\r\n      } else {\r\n        return [...prev, stationId];\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      {/* ========== NAVBAR ========== */}\r\n      <nav className=\"navbar\">\r\n        <div className=\"navbar-container\">\r\n          <div className=\"navbar-left\">\r\n            <h1 className=\"navbar-title\">S.I.M.E</h1>\r\n            <span className=\"navbar-subtitle\">Region {selectedRegion}</span>\r\n            <div className=\"last-update-time\">\r\n              <span className=\"update-label\">√öltima actualizaci√≥n:</span>\r\n              <span className=\"update-time\">\r\n                {lastUpdateTime ? lastUpdateTime.toLocaleTimeString('es-CL', { hour: '2-digit', minute: '2-digit', hour12: false }) : 'Cargando...'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"navbar-right\">\r\n\r\n\r\n            <button\r\n              className=\"navbar-alert-btn\"\r\n              onClick={toggleAlertPanel}\r\n              aria-label=\"Ver alertas de mercado\"\r\n              title=\"Alertas de mercado\"\r\n            >\r\n              üîî\r\n              {alertCount > 0 && (\r\n                <span className=\"alert-badge\">{alertCount}</span>\r\n              )}\r\n            </button>\r\n\r\n            <img\r\n              src={`${process.env.PUBLIC_URL}/iconos/aramco.jpg`}\r\n              alt=\"Aramco Logo\"\r\n              className=\"navbar-logo\"\r\n              onError={(e) => e.target.style.display = 'none'}\r\n            />\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* ========== PESTA√ëAS HORIZONTALES (FUERA DEL NAV) ========== */}\r\n      <div className=\"panel-tabs-horizontal\">\r\n        <button\r\n          className={`vertical-tab-btn ${sidebarVisible ? 'active' : ''}`}\r\n          onClick={toggleSidebar}\r\n        >\r\n          <div className=\"vertical-tab-label\">\r\n            {sidebarVisible ? 'OCULTAR FILTROS' : 'MOSTRAR FILTROS'}\r\n          </div>\r\n        </button>\r\n\r\n        <button\r\n          className={`vertical-tab-btn ${rightPanelVisible ? 'active' : ''}`}\r\n          onClick={toggleRightPanel}\r\n        >\r\n          <div className=\"vertical-tab-label\">\r\n            {rightPanelVisible ? 'OCULTAR DATOS' : 'MOSTRAR DATOS'}\r\n          </div>\r\n        </button>\r\n      </div>\r\n\r\n\r\n      {/* ========== MAIN CONTAINER ========== */}\r\n      <div className=\"main-container\">\r\n        <aside className={`sidebar ${!sidebarVisible ? 'hidden' : ''}`}>\r\n          <h3 className=\"sidebar-title\">Filtros</h3>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Regi√≥n</label>\r\n            <select\r\n              value={selectedRegion}\r\n              onChange={(e) => setSelectedRegion(e.target.value)}\r\n            >\r\n              {regions.map(region => (\r\n                <option key={region} value={region}>\r\n                  {region}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <FilterPanel\r\n            markers={regionMarkers}\r\n            allMarkers={markers}\r\n            selectedRegion={selectedRegion}\r\n            onFiltersChange={handleFiltersChange}\r\n            onStationSelect={handleStationSelect}\r\n          />\r\n        </aside>\r\n\r\n        {(() => {\r\n          const markersToMap = filteredMarkers.length > 0 ? filteredMarkers : uniqueRegionMarkers;\r\n          console.log('üó∫Ô∏è MARKERS TO MAP:', {\r\n            filteredMarkersCount: filteredMarkers.length,\r\n            uniqueRegionMarkersCount: uniqueRegionMarkers.length,\r\n            markersToMapCount: markersToMap.length,\r\n            comunasInMap: [...new Set(markersToMap.map(m => m.Comuna))],\r\n            regionsInMap: [...new Set(markersToMap.map(m => m.Region))]\r\n          });\r\n          return null;\r\n        })()}\r\n\r\n        <MapComponent\r\n          selectedRegion={selectedRegion}\r\n          regionCenter={REGION_COORDINATES[selectedRegion]}\r\n          markers={filteredMarkers.length > 0 ? filteredMarkers : uniqueRegionMarkers}\r\n          markersForMercado={filteredMarkers.length > 0 ? filteredMarkersForMercado : regionMarkers}\r\n          baseCompData={baseCompData}\r\n          onToggleSidebar={toggleSidebar}\r\n          onToggleRightPanel={toggleRightPanel}\r\n          sidebarVisible={sidebarVisible}\r\n          rightPanelVisible={rightPanelVisible}\r\n          nivel2EnNivel1Stations={nivel2EnNivel1Stations}\r\n          onToggleNivel2EnNivel1={toggleNivel2EnNivel1}\r\n        />\r\n\r\n\r\n\r\n        <aside className={`right-panel ${!rightPanelVisible ? 'hidden' : ''}`}>\r\n          <StatisticsPanel\r\n            markers={filteredMarkers.length > 0 ? filteredMarkers : uniqueRegionMarkers}\r\n            historicalMarkers={filteredMarkersForMercado.length > 0 ? filteredMarkersForMercado : regionMarkers}\r\n            allMarkers={markers}\r\n          />\r\n        </aside>\r\n\r\n        <AlertPanel\r\n          isVisible={alertPanelVisible}\r\n          onClose={toggleAlertPanel}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"navbar-version\">V3.0</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}