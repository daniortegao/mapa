{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\e08f\\\\Desktop\\\\Proyectos\\\\Resumen\\\\mapa-v2\\\\src\\\\components\\\\StatisticsPanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState } from 'react';\nimport '../styles/statisticsPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StatisticsPanel = ({\n  markers\n}) => {\n  _s();\n  const [calculationMode, setCalculationMode] = useState('average'); // 'average' or 'median'\n\n  const stats = useMemo(() => {\n    if (!markers || markers.length === 0) return null;\n    const brands = {};\n    const fuels = ['precio_g93', 'precio_g95', 'precio_g97', 'precio_diesel', 'precio_kero'];\n    const fuelLabels = {\n      'precio_g93': '93',\n      'precio_g95': '95',\n      'precio_g97': '97',\n      'precio_diesel': 'Diesel',\n      'precio_kero': 'Kero'\n    };\n    const globalMinMax = {};\n    fuels.forEach(f => {\n      globalMinMax[f] = {\n        min: Infinity,\n        max: -Infinity,\n        minStation: null,\n        maxStation: null\n      };\n    });\n    markers.forEach(m => {\n      const brand = m.Marca || 'Otras';\n      if (!brands[brand]) {\n        brands[brand] = {\n          count: 0,\n          totals: {},\n          counts: {},\n          prices: {}\n        };\n        fuels.forEach(f => {\n          brands[brand].totals[f] = 0;\n          brands[brand].counts[f] = 0;\n          brands[brand].prices[f] = [];\n        });\n      }\n      brands[brand].count++;\n      fuels.forEach(f => {\n        // Handle different field names if necessary (based on markerUtils)\n        // markerUtils uses: precio_g93 || G93\n        let val = m[f];\n        if (val === undefined || val === null || val === '-') {\n          // Try capitalized\n          const cap = f.replace('precio_', '').replace('g', 'G').replace('d', 'D').replace('k', 'K');\n          val = m[cap];\n        }\n        const price = parseFloat(val);\n        if (!isNaN(price) && price > 0) {\n          brands[brand].totals[f] += price;\n          brands[brand].counts[f]++;\n          brands[brand].prices[f].push(price); // Store all prices for median\n\n          // Min/Max\n          if (price < globalMinMax[f].min) {\n            globalMinMax[f].min = price;\n            globalMinMax[f].minStation = m;\n          }\n          if (price > globalMinMax[f].max) {\n            globalMinMax[f].max = price;\n            globalMinMax[f].maxStation = m;\n          }\n        }\n      });\n    });\n\n    // Calculate Averages and Medians\n    const brandStats = Object.keys(brands).map(b => {\n      const avgs = {};\n      const medians = {};\n      fuels.forEach(f => {\n        // Average\n        avgs[f] = brands[b].counts[f] > 0 ? (brands[b].totals[f] / brands[b].counts[f]).toFixed(0) : '-';\n\n        // Median\n        const prices = brands[b].prices[f].sort((a, b) => a - b);\n        if (prices.length === 0) {\n          medians[f] = '-';\n        } else {\n          const mid = Math.floor(prices.length / 2);\n          if (prices.length % 2 !== 0) {\n            medians[f] = prices[mid];\n          } else {\n            medians[f] = Math.round((prices[mid - 1] + prices[mid]) / 2);\n          }\n        }\n      });\n      return {\n        brand: b,\n        count: brands[b].count,\n        averages: avgs,\n        medians: medians\n      };\n    });\n    return {\n      brandStats,\n      globalMinMax,\n      fuelLabels\n    };\n  }, [markers]);\n  if (!stats) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stats-empty\",\n    children: \"Sin datos para mostrar\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 24\n  }, this);\n  const {\n    brandStats,\n    globalMinMax,\n    fuelLabels\n  } = stats;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"statistics-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-header-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"stats-title\",\n          children: \"Resumen por Marca\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toggle-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `toggle-label ${calculationMode === 'average' ? 'active' : ''}`,\n            children: \"Prom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"switch\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: calculationMode === 'median',\n              onChange: () => setCalculationMode(prev => prev === 'average' ? 'median' : 'average')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"slider round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `toggle-label ${calculationMode === 'median' ? 'active' : ''}`,\n            children: \"Media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"stats-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Marca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"93\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"95\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"97\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Die\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: brandStats.map(b => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"brand-cell\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"brand-name\",\n                    children: b.brand\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"brand-count\",\n                    children: [\"(\", b.count, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: calculationMode === 'average' ? b.averages['precio_g93'] : b.medians['precio_g93']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: calculationMode === 'average' ? b.averages['precio_g95'] : b.medians['precio_g95']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: calculationMode === 'average' ? b.averages['precio_g97'] : b.medians['precio_g97']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: calculationMode === 'average' ? b.averages['precio_diesel'] : b.medians['precio_diesel']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 37\n              }, this)]\n            }, b.brand, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"stats-title\",\n        children: \"Rango de Precios (Min / Max)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), Object.keys(fuelLabels).map(key => {\n        var _info$minStation, _info$minStation2, _info$minStation3, _info$maxStation, _info$maxStation2, _info$maxStation3;\n        const info = globalMinMax[key];\n        if (info.min === Infinity) return null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price-range-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-range-header\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fuel-badge\",\n              children: fuelLabels[key]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-range-values\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-min\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"price-label\",\n                children: \"Min:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"price-value\",\n                children: [\"$\", info.min]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"station-info\",\n                children: [(_info$minStation = info.minStation) === null || _info$minStation === void 0 ? void 0 : _info$minStation.Marca, \" - \", ((_info$minStation2 = info.minStation) === null || _info$minStation2 === void 0 ? void 0 : _info$minStation2.direccion) || ((_info$minStation3 = info.minStation) === null || _info$minStation3 === void 0 ? void 0 : _info$minStation3.Comuna)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-max\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"price-label\",\n                children: \"Max:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"price-value\",\n                children: [\"$\", info.max]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"station-info\",\n                children: [(_info$maxStation = info.maxStation) === null || _info$maxStation === void 0 ? void 0 : _info$maxStation.Marca, \" - \", ((_info$maxStation2 = info.maxStation) === null || _info$maxStation2 === void 0 ? void 0 : _info$maxStation2.direccion) || ((_info$maxStation3 = info.maxStation) === null || _info$maxStation3 === void 0 ? void 0 : _info$maxStation3.Comuna)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n_s(StatisticsPanel, \"vMky3qirrwF47eLOX4logzaSGwI=\");\n_c = StatisticsPanel;\nexport default StatisticsPanel;\nvar _c;\n$RefreshReg$(_c, \"StatisticsPanel\");","map":{"version":3,"names":["React","useMemo","useState","jsxDEV","_jsxDEV","StatisticsPanel","markers","_s","calculationMode","setCalculationMode","stats","length","brands","fuels","fuelLabels","globalMinMax","forEach","f","min","Infinity","max","minStation","maxStation","m","brand","Marca","count","totals","counts","prices","val","undefined","cap","replace","price","parseFloat","isNaN","push","brandStats","Object","keys","map","b","avgs","medians","toFixed","sort","a","mid","Math","floor","round","averages","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","checked","onChange","prev","key","_info$minStation","_info$minStation2","_info$minStation3","_info$maxStation","_info$maxStation2","_info$maxStation3","info","direccion","Comuna","_c","$RefreshReg$"],"sources":["C:/Users/e08f/Desktop/Proyectos/Resumen/mapa-v2/src/components/StatisticsPanel.jsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport '../styles/statisticsPanel.css';\r\n\r\nconst StatisticsPanel = ({ markers }) => {\r\n    const [calculationMode, setCalculationMode] = useState('average'); // 'average' or 'median'\r\n\r\n    const stats = useMemo(() => {\r\n        if (!markers || markers.length === 0) return null;\r\n\r\n        const brands = {};\r\n        const fuels = ['precio_g93', 'precio_g95', 'precio_g97', 'precio_diesel', 'precio_kero'];\r\n        const fuelLabels = {\r\n            'precio_g93': '93',\r\n            'precio_g95': '95',\r\n            'precio_g97': '97',\r\n            'precio_diesel': 'Diesel',\r\n            'precio_kero': 'Kero'\r\n        };\r\n\r\n        const globalMinMax = {};\r\n        fuels.forEach(f => {\r\n            globalMinMax[f] = { min: Infinity, max: -Infinity, minStation: null, maxStation: null };\r\n        });\r\n\r\n        markers.forEach(m => {\r\n            const brand = m.Marca || 'Otras';\r\n            if (!brands[brand]) {\r\n                brands[brand] = { count: 0, totals: {}, counts: {}, prices: {} };\r\n                fuels.forEach(f => {\r\n                    brands[brand].totals[f] = 0;\r\n                    brands[brand].counts[f] = 0;\r\n                    brands[brand].prices[f] = [];\r\n                });\r\n            }\r\n            brands[brand].count++;\r\n\r\n            fuels.forEach(f => {\r\n                // Handle different field names if necessary (based on markerUtils)\r\n                // markerUtils uses: precio_g93 || G93\r\n                let val = m[f];\r\n                if (val === undefined || val === null || val === '-') {\r\n                    // Try capitalized\r\n                    const cap = f.replace('precio_', '').replace('g', 'G').replace('d', 'D').replace('k', 'K');\r\n                    val = m[cap];\r\n                }\r\n\r\n                const price = parseFloat(val);\r\n                if (!isNaN(price) && price > 0) {\r\n                    brands[brand].totals[f] += price;\r\n                    brands[brand].counts[f]++;\r\n                    brands[brand].prices[f].push(price); // Store all prices for median\r\n\r\n                    // Min/Max\r\n                    if (price < globalMinMax[f].min) {\r\n                        globalMinMax[f].min = price;\r\n                        globalMinMax[f].minStation = m;\r\n                    }\r\n                    if (price > globalMinMax[f].max) {\r\n                        globalMinMax[f].max = price;\r\n                        globalMinMax[f].maxStation = m;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        // Calculate Averages and Medians\r\n        const brandStats = Object.keys(brands).map(b => {\r\n            const avgs = {};\r\n            const medians = {};\r\n            fuels.forEach(f => {\r\n                // Average\r\n                avgs[f] = brands[b].counts[f] > 0 ? (brands[b].totals[f] / brands[b].counts[f]).toFixed(0) : '-';\r\n\r\n                // Median\r\n                const prices = brands[b].prices[f].sort((a, b) => a - b);\r\n                if (prices.length === 0) {\r\n                    medians[f] = '-';\r\n                } else {\r\n                    const mid = Math.floor(prices.length / 2);\r\n                    if (prices.length % 2 !== 0) {\r\n                        medians[f] = prices[mid];\r\n                    } else {\r\n                        medians[f] = Math.round((prices[mid - 1] + prices[mid]) / 2);\r\n                    }\r\n                }\r\n            });\r\n            return { brand: b, count: brands[b].count, averages: avgs, medians: medians };\r\n        });\r\n\r\n        return { brandStats, globalMinMax, fuelLabels };\r\n    }, [markers]);\r\n\r\n    if (!stats) return <div className=\"stats-empty\">Sin datos para mostrar</div>;\r\n\r\n    const { brandStats, globalMinMax, fuelLabels } = stats;\r\n\r\n    return (\r\n        <div className=\"statistics-panel\">\r\n            <div className=\"stats-section\">\r\n                <div className=\"stats-header-row\">\r\n                    <h4 className=\"stats-title\">Resumen por Marca</h4>\r\n                    <div className=\"toggle-container\">\r\n                        <span className={`toggle-label ${calculationMode === 'average' ? 'active' : ''}`}>Prom</span>\r\n                        <label className=\"switch\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={calculationMode === 'median'}\r\n                                onChange={() => setCalculationMode(prev => prev === 'average' ? 'median' : 'average')}\r\n                            />\r\n                            <span className=\"slider round\"></span>\r\n                        </label>\r\n                        <span className={`toggle-label ${calculationMode === 'median' ? 'active' : ''}`}>Media</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"stats-table-container\">\r\n                    <table className=\"stats-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Marca</th>\r\n                                <th>93</th>\r\n                                <th>95</th>\r\n                                <th>97</th>\r\n                                <th>Die</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {brandStats.map(b => (\r\n                                <tr key={b.brand}>\r\n                                    <td>\r\n                                        <div className=\"brand-cell\">\r\n                                            <span className=\"brand-name\">{b.brand}</span>\r\n                                            <span className=\"brand-count\">({b.count})</span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>{calculationMode === 'average' ? b.averages['precio_g93'] : b.medians['precio_g93']}</td>\r\n                                    <td>{calculationMode === 'average' ? b.averages['precio_g95'] : b.medians['precio_g95']}</td>\r\n                                    <td>{calculationMode === 'average' ? b.averages['precio_g97'] : b.medians['precio_g97']}</td>\r\n                                    <td>{calculationMode === 'average' ? b.averages['precio_diesel'] : b.medians['precio_diesel']}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"stats-section\">\r\n                <h4 className=\"stats-title\">Rango de Precios (Min / Max)</h4>\r\n                {Object.keys(fuelLabels).map(key => {\r\n                    const info = globalMinMax[key];\r\n                    if (info.min === Infinity) return null;\r\n                    return (\r\n                        <div key={key} className=\"price-range-card\">\r\n                            <div className=\"price-range-header\">\r\n                                <span className=\"fuel-badge\">{fuelLabels[key]}</span>\r\n                            </div>\r\n                            <div className=\"price-range-values\">\r\n                                <div className=\"price-min\">\r\n                                    <span className=\"price-label\">Min:</span>\r\n                                    <span className=\"price-value\">${info.min}</span>\r\n                                    <div className=\"station-info\">{info.minStation?.Marca} - {info.minStation?.direccion || info.minStation?.Comuna}</div>\r\n                                </div>\r\n                                <div className=\"price-max\">\r\n                                    <span className=\"price-label\">Max:</span>\r\n                                    <span className=\"price-value\">${info.max}</span>\r\n                                    <div className=\"station-info\">{info.maxStation?.Marca} - {info.maxStation?.direccion || info.maxStation?.Comuna}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StatisticsPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}